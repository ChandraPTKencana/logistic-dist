import ot from"./Header.9afe217e.js";import st from"./Plus.4743b2ce.js";import it from"./Eyes.b44fc1ab.js";import ut from"./Delete.b643154f.js";import _t from"./Void.5aa2a2ea.js";import dt from"./Signature.2a47c587.js";import pt from"./SignatureOff.44e1488d.js";import vt from"./PrinterEye.ecdd9a4b.js";import ct from"./Table2Column.333f685b.js";import mt from"./Image.637697a0.js";import ft from"./Line.608cfb17.js";import yt from"./Check.57fd5950.js";import kt from"./TableView.65785b3b.js";import{_ as bt}from"./PopupMini.vue.498d7ed1.js";import gt from"./trx_trp.0ee6c9ee.js";import xt from"./trx_trp_validasi.5d1eb9a4.js";import ht from"./trx_absen.51d86126.js";import{r as d,f as ne,g as wt,h as Dt,i as q,j as Pt,x as p,c as x,b as f,a as g,k as oe,v as $t,l as n,m as se,n as h,d as k,E as At,t as w,w as c,q as Ct,y as $,o as i,z as b,A as we,H as jt,G as Tt}from"./entry.e56859e6.js";import{u as m}from"./useUtils.2b82e95a.js";import{u as A}from"./useMyFetch.3d0a045f.js";import{u as De}from"./useDownload.174f4da2.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Search.7f824c2a.js";import"./Adjust.48e00cd9.js";import"./TableHeaderEye.bfb9ecf7.js";import"./Times.cab95edf.js";import"./ClearAll.009fd8f2.js";import"./client-only.7a002eb3.js";import"./ClearEach.1d03ff3e.js";import"./CaretLeftDoubleBold.b9f5664a.js";import"./CaretLeftBold.d633bfed.js";import"./CaretRightBold.6c52dec7.js";import"./CaretRightDoubleBold.248d094c.js";import"./Exclamation.bfc55307.js";import"./HeaderPopup.vue.f506d3a2.js";import"./WidthMiniList.vue.b440ad31.js";import"./WidthMiniPart.vue.f571fff1.js";import"./CaretTop.70371436.js";import"./CaretDown.f75b0f8f.js";const qt={class:"w-full h-full flex flex-col"},Ot={class:"w-full flex grow flex-col overflow-auto h-0"},St={class:"w-full flex justify-between flex-wrap"},Ut={class:"grow flex"},Nt={class:"m-1"},Mt=jt('<option value="pv_not_done">Undone</option><option value="pv_done">Done</option><option value="deleted">Trash</option><option value="all">All</option><option value="req_deleted">Req Delete</option>',5),Bt=[Mt],It=g("span",{class:"text-xs ml-1"}," Download ",-1),Ft=g("span",{class:"text-xs ml-1"}," With UJ ",-1),Et={class:"flex"},Vt=g("span",{class:"text-xs"},"Mode",-1),Rt={key:0},Kt={class:"w-full flex flex-col items-center justify-center"},zt={key:2,class:"text-xs"},Yt={key:0},Lt={key:0},Ht={class:"grow mb-5"},Gt=g("b",{class:"text-red-500"},"divalidasi",-1),Jt=g("b",null,"tidak dapat dibatalkan lagi",-1),Wt={class:"grow mb-5"},Ia={__name:"index",async setup(Zt){let z,ie;const{$moment:H}=Tt(),{pointFormat:Pe}=m();let ue=d({clearCheckBox:!1});const G=e=>e.deleted==1?"!bg-red-400":e.pvr_id>0&&e.req_deleted==1?"!bg-yellow-300":e.absen_not_done&&e.absen_not_done.length>0?"!bg-gray-300":e.pv_id>0?"!bg-blue-300":"",J=e=>(e.map(a=>{a.class_h=G(a)}),e),C=d("pv_not_done");ne(()=>C.value,e=>{be.value.map(a=>{let v=["deleted_by_username","deleted_at","deleted_reason","req_deleted_by_username","req_deleted_at","req_deleted_reason"].indexOf(a.key)>-1;return["all","deleted","req_deleted"].indexOf(e)>-1?v&&(a.tbl_show=1):v&&(a.tbl_show=0),a}),ve()},{immediate:!1});const y={};y._TimeZoneOffset=new Date().getTimezoneOffset(),y.sort="tanggal:desc";const _e=d({}),Y=d({from:"",to:""}),P=wt("token"),{data:$e}=([z,ie]=Dt(async()=>Ct(async()=>{p().loading_full=!0;let e=[];const[a,v]=await Promise.all([A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{filter_status:C},retry:0})]);return a.status.value!=="error"&&(e=J(a.data.value.data)),a.status.value==="error"?($().trigger(a.error),{trx_trps:e}):(p().loading_full=!1,{trx_trps:e})},"$pFLmKcrKj9")),z=await z,ie(),z),s=d($e.value.trx_trps||[]),de=d([]),N=d(!1),Ae=async()=>{p().loading_full=!0;const{data:e,error:a,status:v}=await A("/trx_load_cost_center",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{online_status:N.value},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(a);return}de.value=e.value.list_cost_center},W=d({field:"tanggal",by:"desc"}),o=d(-1),_=q(()=>s.value[o.value]),T=d({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),Z=()=>{y.like="";let e=JSON.parse(JSON.stringify(p()._tv.global_keyword));e!=""&&(y.like=`id:%${e}%,xto:%${e}%,jenis:%${e}%,pv_no:%${e}%,ticket_a_no:%${e}%,ticket_b_no:%${e}%,no_pol:%${e}%,supir:%${e}%,kernet:%${e}%,cost_center_code:%${e}%,cost_center_desc:%${e}%,pvr_no:%${e}%,tanggal:%${e}%,transition_target:%${e}%,uj_asst_opt:%${e}%`),y.sort="",W.value.field&&(y.sort=W.value.field+":"+W.value.by),y.date_from=Y.value.from?H(Y.value.from).format("YYYY-MM-DD"):"",y.date_to=Y.value.to?H(Y.value.to).format("YYYY-MM-DD"):"",y.filter_model=JSON.stringify(p()._tv.filter_model)},pe=async()=>{p().loading_full=!0,_e.value={},T.value.may_get_data=!1,y.page=T.value.page,y.page==1&&(s.value=[]),y.first_row&&delete y.first_row,y.page>1&&(y.first_row=JSON.stringify(s.value[0])),y.filter_status=C.value;const{data:e,error:a,status:v}=await A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,T.value.may_get_data=!0,v.value==="error"){$().trigger(a,_e);return}T.value.page==1?s.value=J(e.value.data):T.value.page>1&&(s.value=[...s.value,...J(e.value.data)]),e.value.data.length==0&&(T.value.is_last_record=!0),p()._tv.filter_box=!1},ve=()=>{o.value=-1,T.value.page=1,T.value.is_last_record=!1,Z(),pe()},I=d(1),Q=d(!1),ce=d(0),Ce=()=>{ce.value=0,I.value=-1,Q.value=!0},{display:O}=Pt(),F=d(!1),E=d(0),je=()=>{o.value==-1?O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=1,F.value=!0)},Te=()=>{o.value==-1?O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=0,F.value=!0)},qe=()=>{o.value==-1?O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=-1,F.value=!0)},X=d(!1),me=d(0),Oe=e=>{me.value=e,X.value=!0},ee=d(!1),fe=d({}),V=d(!1),M=d(""),Se=async()=>{V.value&&(V.value=!1)},Ue=()=>{o.value==-1?O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(M.value="",fe.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},V.value=!0)};ne(()=>M.value,e=>{e.trim().length>0?ee.value=!0:ee.value=!1},{immediate:!1});const Ne=async()=>{p().loading_full=!0;const e=new FormData;e.append("id",s.value[o.value].id),e.append("deleted_reason",M.value),e.append("_method","DELETE");const{data:a,error:v,status:j}=await A("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,j.value==="error"){$().trigger(v);return}let l={...s.value[o.value]};l.deleted=a.value.deleted,l.deleted_user=a.value.deleted_user,l.deleted_at=a.value.deleted_at,l.deleted_by=a.value.deleted_by,l.deleted_reason=a.value.deleted_reason,l.class_h=G(l),C.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,V.value=!1},te=d(!1),ye=d({}),R=d(!1),B=d(""),Me=async()=>{R.value&&(R.value=!1)},Be=()=>{o.value==-1?O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(B.value="",ye.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},R.value=!0)};ne(()=>B.value,e=>{e.trim().length>0?te.value=!0:te.value=!1},{immediate:!1});const Ie=async()=>{p().loading_full=!0;const e=new FormData;e.append("id",s.value[o.value].id),e.append("req_deleted_reason",B.value),e.append("_method","DELETE");const{data:a,error:v,status:j}=await A("/trx_trp_req_delete",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,j.value==="error"){$().trigger(v);return}let l={...s.value[o.value]};l.req_deleted=a.value.req_deleted,l.req_deleted_user=a.value.req_deleted_user,l.req_deleted_by=a.value.req_deleted_by,l.req_deleted_at=a.value.req_deleted_at,l.req_deleted_reason=a.value.req_deleted_reason,l.class_h=G(l),C.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,R.value=!1},ae=d([]),L=d(!1),Fe=async()=>{p().loading_full=!0;const e=new FormData;e.append("ids",JSON.stringify(ae.value)),e.append("_method","PUT");const{data:a,error:v,status:j}=await A("/trx_trp_validasis",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,j.value==="error"){$().trigger(v);return}L.value=!1,a.value.val_lists.forEach(l=>{let D=s.value.map(r=>r.id).indexOf(l.id);if(D>-1){let r=s.value[D];r.val=l.val,r.val_by=l.val_by,r.val_at=l.val_at,r.val1=l.val1,r.val1_by=l.val1_by,r.val1_at=l.val1_at,r.val2=l.val2,r.val2_by=l.val2_by,r.val2_at=l.val2_at,r.val3=l.val3,r.val3_by=l.val3_by,r.val3_at=l.val3_at,r.val4=l.val4,r.val4_by=l.val4_by,r.val4_at=l.val4_at,r.val5=l.val5,r.val5_by=l.val5_by,r.val5_at=l.val5_at,r.val6=l.val6,r.val6_by=l.val6_by,r.val6_at=l.val6_at,r.updated_at=l.updated_at,s.value.splice(D,1,{...r})}}),ue.value.clearCheckBox=!0},{printHtml:ke}=De(),Ee=async()=>{if(o.value==-1){O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:e,error:a,status:v}=await A("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(a);return}ke(e.value.html,318)},Ve=async()=>{if(o.value==-1){O({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:e,error:a,status:v}=await A("/trx_trp_preview_file_bt",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(a);return}ke(e.value.html,318)},Re=async()=>{p().loading_full=!0;const e=new FormData;e.append("online_status",N.value);const{data:a,error:v,status:j}=await A("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,j.value==="error"){$().trigger(v);return}a.value.forEach(l=>{let D=s.value.map(r=>r.id).indexOf(l.id);if(D!==-1){let r=s.value[D];r.pvr_id=l.pvr_id,r.pvr_no=l.pvr_no,r.pvr_total=l.pvr_total,r.pvr_had_detail=l.pvr_had_detail,r.updated_at=l.updated_at,s.value.splice(D,1,{...r})}}),O({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Ke=async()=>{p().loading_full=!0;const e=new FormData;e.append("online_status",N.value);const{data:a,error:v,status:j}=await A("/trx_trp_do_gen_pv",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,j.value==="error"){$().trigger(v);return}a.value.forEach(l=>{let D=s.value.map(r=>r.id).indexOf(l.id);if(D!==-1){let r=s.value[D];r.pv_id=l.pv_id,r.pv_no=l.pv_no,r.pv_total=l.pv_total,r.pv_datetime=l.pv_datetime,r.pv_complete=l.pv_complete,r.updated_at=l.updated_at,s.value.splice(D,1,{...r})}}),O({show:!0,status:"Success",message:"Generate Or Update PV Done"})},be=d([{key:"cb",label:"",checkbox:"id"},{key:"no",label:"No",isai:!0},{key:"val",label:"APP",childs:[{key:"val",label:"Kasir",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val1",label:"Mandor",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val2",label:"KTU/W",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val3",label:"Marketing",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val4",label:"Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val5",label:"SPV Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val6",label:"MGR Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]}]},{key:"id",label:"ID",filter_on:1,type:"number",sort:{priority:2,type:"desc"}},{key:"absen",label:"Absen"},{key:"tanggal",label:"U.Jalan Per",type:"date",dateformat:"DD-MM-Y",filter_on:1,sort:{priority:1,type:"desc"}},{key:"no_pol",label:"No Pol",freeze:1,filter_on:1,type:"string"},{key:"uj_xto",label:"Tujuan",filter_on:1,type:"string"},{key:"uj_asst_opt",label:"Info",filter_on:1,type:"select",select_item:["DENGAN KERNET","TANPA KERNET"]},{key:"uj_tipe",label:"Tipe",filter_on:1,type:"string"},{key:"jenis",label:"Jenis",filter_on:1,type:"select",select_item:["TBS","TBSK","CPO","PK","LAIN","TUNGGU"]},{key:"uj_harga",label:"Amount",class:" justify-end",filter_on:1,type:"number"},{key:"transition",label:"Peralihan",childs:[{key:"transition_type",label:"Type",type:"select",filter_on:1,select_item:["To","From"]},{key:"transition_target",label:"Target",type:"select",filter_on:1,select_item:p().list_pabrik}]},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"string",class:" justify-start",filter_on:1},{key:"cost_center_desc",label:"Desc",filter_on:1,type:"string"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No",filter_on:1,type:"string"},{key:"pvr_total",label:"Total",filter_on:1,type:"number"},{key:"pvr_had_detail",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"pv",label:"PV",childs:[{key:"pv_datetime",label:"Date",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"pv_no",label:"No",filter_on:1,type:"string"},{key:"pv_total",label:"Total",filter_on:1,type:"number"},{key:"pv_complete",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"supir",label:"Supir",filter_on:1,type:"string"},{key:"supir_rek_no",label:"No Rek Supir",filter_on:1,type:"string"},{key:"supir_rek_name",label:"Nama Rek Supir",filter_on:1,type:"string"},{key:"kernet",label:"Kernet",filter_on:1,type:"string"},{key:"kernet_rek_no",label:"No Rek Kernet",filter_on:1,type:"string"},{key:"kernet_rek_name",label:"Nama Rek Kernet",filter_on:1,type:"string"},{key:"payment_method_name",label:"Payment Method Name",type:"string"},{key:"received_payment",label:"Sudah Dibayarkan?",type:"string"},{key:"duitku_supir_disburseId",label:"ID Duitku Supir",type:"string"},{key:"duitku_supir_inv_res_desc",label:"Ket Inquery Duitku Supir",type:"string"},{key:"duitku_supir_trf_res_desc",label:"Ket Pengiriman Duitku Supir",type:"string"},{key:"duitku_kernet_disburseId",label:"ID Duitku Kernet",type:"string"},{key:"duitku_kernet_inv_res_desc",label:"Ket Inquery Duitku Kernet",type:"string"},{key:"duitku_kernet_trf_res_desc",label:"Ket Pengiriman Duitku Kernet",type:"string"},{key:"created_at",label:"Created At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"updated_at",label:"Updated At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"salary_paid",label:"Salary Paid",type:"string"},{key:"deleted_by_username",label:"Deleted By",tbl_show:0},{key:"deleted_at",label:"Deleted At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"deleted_reason",label:"Deleted Reason",tbl_show:0,type:"string",filter_on:1},{key:"req_deleted_by_username",label:"Req Deleted By",tbl_show:0},{key:"req_deleted_at",label:"Req Delete At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"req_deleted_reason",label:"Req Delete Reason",tbl_show:0,type:"string",filter_on:1}]),ze=q(()=>["pv_not_done","all"].indexOf(C.value)>-1&&m().checkPermission("trp_trx.create")),Ye=q(()=>o.value>-1&&m().checkPermission("trp_trx.view"));q(()=>o.value>-1&&[void 0,0].indexOf(_.value.deleted)>-1&&[void 0,0].indexOf(_.value.req_deleted)>-1&&[void 0,0].indexOf(_.value.val4)>-1&&[void 0,""].indexOf(_.value.pvr_id)>-1&&m().checkPermission("trp_trx.modify"));const Le=q(()=>o.value>-1&&[void 0,0].indexOf(_.value.deleted)>-1&&[void 0,0].indexOf(_.value.req_deleted)>-1&&([void 0,""].indexOf(_.value.pvr_id)>-1&&m().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2"])||_.value.val3==0&&m().checkPermissions(["trp_trx.val3"])||_.value.val4==0&&m().checkPermissions(["trp_trx.val4"])||_.value.val5==0&&m().checkPermissions(["trp_trx.val5"])||_.value.val6==0&&m().checkPermissions(["trp_trx.val6"]))),He=q(()=>o.value>-1&&[void 0,0].indexOf(_.value.deleted)>-1&&[void 0,0].indexOf(_.value.req_deleted)>-1&&(_.value.val1==1&&m().checkPermissions(["trp_trx.unval1"])||_.value.val2==1&&m().checkPermissions(["trp_trx.unval2"])||_.value.val3==1&&m().checkPermissions(["trp_trx.unval3"])||_.value.val4==1&&m().checkPermissions(["trp_trx.unval4"])||_.value.val5==1&&m().checkPermissions(["trp_trx.unval5"])||_.value.val6==1&&m().checkPermissions(["trp_trx.unval6"]))),Ge=q(()=>o.value>-1&&[void 0,0].indexOf(_.value.deleted)>-1&&[void 0,0].indexOf(_.value.req_deleted)>-1&&[void 0,""].indexOf(_.value.pvr_id)>-1&&m().checkPermission("trp_trx.remove")),Je=q(()=>o.value>-1&&[void 0,0].indexOf(_.value.deleted)>-1&&[void 0,0].indexOf(_.value.req_deleted)>-1&&_.value.pvr_id!=""&&m().checkPermission("trp_trx.request_remove")),We=q(()=>o.value>-1&&_.value.val==1&&m().checkPermission("trp_trx.preview_file")),Ze=q(()=>o.value>-1&&_.value.payment_method_id==2&&_.value.received_payment==1&&m().checkPermission("trp_trx.preview_file")),{downloadFile:ge,viewFile:Qt}=De(),Qe=async()=>{Z(),p().loading_full=!0,y.filter_status=C.value;const{data:e,error:a,status:v}=await A("/trx_trp/report_raw_excel",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(a);return}ge(e.value)},Xe=async()=>{Z(),p().loading_full=!0,y.filter_status=C.value;const{data:e,error:a,status:v}=await A("/trx_trp/report_excel_w_uj",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(a);return}ge(e.value)};return(e,a)=>{const v=ot,j=st,l=it,D=ut,r=_t,K=dt,et=pt,xe=vt,he=ct,tt=mt,S=ft,U=yt,at=kt,le=bt,lt=gt,rt=xt,nt=ht;return i(),x("div",qt,[f(v,{title:"List Transaction"}),g("div",Ot,[g("div",St,[g("div",Ut,[g("div",Nt,[oe(g("select",{class:"","onUpdate:modelValue":a[0]||(a[0]=t=>se(C)?C.value=t:null)},Bt,512),[[$t,n(C)]])]),n(ze)?(i(),x("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[1]||(a[1]=t=>Ce())},[f(j)])):h("",!0),n(Ye)?(i(),x("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[2]||(a[2]=t=>qe())},[f(l)])):h("",!0),n(Ge)?(i(),x("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[3]||(a[3]=t=>Ue())},[f(D)])):h("",!0),n(Je)?(i(),x("button",{key:3,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[4]||(a[4]=t=>Be())},[f(r)])):h("",!0),n(Le)?(i(),x("button",{key:4,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[5]||(a[5]=t=>je())},[f(K)])):h("",!0),n(He)?(i(),x("button",{key:5,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[6]||(a[6]=t=>Te())},[f(et)])):h("",!0),n(We)?(i(),x("button",{key:6,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[7]||(a[7]=t=>Ee())},[f(xe)])):h("",!0),n(Ze)?(i(),x("button",{key:7,type:"button",name:"button",class:"m-1 text-2xl",onClick:a[8]||(a[8]=t=>Ve())},[f(xe)])):h("",!0),g("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:a[9]||(a[9]=t=>Qe())},[f(he),k(),It]),g("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:a[10]||(a[10]=t=>Xe())},[f(he),k(),Ft]),n(ae).length>0&&("useUtils"in e?e.useUtils:n(m))().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2","trp_trx.val3","trp_trx.val4","trp_trx.val5","trp_trx.val6"])?(i(),x("button",{key:8,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap grid grid-cols-2",onClick:a[11]||(a[11]=t=>L.value=!0)},[f(K),f(K),f(K),f(K)])):h("",!0)]),g("div",Et,[("useUtils"in e?e.useUtils:n(m))().checkPermission("trp_trx.generate_pvr")?(i(),x("button",{key:0,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:a[12]||(a[12]=t=>Re())}," Gen/Update PVR ")):h("",!0),("useUtils"in e?e.useUtils:n(m))().checkPermission("trp_trx.generate_pv")?(i(),x("button",{key:1,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:a[13]||(a[13]=t=>Ke())}," Gen/Update PV ")):h("",!0),("useUtils"in e?e.useUtils:n(m))().checkPermissions(["trp_trx.generate_pvr","trp_trx.generate_pv","trp_trx.get_pv"])?(i(),x("div",{key:2,class:"m-1 card-border cursor-pointer",onClick:a[14]||(a[14]=t=>N.value=!n(N))},[Vt,k(" : "),g("span",{class:At(["font-bold",n(N)?"text-green-600":"text-red-600"])},w(n(N)?"ONLINE":"OFFLINE"),3)])):h("",!0)])]),f(at,{thead:n(be),selected:n(o),onSetSelected:a[15]||(a[15]=t=>o.value=t),tbody:n(s),fnCallData:pe,scrolling:n(T),onSetScrollingPage:a[16]||(a[16]=t=>n(T).page=t),onDoFilter:a[17]||(a[17]=t=>ve()),onSetCheckbox:a[18]||(a[18]=t=>ae.value=t),deep_state:n(ue)},{id:c(({item:t})=>[k(w(t.id),1),t.potongan&&t.potongan.length>0?(i(),x("span",Rt,"*")):h("",!0)]),absen:c(({item:t,index:u})=>[t.trx_absens&&t.trx_absens.length>0?(i(),b(tt,{key:0,class:"cursor-pointer",onClick:re=>Oe(u)},null,8,["onClick"])):h("",!0)]),val:c(({item:t})=>[t.val?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),val1:c(({item:t})=>[g("div",Kt,[t.val1?(i(),b(U,{key:1})):(i(),b(S,{key:0})),t.absen_not_done&&t.absen_not_done.length>0?(i(),x("div",zt,w(t.absen_not_done.join(",")),1)):h("",!0)])]),val2:c(({item:t})=>[t.val2?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),val3:c(({item:t})=>[t.val3?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),val4:c(({item:t})=>[t.val4?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),val5:c(({item:t})=>[t.val5?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),val6:c(({item:t})=>[t.val6?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),salary_paid:c(({item:t})=>{var u,re;return[k(w(t.salary_paid?n(H)((u=t.salary_paid)==null?void 0:u.period_end).format("MM-Y")+"["+((re=t.salary_paid)==null?void 0:re.period_part)+"]":""),1)]}),uj_xto:c(({item:t})=>{var u;return[k(w((u=t.uj)==null?void 0:u.xto),1)]}),uj_asst_opt:c(({item:t})=>{var u;return[k(w((u=t.uj)==null?void 0:u.asst_opt),1)]}),uj_tipe:c(({item:t})=>{var u;return[k(w((u=t.uj)==null?void 0:u.tipe),1)]}),uj_harga:c(({item:t})=>{var u;return[k(w(n(Pe)((u=t.uj)==null?void 0:u.harga)),1)]}),payment_method_name:c(({item:t})=>{var u;return[k(w((u=t.payment_method)==null?void 0:u.name),1)]}),received_payment:c(({item:t})=>[k(w(t.received_payment?"Ya":"Tidak"),1)]),pvr_had_detail:c(({item:t})=>[t.pvr_had_detail?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),pv_complete:c(({item:t})=>[t.pv_complete?(i(),b(U,{key:1})):(i(),b(S,{key:0}))]),deleted_by_username:c(({item:t})=>{var u;return[k(w((u=t.deleted_by)==null?void 0:u.username),1)]}),req_deleted_by_username:c(({item:t})=>{var u;return[k(w((u=t.req_deleted_by)==null?void 0:u.username),1)]}),supir:c(({item:t})=>[k(w(t.supir)+" ",1),t.potongan&&t.potongan.length>0&&t.potongan.map(u=>u.potongan_mst.employee_id).indexOf(t.supir_id)>-1?(i(),x("span",Yt," * ")):h("",!0)]),kernet:c(({item:t})=>[k(w(t.kernet)+" ",1),t.potongan&&t.potongan.length>0&&t.potongan.map(u=>u.potongan_mst.employee_id).indexOf(t.kernet_id)>-1?(i(),x("span",Lt," * ")):h("",!0)]),_:2},1032,["thead","selected","tbody","scrolling","deep_state"])]),f(le,{type:"delete",show:n(V),data:n(fe),fnClose:Se,fnConfirm:Ne,enabledOk:n(ee)},{footer:c(()=>[k(" Masukkan Alasan Penghapusan: "),g("div",Ht,[oe(g("textarea",{"onUpdate:modelValue":a[19]||(a[19]=t=>se(M)?M.value=t:null)},null,512),[[we,n(M)]])])]),_:1},8,["show","data","enabledOk"]),f(le,{type:"custome",show:n(L),fnClose:()=>L.value=!1,fnConfirm:Fe},{words:c(()=>[k(" Ticket akan "),Gt,k(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),f(le,{type:"custome",show:n(R),data:n(ye),fnClose:Me,fnConfirm:Ie,enabledOk:n(te)},{words:c(()=>[k(" Data akan diproses dan "),Jt,k(", yakin untuk melanjutkan ? ")]),footer:c(()=>[k(" Masukkan Alasan Permintaan Penghapusan: "),g("div",Wt,[oe(g("textarea",{"onUpdate:modelValue":a[20]||(a[20]=t=>se(B)?B.value=t:null)},null,512),[[we,n(B)]])])]),_:1},8,["show","data","enabledOk"]),f(lt,{show:n(Q),fnClose:()=>{Q.value=!1},fnLoadDBData:Ae,id:n(ce),p_data:n(s),list_cost_center:n(de),online_status:n(N)},null,8,["show","fnClose","id","p_data","list_cost_center","online_status"]),f(rt,{show:n(F),fnClose:()=>{F.value=!1},id:n(E),p_data:n(s),it_state:n(I),onSetID:a[21]||(a[21]=t=>E.value=t),onSetIndex:a[22]||(a[22]=t=>o.value=t)},null,8,["show","fnClose","id","p_data","it_state"]),f(nt,{show:n(X),fnClose:()=>{X.value=!1},index:n(me),p_data:n(s)},null,8,["show","fnClose","index","p_data"])])}}};export{Ia as default};
