import{_ as U}from"./Times.d78ccce2.js";import{_ as T}from"./_plugin-vue_export-helper.c27b6911.js";import{o as n,c as l,a as i,z as G,B as K,C as O,r as I,g as L,A as H,I as j,x as A,f as S,O as J,k as a,K as V,q as f,b as e,w as c,d as _,G as v,h as Q,v as X,t as Y,Q as tt,F as et,y as st}from"./entry.2ea6ee01.js";import{_ as ot}from"./nuxt-link.982d502c.js";import{_ as nt,a as rt}from"./Loading.vue.05ad6cc3.js";import{u as at}from"./useMyFetch.f9b2b7b2.js";import"./client-only.92f847e9.js";import"./Loading.8a2e7a76.js";const lt={name:"CiHamburgerMd"},it={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ct=i("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),_t=[ct];function ut(y,$,g,s,w,k){return n(),l("svg",it,_t)}const dt=T(lt,[["render",ut]]),pt={name:"MaterialSymbolsHome"},mt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ft=i("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),vt=[ft];function ht(y,$,g,s,w,k){return n(),l("svg",mt,vt)}const xt=T(pt,[["render",ht]]),$t={name:"PhMoney"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},wt=i("path",{fill:"currentColor",d:"M128 88a40 40 0 1 0 40 40a40 40 0 0 0-40-40m0 64a24 24 0 1 1 24-24a24 24 0 0 1-24 24m112-96H16a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h224a8 8 0 0 0 8-8V64a8 8 0 0 0-8-8m-46.35 128H62.35A56.78 56.78 0 0 0 24 145.65v-35.3A56.78 56.78 0 0 0 62.35 72h131.3A56.78 56.78 0 0 0 232 110.35v35.3A56.78 56.78 0 0 0 193.65 184M232 93.37A40.81 40.81 0 0 1 210.63 72H232ZM45.37 72A40.81 40.81 0 0 1 24 93.37V72ZM24 162.63A40.81 40.81 0 0 1 45.37 184H24ZM210.63 184A40.81 40.81 0 0 1 232 162.63V184Z"},null,-1),kt=[wt];function yt(y,$,g,s,w,k){return n(),l("svg",gt,kt)}const bt=T($t,[["render",yt]]),Ct={name:"GridiconsProduct"},Tt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Mt=i("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),At=[Mt];function St(y,$,g,s,w,k){return n(),l("svg",Tt,At)}const Bt=T(Ct,[["render",St]]),Pt={name:"MaterialSymbolsFileCopy"},It={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Vt=i("path",{fill:"currentColor",d:"M4 23q-.825 0-1.412-.587T2 21V7h2v14h11v2zm4-4q-.825 0-1.412-.587T6 17V3q0-.825.588-1.412T8 1h7l6 6v10q0 .825-.587 1.413T19 19zm6-11h5l-5-5z"},null,-1),qt=[Vt];function zt(y,$,g,s,w,k){return n(),l("svg",It,qt)}const Lt=T(Pt,[["render",zt]]),Ht={name:"MaterialSymbolsPerson"},jt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Et=i("path",{fill:"currentColor",d:"M12 12q-1.65 0-2.825-1.175T8 8q0-1.65 1.175-2.825T12 4q1.65 0 2.825 1.175T16 8q0 1.65-1.175 2.825T12 12m-8 8v-2.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13q1.65 0 3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20z"},null,-1),Rt=[Et];function Ft(y,$,g,s,w,k){return n(),l("svg",jt,Rt)}const Nt=T(Ht,[["render",Ft]]),Wt={class:"w-full h-full flex"},Zt={class:"relative h-full"},Dt={class:"h-full flex flex-col p-2 overflow-hidden"},Ut={class:"grow overflow-auto"},Gt={id:"panel",class:"h-7 text-xs relative"},Kt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},Ot={class:"grow flex flex-col overflow-hidden"},ne=G({__name:"default",setup(y){const $=K(),g=O(),s=I("");L(()=>g.path,(r,t)=>{let p=r.split("/");p=p.filter(C=>C!=""),s.value="/"+p.join("/")},{immediate:!0});const{logUserOut:w}=H(),{authenticated:k}=j(H()),{triggerSidebar:E}=A(),{is_sidebar_open:b}=j(A()),R=S("token"),F=async()=>{A().loading_full=!0;const{data:r,error:t,status:p}=await at("/logout",{method:"post",headers:{Authorization:`Bearer ${R.value}`,Accept:"application/json"},retry:0});if(A().loading_full=!1,p.value==="error"){st().trigger(t);return}else w()},N=S("username");S("fullname");const M=I(!1);window.addEventListener("click",r=>{var p;const t=r.target;t instanceof Element&&((p=document==null?void 0:document.getElementById("panel"))!=null&&p.contains(t)||(M.value=!1))}),window.addEventListener("resize",r=>{let t=document.getElementById("side_menu");t&&(window.innerWidth>=640?t.style.left="0px":b.value||(t.style.left="-150px"))}),J(()=>{let r=document.getElementById("side_menu");r&&(window.innerWidth>=640?r.style.left="0px":b.value||(r.style.left="-150px"))});const W=S("role"),h=r=>r.includes(W.value),d=r=>{s.value!=r&&(s.value=r,window.innerWidth<640&&(b.value=!1),$.push(r))},q=I(null);return L(()=>b.value,(r,t)=>{let p=150,C=300/150,m=null,o=q.value;m&&(clearInterval(m),m=null),o&&(m=setInterval(()=>{let x=parseFloat(o.style.left);r?x>=0&&m?(o.style.left="0px",clearInterval(m),m=null):o.style.left=x+C+"px":x<=p*-1&&m?(o.style.left="-150px",clearInterval(m),m=null):o.style.left=x-C+"px"},1))}),(r,t)=>{const p=U,C=dt,m=xt,o=ot,x=bt,B=Bt,z=Lt,P=Nt,Z=nt,D=rt;return n(),l(et,null,[i("div",Wt,[i("nav",{id:"side_menu",ref_key:"side_menu",ref:q,class:"bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:left-0 text-white z-10",style:{width:"320px"}},[i("div",Zt,[i("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:t[0]||(t[0]=u=>a(E)(!a(b)))},[a(b)?(n(),V(p,{key:0})):(n(),V(C,{key:1}))]),i("header",Dt,[i("ul",Ut,[i("li",{class:f(a(s)=="/"?"active":"")},[e(o,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=u=>d("/"))},{default:c(()=>[e(m,{class:"mr-1"}),_(" Dashboard ")]),_:1})],2),h(["SuperAdmin","Logistic","PabrikTransport"])?(n(),l("li",{key:0,class:f(a(s)=="/data_ujalan"?"active":"")},[e(o,{to:"/data_ujalan",class:"cursor-pointer",onClick:t[2]||(t[2]=u=>d("/data_ujalan"))},{default:c(()=>[e(x,{class:"mr-1"}),_(" U.Jalan ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikTransport"])?(n(),l("li",{key:1,class:f(a(s)=="/data_trx_trp"?"active":"")},[e(o,{to:"/data_trx_trp",class:"cursor-pointer",onClick:t[3]||(t[3]=u=>d("/data_trx_trp"))},{default:c(()=>[e(B,{class:"mr-1"}),_(" Trx Trp ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikTransport","Logistic"])?(n(),l("li",{key:2,class:f(a(s)=="/data_trx_trp/ticket"?"active":"")},[e(o,{to:"/data_trx_trp/ticket",class:"cursor-pointer",onClick:t[4]||(t[4]=u=>d("/data_trx_trp/ticket"))},{default:c(()=>[e(B,{class:"mr-1"}),_(" Trx Ticket ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikMandor"])?(n(),l("li",{key:3,class:f(a(s)=="/data_trx_trp/ritase"?"active":"")},[e(o,{to:"/data_trx_trp/ritase",class:"cursor-pointer",onClick:t[5]||(t[5]=u=>d("/data_trx_trp/ritase"))},{default:c(()=>[e(B,{class:"mr-1"}),_(" Trx Ritase ")]),_:1})],2)):v("",!0),h(["SuperAdmin","Logistic","PabrikTransport"])?(n(),l("li",{key:4,class:f(a(s)=="/data_standby"?"active":"")},[e(o,{to:"/data_standby",class:"cursor-pointer",onClick:t[6]||(t[6]=u=>d("/data_standby"))},{default:c(()=>[e(x,{class:"mr-1"}),_(" StandBy ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikTransport","PabrikMandor","Logistic"])?(n(),l("li",{key:5,class:f(a(s)=="/data_standby/trx"?"active":"")},[e(o,{to:"/data_standby/trx",class:"cursor-pointer",onClick:t[7]||(t[7]=u=>d("/data_standby/trx"))},{default:c(()=>[e(x,{class:"mr-1"}),_(" StandBy Trx ")]),_:1})],2)):v("",!0),h(["SuperAdmin","Logistic","Finance","Marketing","MIS","Accounting"])?(n(),l("li",{key:6,class:f(a(s)=="/report_trx_trp"?"active":"")},[e(o,{to:"/report_trx_trp",class:"cursor-pointer",onClick:t[8]||(t[8]=u=>d("/report_trx_trp"))},{default:c(()=>[e(z,{class:"mr-1"}),_(" Report Trp ")]),_:1})],2)):v("",!0),h(["SuperAdmin","Logistic"])?(n(),l("li",{key:7,class:f(a(s)=="/report/ramp"?"active":"")},[e(o,{to:"/report/ramp",class:"cursor-pointer",onClick:t[9]||(t[9]=u=>d("/report/ramp"))},{default:c(()=>[e(z,{class:"mr-1"}),_(" Report Ramp ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikTransport"])?(n(),l("li",{key:8,class:f(a(s)=="/vehicle"?"active":"")},[e(o,{to:"/vehicle",class:"cursor-pointer",onClick:t[10]||(t[10]=u=>d("/vehicle"))},{default:c(()=>[e(P,{class:"mr-1"}),_(" Kendaraan ")]),_:1})],2)):v("",!0),h(["SuperAdmin","PabrikTransport"])?(n(),l("li",{key:9,class:f(a(s)=="/employee"?"active":"")},[e(o,{to:"/employee",class:"cursor-pointer",onClick:t[11]||(t[11]=u=>d("/employee"))},{default:c(()=>[e(P,{class:"mr-1"}),_(" Pekerja ")]),_:1})],2)):v("",!0),h(["SuperAdmin"])?(n(),l("li",{key:10,class:f(a(s)=="/user"?"active":"")},[e(o,{to:"/user",class:"cursor-pointer",onClick:t[12]||(t[12]=u=>d("/user"))},{default:c(()=>[e(P,{class:"mr-1"}),_(" User ")]),_:1})],2)):v("",!0)]),i("div",Gt,[Q(i("div",Kt,[e(o,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:c(()=>[_(" Change Password ")]),_:1}),a(k)?(n(),V(o,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:F},{default:c(()=>[_(" Logout ")]),_:1})):v("",!0)],512),[[X,a(M)]]),i("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[13]||(t[13]=u=>M.value=!a(M))},Y(a(N)),1)])])])],512),i("div",Ot,[tt(r.$slots,"default")])]),e(Z),e(D)],64)}}});export{ne as default};
