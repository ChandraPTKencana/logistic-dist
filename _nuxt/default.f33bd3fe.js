import{_ as N}from"./Times.6f4aadd9.js";import{_ as w}from"./_plugin-vue_export-helper.c27b6911.js";import{o as r,c as u,a as e,G as F,I as G,J,r as S,g as K,H as B,O as V,D as C,u as T,B as p,x as n,T as y,b as o,w as c,d as _,M as q,n as O,v as W,t as Q,V as X,F as Y,E as Z}from"./entry.d2d88809.js";import{_ as tt}from"./nuxt-link.5330102b.js";import{_ as et,a as ot}from"./Loading.vue.e3b796f7.js";import{u as st}from"./useMyFetch.b699b9a2.js";import"./client-only.d07a5606.js";import"./Loading.b658b287.js";const nt={name:"CiHamburgerMd"},at={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},rt=e("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),lt=[rt];function it($,m,h,s,f,v){return r(),u("svg",at,lt)}const ct=w(nt,[["render",it]]),_t={name:"MaterialSymbolsHome"},ut={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},dt=e("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),pt=[dt];function mt($,m,h,s,f,v){return r(),u("svg",ut,pt)}const ht=w(_t,[["render",mt]]),ft={name:"MaterialSymbolsScale"},vt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},gt=e("path",{fill:"currentColor",d:"M2 22q0-2.775.738-4.737T4.624 14q1.15-1.3 2.575-2.013T10 11V8q-3.425-.425-5.712-2.113T2 2h20q0 2.2-2.287 3.888T14 8v3q1.375.275 2.8.988T19.375 14q1.15 1.3 1.888 3.263T22 22h-6v-2h3.875q-.45-3.8-2.838-5.5T12 12.8q-2.65 0-5.038 1.7T4.125 20H8v2zm10 0q-.825 0-1.412-.587T10 20q0-.425.163-.775t.437-.625q.6-.6 2.025-1.263T16 16q-.7 1.95-1.35 3.375T13.4 21.4q-.275.275-.625.438T12 22"},null,-1),$t=[gt];function wt($,m,h,s,f,v){return r(),u("svg",vt,$t)}const xt=w(ft,[["render",wt]]),kt={name:"GridiconsProduct"},Ct={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Tt=e("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),bt=[Tt];function yt($,m,h,s,f,v){return r(),u("svg",Ct,bt)}const qt=w(kt,[["render",yt]]),Mt={name:"MaterialSymbolsCreditCard"},St={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Bt=e("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.587 1.413T20 20zm0-8h16V8H4z"},null,-1),Vt=[Bt];function zt($,m,h,s,f,v){return r(),u("svg",St,Vt)}const Ht=w(Mt,[["render",zt]]),It={class:"w-full h-full flex"},At={class:"relative h-full"},Et={class:"h-full flex flex-col p-2 overflow-hidden"},Pt={class:"grow overflow-auto"},Ut={id:"panel",class:"h-7 text-xs relative"},jt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},Lt={class:"grow flex flex-col overflow-hidden"},Wt=F({__name:"default",setup($){const m=G(),h=J(),s=S("");K(()=>h.path,(a,t)=>{let l=a.split("/");s.value="/"+(l.length>1?l[1]:"")},{immediate:!0});const{logUserOut:f}=B(),{authenticated:v}=V(B()),{triggerSidebar:z}=C(),{is_sidebar_open:x}=V(C()),H=T("token"),I=async()=>{C().loading_full=!0;const{data:a,error:t,status:l}=await st("/logout",{method:"post",headers:{Authorization:`Bearer ${H.value}`,Accept:"application/json"},retry:0});if(C().loading_full=!1,l.value==="error"){Z().trigger(t);return}else f()},A=T("username");T("fullname");const k=S(!1);window.addEventListener("click",a=>{var l;const t=a.target;t instanceof Element&&((l=document==null?void 0:document.getElementById("panel"))!=null&&l.contains(t)||(k.value=!1))});const E=T("role"),M=a=>a.includes(E.value),g=a=>{s.value!=a&&(s.value=a,x.value=!1,m.push(a))};return(a,t)=>{const l=N,P=ct,U=ht,i=tt,b=xt,j=qt,L=Ht,R=et,D=ot;return r(),u(Y,null,[e("div",It,[e("nav",{class:p([n(x)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[e("div",At,[e("button",{class:"absolute left-full h-12 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0",onClick:t[0]||(t[0]=d=>n(z)(!n(x)))},[n(x)?(r(),y(l,{key:0})):(r(),y(P,{key:1}))]),e("header",Et,[e("ul",Pt,[e("li",{class:p(n(s)=="/"?"active":"")},[o(i,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=d=>g("/"))},{default:c(()=>[o(U,{class:"mr-1"}),_(" Dashboard ")]),_:1})],2),e("li",{class:p(n(s)=="/data_ujalan"?"active":"")},[o(i,{to:"/data_ujalan",class:"cursor-pointer",onClick:t[2]||(t[2]=d=>g("/data_ujalan"))},{default:c(()=>[o(b,{class:"mr-1"}),_(" U.Jalan ")]),_:1})],2),e("li",{class:p(n(s)=="/data_trx_trp"?"active":"")},[o(i,{to:"/data_trx_trp",class:"cursor-pointer",onClick:t[3]||(t[3]=d=>g("/data_trx_trp"))},{default:c(()=>[o(b,{class:"mr-1"}),_(" Trx Trp ")]),_:1})],2),e("li",{class:p(n(s)=="/report_trx_trp"?"active":"")},[o(i,{to:"/report_trx_trp",class:"cursor-pointer",onClick:t[4]||(t[4]=d=>g("/report_trx_trp"))},{default:c(()=>[o(b,{class:"mr-1"}),_(" Report Trp ")]),_:1})],2),M(["Super Admin","ClientPabrik","KTU","User"])?(r(),u("li",{key:0,class:p(n(s)=="/data_item"?"active":"")},[o(i,{to:"/data_item",class:"cursor-pointer",onClick:t[5]||(t[5]=d=>g("/data_item"))},{default:c(()=>[o(j,{class:"mr-1"}),_(" Item ")]),_:1})],2)):q("",!0),M(["Super Admin","ClientPabrik","KTU","User"])?(r(),u("li",{key:1,class:p(n(s)=="/data_transaksi"?"active":"")},[o(i,{to:"/data_transaksi",class:"cursor-pointer",onClick:t[6]||(t[6]=d=>g("/data_transaksi"))},{default:c(()=>[o(L,{class:"mr-1"}),_(" Transaksi ")]),_:1})],2)):q("",!0)]),e("div",Ut,[O(e("div",jt,[o(i,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:c(()=>[_(" Change Password ")]),_:1}),n(v)?(r(),y(i,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:I},{default:c(()=>[_(" Logout ")]),_:1})):q("",!0)],512),[[W,n(k)]]),e("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[7]||(t[7]=d=>k.value=!n(k))},Q(n(A)),1)])])])],2),e("div",Lt,[X(a.$slots,"default")])]),o(R),o(D)],64)}}});export{Wt as default};
