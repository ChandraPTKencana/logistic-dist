import g from"./Times.42ecdbb9.js";import{M as b,r as f,i as L,o as i,c,l,a as e,t as d,n as w,b as B,k as h,L as E,m as S,A as T,F as V,E as $}from"./entry.dc2b24f1.js";import"./_plugin-vue_export-helper.c27b6911.js";const A={class:"relative"},M={key:1,class:"card-border cursor-pointer !flex flex-row flex-nowrap"},N={class:"w-full"},q={class:""},D={class:"ml-1"},F={key:0,class:"w-full"},I={class:"fixed h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center"},j={class:"grow overflow-y-auto"},R=["onClick"],U={class:"p-1 flex flex-wrap items-center"},z={class:"w-full"},G={class:""},H={class:"ml-1"},J={key:0,class:"w-full"},Y=b({__name:"MiniList",props:{arr:{type:Array,required:!0,default:[]},list:{type:Array,required:!1,default:[]}},emits:["input","nextBlur"],setup(y,{emit:K}){const v=y,u=f(!1),_=f(null),r=f(null),n=f(""),m=()=>{setTimeout(()=>{u.value=!0},1),setTimeout(()=>{r!=null&&r.value&&(r==null||r.value.focus())},2)};window.addEventListener("click",o=>{var p;const t=o.target;t instanceof Element&&u.value&&((p=_.value)!=null&&p.contains(t)||(u.value=!1))});const k=L(()=>n.value!=""?v.arr.filter(o=>o.id.toString().toLowerCase().includes(n.value.toLowerCase())||o.name.toLowerCase().includes(n.value.toLowerCase())||o.title.toLowerCase().includes(n.value.toLowerCase())):v.arr),x={id:-1,name:"",title:""},a=f({...x}),C=o=>{a.value=o,u.value=!1};return(o,t)=>{const p=g;return i(),c("div",A,[l(a).id==-1?(i(),c("div",{key:0,class:"card-border cursor-pointer",onClick:t[0]||(t[0]=s=>m())})):(i(),c("div",M,[e("div",{class:"flex flex-wrap items-center grow",onClick:t[1]||(t[1]=s=>m())},[e("div",N,[e("span",q," #"+d(l(a).id),1),e("span",D,d(l(a).name),1)]),l(a).title?(i(),c("div",F,d(l(a).title||""),1)):w("",!0)]),e("button",{type:"button",onClick:t[2]||(t[2]=s=>a.value={...x})},[B(p)])])),h(e("div",I,[e("div",{ref_key:"search_box",ref:_,class:"w-[320px] h-full ring-1 ring-gray-500 p-2 bg-white flex flex-col"},[h(e("input",{ref_key:"search_words",ref:r,type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>S(n)?n.value=s:null),placeholder:"search",class:"max-h-8"},null,512),[[T,l(n)]]),e("div",j,[(i(!0),c(V,null,$(l(k),(s,O)=>(i(),c("div",{class:"mt-3 flex border-[1px] border-solid border-gray-400 cursor-pointer",onClick:P=>C(s)},[e("div",U,[e("div",z,[e("span",G," #"+d(s.id),1),e("span",H,d(s.name),1)]),s.title?(i(),c("div",J,d(s.title||""),1)):w("",!0)])],8,R))),256))])],512)],512),[[E,l(u)]])])}}});export{Y as default};
