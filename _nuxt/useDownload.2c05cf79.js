import{_ as J}from"./_plugin-vue_export-helper.c27b6911.js";import{o as c,c as u,a as e,r as H,f as W,H as G,L as U,g as P,J as Q,h as j,v as X,b as N,w as F,k as o,t as s,l as E,j as M,F as I,n as $,G as x,m as Z,s as tt,x as K,y as R,p as et,e as ot}from"./entry.8977e57e.js";import{_ as lt}from"./HeaderPopup.vue.d66b51d3.js";import{_ as at}from"./client-only.dab780ee.js";import{_ as it}from"./InputPointFormat.vue.f7e54857.js";import{u as st}from"./useUtils.100f5b4a.js";import{u as Y}from"./useMyFetch.f4c1c555.js";const _t={name:"MdiPrinterEye"},nt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},dt=e("path",{fill:"currentColor",d:"M9.8 21c-.2-.4-.5-.8-.6-1.3l-.4-.7H8v-5h5c1.2-.6 2.6-1 4-1c1.9 0 3.6.6 5 1.6V11c0-1.7-1.3-3-3-3H5c-1.7 0-3 1.3-3 3v6h4v4zM19 10c.6 0 1 .4 1 1s-.4 1-1 1s-1-.4-1-1s.4-1 1-1m-1-3H6V3h12zm-1 11c.6 0 1 .4 1 1s-.4 1-1 1s-1-.4-1-1s.4-1 1-1m0-3c-2.7 0-5.1 1.7-6 4c.9 2.3 3.3 4 6 4s5.1-1.7 6-4c-.9-2.3-3.3-4-6-4m0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5"},null,-1),rt=[dt];function ct(m,f,g,k,b,r){return c(),u("svg",nt,rt)}const Do=J(_t,[["render",ct]]);const _=m=>(et("data-v-b2599aea"),m=m(),ot(),m),ut={class:"box-fixed"},pt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},ft={class:"w-full flex flex-col items-center grow overflow-auto"},vt={class:"w-full flex flex-row flex-wrap"},mt={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},bt=_(()=>e("label",{for:""},"U.Jalan Per",-1)),wt={class:"grow"},kt={class:"text-red-500"},xt={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},ht=_(()=>e("label",{for:""},"Jenis",-1)),gt=_(()=>e("option",{value:"TBS"},"TBS",-1)),yt=_(()=>e("option",{value:"TBSK"},"TBSK",-1)),jt=_(()=>e("option",{value:"CPO"},"CPO",-1)),Tt=_(()=>e("option",{value:"PK"},"PK",-1)),Nt=[gt,yt,jt,Tt],Bt={class:"text-red-500"},St={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Dt=_(()=>e("label",{for:""},"Supir",-1)),Vt={class:"text-red-500"},Ct={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Pt=_(()=>e("label",{for:""},"Kernet",-1)),Mt={class:"text-red-500"},Ot={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},At=_(()=>e("label",{for:""},"No Pol",-1)),Ht={class:"text-red-500"},Ut={key:0,class:"w-full flex flex-wrap"},It={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},$t=_(()=>e("label",{for:""},"Tujuan",-1)),Kt={class:"text-red-500"},Ft={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Et=_(()=>e("label",{for:""},"Tipe",-1)),Lt=["value","selected"],qt={class:"text-red-500"},Rt={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Yt=_(()=>e("label",{for:""},"Total Dari U.Jalan",-1)),Jt={class:"card-border disabled"},zt={key:1,class:"w-full flex flex-wrap"},Wt={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},Gt=_(()=>e("label",{for:""},"PV",-1)),Qt={id:"pv"},Xt=["value"],Zt=_(()=>e("div",null,null,-1)),te={class:"text-red-500"},ee={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},oe=_(()=>e("label",{for:""},"Total Dari PV",-1)),le={class:"card-border disabled"},ae={key:2,class:"w-full flex flex-col flex-wrap p-1"},ie=_(()=>e("label",{for:""},"Tiket A",-1)),se={id:"ticket_a"},_e=["value"],ne={class:"text-red-500"},de={key:3,class:"w-full flex flex-wrap"},re={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},ce=_(()=>e("label",{for:""},"In At",-1)),ue={class:"card-border disabled"},pe={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},fe=_(()=>e("label",{for:""},"Out At",-1)),ve={class:"card-border disabled"},me={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},be=_(()=>e("label",{for:""},"Bruto",-1)),we={class:"card-border disabled"},ke={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},xe=_(()=>e("label",{for:""},"Tara",-1)),he={class:"card-border disabled"},ge={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ye=_(()=>e("label",{for:""},"Netto",-1)),je={class:"card-border disabled"},Te={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ne=_(()=>e("label",{for:""},"No Pol",-1)),Be={class:"card-border disabled"},Se={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},De=_(()=>e("label",{for:""},"Supir",-1)),Ve={class:"card-border disabled"},Ce={key:4,class:"w-full flex flex-col flex-wrap p-1"},Pe=_(()=>e("label",{for:""},"Tiket B",-1)),Me={id:"ticket_b"},Oe=["value"],Ae={class:"text-red-500"},He={key:5,class:"w-full flex flex-wrap"},Ue={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ie=_(()=>e("label",{for:""},"In At",-1)),$e={class:"card-border disabled"},Ke={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Fe=_(()=>e("label",{for:""},"Out At",-1)),Ee={class:"card-border disabled"},Le={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},qe=_(()=>e("label",{for:""},"Bruto ",-1)),Re={class:"card-border disabled"},Ye={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Je=_(()=>e("label",{for:""},"Tara ",-1)),ze={class:"card-border disabled"},We={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ge=_(()=>e("label",{for:""},"Netto ",-1)),Qe={class:"card-border disabled"},Xe={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ze=_(()=>e("label",{for:""},"No Pol",-1)),to={class:"card-border disabled"},eo={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},oo=_(()=>e("label",{for:""},"Supir",-1)),lo={class:"card-border disabled"},ao={key:6,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},io=_(()=>e("label",{for:""},"In At",-1)),so={class:"text-red-500"},_o={key:7,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},no=_(()=>e("label",{for:""},"Out At",-1)),ro={class:"text-red-500"},co={key:8,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},uo=_(()=>e("label",{for:""},"Bruto",-1)),po={class:"text-red-500"},fo={key:9,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},vo=_(()=>e("label",{for:""},"Tara",-1)),mo={class:"text-red-500"},bo={key:10,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},wo=_(()=>e("label",{for:""},"Netto",-1)),ko={class:"card-border disabled"},xo={class:"w-full flex items-center justify-end"},ho={__name:"trx_trp",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnLoadDBData:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},list_ujalan:{type:Array,required:!0,default:[]},list_ticket:{type:Array,required:!0,default:[]},list_pv:{type:Array,required:!0,default:[]}},setup(m){const f=m,{$moment:g}=tt(),{pointFormat:k}=st(),b={id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:""};let r={...b};const t=H({...b}),w=W("token"),n=H({}),T=()=>{t.value.ticket_a_no="",t.value.ticket_b_id="",t.value.ticket_b_bruto="",t.value.ticket_b_tara="",t.value.ticket_b_netto="",t.value.ticket_b_in_at="",t.value.ticket_b_out_at="",t.value.ticket_b_supir="-",t.value.ticket_b_no_pol="-",t.value.ticket_b_no=""},{display:y}=G(),L=async()=>{if(t.value.pv_no&&parseInt(t.value.pv_total)!=parseInt(t.value.amount)){y({show:!0,status:"Failed",message:"Total dari Ujalan dan PV tidak cocok"});return}K().loading_full=!0,n.value={};const a=new FormData;if(a.append("tanggal",g(t.value.tanggal).format("Y-MM-DD")),a.append("jenis",t.value.jenis),a.append("id_uj",t.value.id_uj),a.append("xto",t.value.xto),t.value.pv_no){let l=f.list_pv.filter(B=>B.VoucherNo==t.value.pv_no);l.length==0&&t.value.pv_no==r.pv_no?a.append("pv_id",r.pv_id):a.append("pv_id",l[0].VoucherID)}if(t.value.ticket_a_no){let l=D.value.filter(B=>B.TicketNo==t.value.ticket_a_no);l.length==0&&t.value.ticket_a_no==r.ticket_a_no?a.append("ticket_a_id",r.ticket_a_id):a.append("ticket_a_id",l[0].TicketID)}if(t.value.ticket_b_no){let l=A.value.filter(B=>B.TicketNo==t.value.ticket_b_no);l.length==0&&t.value.ticket_b_no==r.ticket_b_no?a.append("ticket_b_id",r.ticket_b_id):a.append("ticket_b_id",l[0].TicketID)}a.append("ticket_b_bruto",t.value.ticket_b_bruto),a.append("ticket_b_tara",t.value.ticket_b_tara),t.value.ticket_b_in_at&&a.append("ticket_b_in_at",g(t.value.ticket_b_in_at).format("Y-MM-DD HH:mm:ss")),t.value.ticket_b_out_at&&a.append("ticket_b_out_at",g(t.value.ticket_b_out_at).format("Y-MM-DD HH:mm:ss")),a.append("supir",t.value.supir),a.append("kernet",t.value.kernet),a.append("no_pol",t.value.no_pol);let i="post",d=f.id;d==0||(a.append("id",d),a.append("_method","PUT"));const{data:v,error:h,status:C}=await Y("/trx_trp",{method:i,headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:a,retry:0});if(K().loading_full=!1,C.value==="error"){R().trigger(h,n);return}if(f.id<=0)t.value.id=v.value.id,t.value.created_at=v.value.created_at,t.value.updated_at=v.value.updated_at,f.p_data.unshift(t.value);else{t.value.updated_at=v.value.updated_at;let l=f.p_data.map(B=>B.id).indexOf(f.id);l>=-1&&f.p_data.splice(l,1,{...t.value})}f.fnClose()},S=U(()=>{let a=t.value.jenis=="TBSK"?"TBS":t.value.jenis;return[...new Set(f.list_ujalan.filter(i=>i.jenis==a).map(i=>i.xto))]}),O=U(()=>{let a=t.value.jenis=="TBSK"?"TBS":t.value.jenis;return f.list_ujalan.filter(i=>i.xto==t.value.xto&&i.jenis==a)}),D=U(()=>{let a=[];return t.value.jenis=="CPO"?a=["CPO"]:t.value.jenis=="PK"?a=["KERNEL"]:a=["MTBS"],f.list_ticket.filter(i=>a.indexOf(i.ProductName)>-1)}),A=U(()=>f.list_ticket.filter(a=>["RTBS"].indexOf(a.ProductName)>-1));H(-1),H(!1),H({left:0,top:0});const V=U(()=>!1),z=async()=>{K().loading_full=!0;const{data:a,error:i,status:d}=await Y("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},params:{id:f.id},retry:0});if(K().loading_full=!1,d.value==="error"){R().trigger(i);return}t.value=a.value.data,r={...a.value.data}};P(()=>f.show,(a,i)=>{a==!0&&(t.value={...b},n.value={},f.id!=0&&z(),f.fnLoadDBData())},{immediate:!0});let p={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""};P(()=>t.value.ticket_a_no,(a,i)=>{if(a==""||a){if(a){let d=D.value.filter(v=>v.TicketNo==t.value.ticket_a_no);d.length>0?p={id:d[0].TicketID,bruto:d[0].Bruto,tara:d[0].Tara,netto:d[0].Netto,supir:d[0].NamaSupir,no_pol:d[0].VehicleNo,in_at:d[0].DateTimeIn,out_at:d[0].DateTimeOut}:t.value.ticket_a_no==r.ticket_a_no&&(p={id:r.ticket_a_id,bruto:r.ticket_a_bruto,tara:r.ticket_a_tara,netto:r.ticket_a_netto,supir:r.ticket_a_supir,no_pol:r.ticket_a_no_pol,in_at:r.ticket_a_in_at,out_at:r.ticket_a_out_at})}a==""&&(p={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),t.value.ticket_a_id=p.id,t.value.ticket_a_bruto=p.bruto,t.value.ticket_a_tara=p.tara,t.value.ticket_a_netto=p.netto,t.value.ticket_a_in_at=p.in_at,t.value.ticket_a_out_at=p.out_at,t.value.ticket_a_supir=p.supir,t.value.ticket_a_no_pol=p.no_pol}},{deep:!0,immediate:!0}),P(()=>t.value.ticket_b_no,(a,i)=>{if(["TBS","TBSK"].indexOf(t.value.jenis)>-1&&(a==""||a)){if(a){let d=A.value.filter(v=>v.TicketNo==t.value.ticket_b_no);d.length>0?p={id:d[0].TicketID,bruto:d[0].Bruto,tara:d[0].Tara,netto:d[0].Netto,supir:d[0].NamaSupir,no_pol:d[0].VehicleNo,in_at:d[0].DateTimeIn,out_at:d[0].DateTimeOut}:t.value.ticket_b_no==r.ticket_b_no&&(p={id:r.ticket_b_id,bruto:r.ticket_b_bruto,tara:r.ticket_b_tara,netto:r.ticket_b_netto,supir:r.ticket_b_supir,no_pol:r.ticket_b_no_pol,in_at:r.ticket_b_in_at,out_at:r.ticket_b_out_at})}a==""&&(p={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),t.value.ticket_b_id=p.id,t.value.ticket_b_bruto=p.bruto,t.value.ticket_b_tara=p.tara,t.value.ticket_b_netto=p.netto,t.value.ticket_b_in_at=p.in_at,t.value.ticket_b_out_at=p.out_at,t.value.ticket_b_supir=p.supir,t.value.ticket_b_no_pol=p.no_pol}},{deep:!0,immediate:!0}),P(()=>t.value.pv_no,(a,i)=>{let d=0;if(a==""||a){let v=f.list_pv.filter(h=>h.VoucherNo==t.value.pv_no);v.length>0?d=v[0].total_amount:t.value.pv_no==r.pv_no&&(d=r.pv_total),t.value.pv_total=d}},{deep:!0,immediate:!0});const q=(a,i)=>{let d=0,v="";if(a==""||a){let h=f.list_ujalan.filter(C=>C.id==t.value.id_uj);h.length>0?(d=h[0].harga,v=h[0].tipe):t.value.id_uj==r.id_uj&&(d=r.amount,v=r.type),t.value.tipe=v,t.value.amount=d}};return P(()=>t.value.xto,(a,i)=>{q(a)},{deep:!0,immediate:!0}),P(()=>t.value.id_uj,(a,i)=>{q(a)},{deep:!0,immediate:!0}),(a,i)=>{const d=lt,v=Q("vue-date-picker"),h=at,C=it;return j((c(),u("section",ut,[e("div",null,[N(d,{title:"Form Transaction",fn:m.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",pt,[e("div",ft,[e("div",vt,[e("div",mt,[bt,e("div",wt,[N(h,null,{default:F(()=>[N(v,{modelValue:o(t).tanggal,"onUpdate:modelValue":i[0]||(i[0]=l=>o(t).tanggal=l),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1})]),e("p",kt,s(o(n).tanggal),1)]),e("div",xt,[ht,j(e("select",{"onUpdate:modelValue":i[1]||(i[1]=l=>o(t).jenis=l),onChange:i[2]||(i[2]=l=>T())},Nt,544),[[E,o(t).jenis]]),e("p",Bt,s(o(n).jenis),1)]),e("div",St,[Dt,j(e("input",{"onUpdate:modelValue":i[3]||(i[3]=l=>o(t).supir=l)},null,512),[[M,o(t).supir]]),e("p",Vt,s(o(n).supir),1)]),e("div",Ct,[Pt,j(e("input",{"onUpdate:modelValue":i[4]||(i[4]=l=>o(t).kernet=l)},null,512),[[M,o(t).kernet]]),e("p",Mt,s(o(n).kernet),1)]),e("div",Ot,[At,j(e("input",{"onUpdate:modelValue":i[5]||(i[5]=l=>o(t).no_pol=l)},null,512),[[M,o(t).no_pol]]),e("p",Ht,s(o(n).no_pol),1)]),o(t).jenis!=""?(c(),u("div",Ut,[e("div",It,[$t,j(e("select",{"onUpdate:modelValue":i[6]||(i[6]=l=>o(t).xto=l)},[(c(!0),u(I,null,$(o(S),l=>(c(),u("option",null,s(l),1))),256))],512),[[E,o(t).xto]]),e("p",Kt,s(o(n).xto),1)]),e("div",Ft,[Et,j(e("select",{"onUpdate:modelValue":i[7]||(i[7]=l=>o(t).id_uj=l)},[(c(!0),u(I,null,$(o(O),l=>(c(),u("option",{value:l.id,selected:l.id==o(t).id_uj},s(l.tipe),9,Lt))),256))],512),[[E,o(t).id_uj]]),e("p",qt,s(o(n).id_uj),1)]),e("div",Rt,[Yt,e("div",Jt,s(o(k)(o(t).amount)),1)])])):x("",!0),o(t).jenis!=""?(c(),u("div",zt,[e("div",Wt,[Gt,j(e("input",{type:"text",list:"pv","onUpdate:modelValue":i[8]||(i[8]=l=>o(t).pv_no=l)},null,512),[[M,o(t).pv_no]]),e("datalist",Qt,[(c(!0),u(I,null,$(m.list_pv,l=>(c(),u("option",{value:l.VoucherNo},s(l.VoucherNo+"-"+l.AssociateName),9,Xt))),256))]),Zt,e("p",te,s(o(n).pv),1)]),e("div",ee,[oe,e("div",le,s(o(k)(o(t).pv_total)),1)])])):x("",!0),o(t).jenis!=""&&o(t).jenis!="TBSK"?(c(),u("div",ae,[ie,j(e("input",{type:"text",list:"ticket_a","onUpdate:modelValue":i[9]||(i[9]=l=>o(t).ticket_a_no=l)},null,512),[[M,o(t).ticket_a_no]]),e("datalist",se,[(c(!0),u(I,null,$(o(D),l=>(c(),u("option",{value:l.TicketNo},s(l.TicketNo+"-"+l.VehicleNo+"-"+l.NamaSupir),9,_e))),256))]),e("p",ne,s(o(n).ticket),1)])):x("",!0),o(t).jenis!=""&&o(t).jenis!="TBSK"?(c(),u("div",de,[e("div",re,[ce,e("div",ue,s(o(t).ticket_a_in_at?o(g)(o(t).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),e("div",pe,[fe,e("div",ve,s(o(t).ticket_a_out_at?o(g)(o(t).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),e("div",me,[be,e("div",we,s(o(t).ticket_a_bruto?o(k)(o(t).ticket_a_bruto):0),1)]),e("div",ke,[xe,e("div",he,s(o(t).ticket_a_tara?o(k)(o(t).ticket_a_tara):0),1)]),e("div",ge,[ye,e("div",je,s(o(t).ticket_a_bruto?o(k)(o(t).ticket_a_bruto-o(t).ticket_a_tara):0),1)]),e("div",Te,[Ne,e("div",Be,s(o(t).ticket_a_no_pol),1)]),e("div",Se,[De,e("div",Ve,s(o(t).ticket_a_supir),1)])])):x("",!0),["TBS","TBSK"].indexOf(o(t).jenis)>-1?(c(),u("div",Ce,[Pe,j(e("input",{type:"text",list:"ticket_b","onUpdate:modelValue":i[10]||(i[10]=l=>o(t).ticket_b_no=l)},null,512),[[M,o(t).ticket_b_no]]),e("datalist",Me,[(c(!0),u(I,null,$(o(A),l=>(c(),u("option",{value:l.TicketNo},s(l.TicketNo+"-"+l.VehicleNo+"-"+l.NamaSupir),9,Oe))),256))]),e("p",Ae,s(o(n).ticket),1)])):x("",!0),["TBS","TBSK"].indexOf(o(t).jenis)>-1?(c(),u("div",He,[e("div",Ue,[Ie,e("div",$e,s(o(t).ticket_b_in_at?o(g)(o(t).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),e("div",Ke,[Fe,e("div",Ee,s(o(t).ticket_b_out_at?o(g)(o(t).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),e("div",Le,[qe,e("div",Re,s(o(t).ticket_b_bruto?o(k)(o(t).ticket_b_bruto):0),1)]),e("div",Ye,[Je,e("div",ze,s(o(t).ticket_b_tara?o(k)(o(t).ticket_b_tara):0),1)]),e("div",We,[Ge,e("div",Qe,s(o(t).ticket_b_bruto?o(k)(o(t).ticket_b_bruto-o(t).ticket_b_tara):0),1)]),e("div",Xe,[Ze,e("div",to,s(o(t).ticket_b_no_pol),1)]),e("div",eo,[oo,e("div",lo,s(o(t).ticket_b_supir),1)])])):x("",!0),["CPO","PK"].indexOf(o(t).jenis)>-1?(c(),u("div",ao,[io,N(h,null,{default:F(()=>[N(v,{modelValue:o(t).ticket_b_in_at,"onUpdate:modelValue":i[11]||(i[11]=l=>o(t).ticket_b_in_at=l),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),e("p",so,s(o(n).ticket_b_in_at),1)])):x("",!0),["CPO","PK"].indexOf(o(t).jenis)>-1?(c(),u("div",_o,[no,N(h,null,{default:F(()=>[N(v,{modelValue:o(t).ticket_b_out_at,"onUpdate:modelValue":i[12]||(i[12]=l=>o(t).ticket_b_out_at=l),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),e("p",ro,s(o(n).ticket_b_out_at),1)])):x("",!0),["CPO","PK"].indexOf(o(t).jenis)>-1?(c(),u("div",co,[uo,e("div",null,[N(C,{class:"card-border p-1",type:"text",value:o(t).ticket_b_bruto||0,onInput:i[13]||(i[13]=l=>o(t).ticket_b_bruto=l),show:m.show},null,8,["value","show"])]),e("p",po,s(o(n).ticket_b_bruto),1)])):x("",!0),["CPO","PK"].indexOf(o(t).jenis)>-1?(c(),u("div",fo,[vo,e("div",null,[N(C,{class:"card-border p-1",type:"text",value:o(t).ticket_b_tara||0,onInput:i[14]||(i[14]=l=>o(t).ticket_b_tara=l),show:m.show},null,8,["value","show"])]),e("p",mo,s(o(n).ticket_b_tara),1)])):x("",!0),["CPO","PK"].indexOf(o(t).jenis)>-1?(c(),u("div",bo,[wo,e("div",ko,s(o(t).ticket_b_bruto?o(k)(o(t).ticket_b_bruto-o(t).ticket_b_tara):0),1)])):x("",!0)])]),e("div",xo,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:i[15]||(i[15]=l=>m.fnClose())}," Cancel "),o(V)?x("",!0):(c(),u("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:i[16]||(i[16]=Z(l=>L(),["prevent"]))}," Save "))])])])],512)),[[X,m.show]])}}},Vo=J(ho,[["__scopeId","data-v-b2599aea"]]),Co=()=>{const m=(t,w="",n=512)=>{const T=atob(t),y=[];for(let S=0;S<T.length;S+=n){const O=T.slice(S,S+n),D=new Array(O.length);for(let V=0;V<O.length;V++)D[V]=O.charCodeAt(V);const A=new Uint8Array(D);y.push(A)}return new Blob(y,{type:w})},f=(t,w="download")=>{w=t.filename||w;const n=m(t.data,t.contentType),T=URL.createObjectURL(n);var y=document.createElement("a");y.href=T,y.download=w,document.body.appendChild(y),y.click(),document.body.removeChild(y)},g=(t,w="download")=>{w=t.filename||w;const n=m(t.data,t.contentType),T=URL.createObjectURL(n);console.log(T),window.open(T,"_blank")},k=(t,w)=>{var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(w)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};let b=null;return{toBlob:m,downloadFile:f,viewFile:g,downloadTxt:k,printHtml:(t,w)=>{var n;document.getElementById("print_target")&&((n=document.getElementById("print_target"))==null||n.remove()),b=document.createElement("iframe"),b.setAttribute("id","print_target"),b.style.cssText=`width:${w}px`,b.style.cssText="height:inherit",document.body.appendChild(b),b.contentWindow&&(b.contentWindow.document.open(),b.contentWindow.document.write(t)),window.print(),window.onafterprint=function(){b!=null&&(document.body.removeChild(b),b=null),console.log("Printing has been completed or the print preview mode has been closed")}}}};export{Vo as _,Do as a,Co as u};
