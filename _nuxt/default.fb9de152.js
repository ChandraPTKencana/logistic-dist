import N from"./Times.67ba30c4.js";import W from"./Burger.8aa73afd.js";import J from"./Home.32c3cd89.js";import{_ as K}from"./nuxt-link.730223f4.js";import G from"./Money.675b9d9b.js";import H from"./Product.d8541f06.js";import O from"./FileCopy.a7935194.js";import X from"./Person.efa58c84.js";import{_ as Q}from"./Alert.vue.c39e2976.js";import{_ as Y}from"./Loading.vue.7c4f6e58.js";import{J as Z,h as ee,L as te,r as P,j as T,K as j,s as R,A as h,f as $,P as se,o as i,c as p,a as k,k as s,D as I,C as m,b as o,w as n,d as a,l as d,m as oe,M as re,t as le,X as ie,F as ne,B as ae}from"./entry.1da81da6.js";import{u as ue}from"./useMyFetch.bacdf18d.js";import{u as _}from"./useUtils.5bacb879.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./client-only.3cffc608.js";import"./Loading.ae377d89.js";const ce={class:"w-full h-full flex"},pe={class:"relative h-full"},me={class:"h-full flex flex-col p-2 overflow-hidden"},de={class:"grow overflow-auto"},_e={id:"panel",class:"h-7 text-xs relative"},fe={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ve={class:"grow flex flex-col overflow-hidden"},Ee=Z({__name:"default",setup(ke){const S=ee(),E=te(),l=P("");T(()=>E.path,(e,t)=>{let f=e.split("/");f=f.filter(g=>g!=""),l.value="/"+f.join("/")},{immediate:!0});const{logUserOut:A}=j(),{authenticated:V}=R(j()),{triggerSidebar:D}=h(),{is_sidebar_open:w}=R(h()),F=$("token"),L=async()=>{h().loading_full=!0;const{data:e,error:t,status:f}=await ue("/logout",{method:"post",headers:{Authorization:`Bearer ${F.value}`,Accept:"application/json"},retry:0});if(h().loading_full=!1,f.value==="error"){ae().trigger(t);return}else A()},M=$("username");$("fullname");const x=P(!1);window.addEventListener("click",e=>{var f;const t=e.target;t instanceof Element&&((f=document==null?void 0:document.getElementById("panel"))!=null&&f.contains(t)||(x.value=!1))}),window.addEventListener("resize",e=>{let t=document.getElementById("side_menu");t&&(window.innerWidth>=640?t.style.left="0px":w.value||(t.style.left="-150px"))}),se(()=>{let e=document.getElementById("side_menu");e&&(window.innerWidth>=640?e.style.left="0px":w.value||(e.style.left="-150px"))});const c=e=>{l.value!=e&&(l.value=e,window.innerWidth<640&&(w.value=!1),S.push(e))},B=P(null);return T(()=>w.value,(e,t)=>{let f=150,g=300/150,v=null,r=B.value;v&&(clearInterval(v),v=null),r&&(v=setInterval(()=>{let y=parseFloat(r.style.left);e?y>=0&&v?(r.style.left="0px",clearInterval(v),v=null):r.style.left=y+g+"px":y<=f*-1&&v?(r.style.left="-150px",clearInterval(v),v=null):r.style.left=y-g+"px"},1))}),(e,t)=>{const f=N,g=W,v=J,r=K,y=G,C=H,U=O,b=X,q=Q,z=Y;return i(),p(ne,null,[k("div",ce,[k("nav",{id:"side_menu",ref_key:"side_menu",ref:B,class:"bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:left-0 text-white z-10",style:{width:"320px"}},[k("div",pe,[k("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:t[0]||(t[0]=u=>s(D)(!s(w)))},[s(w)?(i(),I(f,{key:0})):(i(),I(g,{key:1}))]),k("header",me,[k("ul",de,[k("li",{class:m(s(l)=="/"?"active":"")},[o(r,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=u=>c("/"))},{default:n(()=>[o(v,{class:"mr-1"}),a(" Dashboard ")]),_:1})],2),("useUtils"in e?e.useUtils:s(_))().checkPermission("ujalan.views")?(i(),p("li",{key:0,class:m(s(l)=="/data_ujalan"?"active":"")},[o(r,{to:"/data_ujalan",class:"cursor-pointer",onClick:t[2]||(t[2]=u=>c("/data_ujalan"))},{default:n(()=>[o(y,{class:"mr-1"}),a(" U.Jalan ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("trp_trx.views")?(i(),p("li",{key:1,class:m(s(l)=="/data_trx_trp"?"active":"")},[o(r,{to:"/data_trx_trp",class:"cursor-pointer",onClick:t[3]||(t[3]=u=>c("/data_trx_trp"))},{default:n(()=>[o(C,{class:"mr-1"}),a(" Trx Trp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("trp_trx.ticket.views")?(i(),p("li",{key:2,class:m(s(l)=="/data_trx_trp/ticket"?"active":"")},[o(r,{to:"/data_trx_trp/ticket",class:"cursor-pointer",onClick:t[4]||(t[4]=u=>c("/data_trx_trp/ticket"))},{default:n(()=>[o(C,{class:"mr-1"}),a(" Trx Ticket ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("trp_trx.ritase.views")?(i(),p("li",{key:3,class:m(s(l)=="/data_trx_trp/ritase"?"active":"")},[o(r,{to:"/data_trx_trp/ritase",class:"cursor-pointer",onClick:t[5]||(t[5]=u=>c("/data_trx_trp/ritase"))},{default:n(()=>[o(C,{class:"mr-1"}),a(" Trx Ritase ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("standby_mst.views")?(i(),p("li",{key:4,class:m(s(l)=="/data_standby"?"active":"")},[o(r,{to:"/data_standby",class:"cursor-pointer",onClick:t[6]||(t[6]=u=>c("/data_standby"))},{default:n(()=>[o(y,{class:"mr-1"}),a(" StandBy ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("standby_trx.views")?(i(),p("li",{key:5,class:m(s(l)=="/data_standby/trx"?"active":"")},[o(r,{to:"/data_standby/trx",class:"cursor-pointer",onClick:t[7]||(t[7]=u=>c("/data_standby/trx"))},{default:n(()=>[o(y,{class:"mr-1"}),a(" StandBy Trx ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("trp_trx.report.views")?(i(),p("li",{key:6,class:m(s(l)=="/report_trx_trp"?"active":"")},[o(r,{to:"/report_trx_trp",class:"cursor-pointer",onClick:t[8]||(t[8]=u=>c("/report_trx_trp"))},{default:n(()=>[o(U,{class:"mr-1"}),a(" Report Trp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("report.ramp.views")?(i(),p("li",{key:7,class:m(s(l)=="/report/ramp"?"active":"")},[o(r,{to:"/report/ramp",class:"cursor-pointer",onClick:t[9]||(t[9]=u=>c("/report/ramp"))},{default:n(()=>[o(U,{class:"mr-1"}),a(" Report Ramp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("report.ast_n_driver.views")?(i(),p("li",{key:8,class:m(s(l)=="/report/ast_n_driver"?"active":"")},[o(r,{to:"/report/ast_n_driver",class:"cursor-pointer",onClick:t[10]||(t[10]=u=>c("/report/ast_n_driver"))},{default:n(()=>[o(U,{class:"mr-1"}),a(" Report Ast & Driver ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("development")?(i(),p("li",{key:9,class:m(s(l)=="/fin_payment_req"?"active":"")},[o(r,{to:"/fin_payment_req",class:"cursor-pointer",onClick:t[11]||(t[11]=u=>c("/fin_payment_req"))},{default:n(()=>[o(U,{class:"mr-1"}),a(" Payment Request ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("vehicle.views")?(i(),p("li",{key:10,class:m(s(l)=="/vehicle"?"active":"")},[o(r,{to:"/vehicle",class:"cursor-pointer",onClick:t[12]||(t[12]=u=>c("/vehicle"))},{default:n(()=>[o(b,{class:"mr-1"}),a(" Kendaraan ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("employee.views")?(i(),p("li",{key:11,class:m(s(l)=="/employee"?"active":"")},[o(r,{to:"/employee",class:"cursor-pointer",onClick:t[13]||(t[13]=u=>c("/employee"))},{default:n(()=>[o(b,{class:"mr-1"}),a(" Pekerja ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("user.views")?(i(),p("li",{key:12,class:m(s(l)=="/user"?"active":"")},[o(r,{to:"/user",class:"cursor-pointer",onClick:t[14]||(t[14]=u=>c("/user"))},{default:n(()=>[o(b,{class:"mr-1"}),a(" User ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:s(_))().checkPermission("permission_group.views")?(i(),p("li",{key:13,class:m(s(l)=="/permission_group"?"active":"")},[o(r,{to:"/permission_group",class:"cursor-pointer",onClick:t[15]||(t[15]=u=>c("/permission_group"))},{default:n(()=>[o(b,{class:"mr-1"}),a(" Permission Group ")]),_:1})],2)):d("",!0)]),k("div",_e,[oe(k("div",fe,[o(r,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:n(()=>[a(" Change Password ")]),_:1}),s(V)?(i(),I(r,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:L},{default:n(()=>[a(" Logout ")]),_:1})):d("",!0)],512),[[re,s(x)]]),k("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[16]||(t[16]=u=>x.value=!s(x))},le(s(M)),1)])])])],512),k("div",ve,[ie(e.$slots,"default")])]),o(q),o(z)],64)}}});export{Ee as default};
