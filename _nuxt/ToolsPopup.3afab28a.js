import{L as m,r as v,f as s,k as r,K as g,o,c as d,a as x,n as c}from"./entry.8d433bfd.js";import{_ as k}from"./_plugin-vue_export-helper.c27b6911.js";const O=m({__name:"ToolsPopup",props:{show:{type:Boolean,required:!0},coor:{type:Object,required:!1},fn:{type:Function,required:!0},only:{type:Object},except:{type:Object},data_index:{type:Number},data:{type:Array}},setup(e){const t=e,i=v(null),y=n=>{n.target.classList.contains("box")&&t.fn()};s(()=>t.coor,(n,l)=>{n&&i.value&&(i.value.style.left=n.left+"px",i.value.style.top=n.top+"px")},{immediate:!0,deep:!0});const u=()=>{let n=t.data[t.data_index];t.data.splice(t.data_index,1),t.data.splice(t.data_index-1,0,{...n}),t.fn()},f=()=>{let n=t.data[t.data_index];t.data.splice(t.data_index,1),t.data.splice(t.data_index+1,0,{...n}),t.fn()};return(n,l)=>r((o(),d("div",{class:"box",onClick:l[4]||(l[4]=a=>y(a))},[x("div",{ref_key:"popup",ref:i},[x("ul",null,[(!e.only||e.only.length==0||e.only.indexOf("insert")>-1)&&(!e.except||e.except.length==0||e.except.indexOf("insert")==-1)?(o(),d("li",{key:0,onClick:l[0]||(l[0]=a=>n.$emit("replyAct","insert"))},"Insert")):c("",!0),(!e.only||e.only.length==0||e.only.indexOf("delete")>-1)&&(!e.except||e.except.length==0||e.except.indexOf("delete")==-1)?(o(),d("li",{key:1,onClick:l[1]||(l[1]=a=>n.$emit("replyAct","delete"))},"Delete")):c("",!0),(!e.only||e.only.length==0||e.only.indexOf("moveTop")>-1)&&(!e.except||e.except.length==0||e.except.indexOf("moveTop")==-1)&&e.data_index!=0&&e.data.length>0?(o(),d("li",{key:2,onClick:l[2]||(l[2]=a=>u())},"Move Top")):c("",!0),(!e.only||e.only.length==0||e.only.indexOf("moveBottom")>-1)&&(!e.except||e.except.length==0||e.except.indexOf("moveBottom"))==-1&&e.data_index!=e.data.length-1&&e.data.length>0?(o(),d("li",{key:3,onClick:l[3]||(l[3]=a=>f())},"Move Bottom")):c("",!0)])],512)],512)),[[g,e.show]])}});const C=k(O,[["__scopeId","data-v-64f1a18c"]]);export{C as default};
