import{_ as oe}from"./Header.906a4f14.js";import{_ as se}from"./Plus.22473df7.js";import{_ as le}from"./Edit.f3618f76.js";import{_ as ae}from"./Delete.ca110e1d.js";import{_ as ie}from"./Signature.549016fe.js";import{u as _e,_ as ne,a as de}from"./useDownload.9ed1891b.js";import{u as wt,_ as ce}from"./useUtils.0499e5ee.js";import{_ as re,a as ue}from"./Check.6f177a22.js";import{_ as pe}from"./PopupMini.vue.543b41b7.js";import{_ as Nt}from"./HeaderPopup.vue.34b1c300.js";import{_ as St}from"./client-only.ade685a0.js";import{_ as fe}from"./InputPointFormat.vue.ce96e53f.js";import{r as g,f as pt,H as ht,L as _t,g as q,J as Vt,h as O,v as Mt,o as s,c as l,a as t,b as y,w as nt,k as e,t as i,l as dt,j as E,F as G,n as Z,G as _,m as bt,s as xt,x as A,y as R,p as Ot,e as Ht,D as ve,B as me,I as ke,d as he,q as ut,i as we,E as be,N as lt,O as xe}from"./entry.1eda34e7.js";import{u as L}from"./useMyFetch.c9dacd92.js";import{_ as It}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as $e}from"./Times.1d70f46d.js";const k=T=>(Ot("data-v-ea68143f"),T=T(),Ht(),T),ye={class:"box-fixed"},ge={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Te={class:"w-full flex flex-col items-center grow overflow-auto"},De={class:"w-full flex flex-row flex-wrap"},Ae={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ce=k(()=>t("label",{for:""},"U.Jalan Per",-1)),je={class:"grow"},Be={class:"text-red-500"},Pe={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ne=k(()=>t("label",{for:""},"Jenis",-1)),Se=k(()=>t("option",{value:"TBS"},"TBS",-1)),Ve=k(()=>t("option",{value:"TBSK"},"TBSK",-1)),Me=k(()=>t("option",{value:"CPO"},"CPO",-1)),Oe=k(()=>t("option",{value:"PK"},"PK",-1)),He=[Se,Ve,Me,Oe],Ie={class:"text-red-500"},Ue={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Fe=k(()=>t("label",{for:""},"Supir",-1)),Ye={class:"text-red-500"},Ke={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Re=k(()=>t("label",{for:""},"Kernet",-1)),Le={class:"text-red-500"},ze={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Je=k(()=>t("label",{for:""},"No Pol",-1)),qe={class:"text-red-500"},Ee={key:0,class:"w-full flex flex-wrap"},Ge={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Ze=k(()=>t("label",{for:""},"Tujuan",-1)),Qe={class:"text-red-500"},We={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Xe=k(()=>t("label",{for:""},"Tipe",-1)),to=["value","selected"],eo={class:"text-red-500"},oo={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},so=k(()=>t("label",{for:""},"Total Dari U.Jalan",-1)),lo={class:"card-border disabled"},ao={key:1,class:"w-full flex flex-wrap"},io={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},_o=k(()=>t("label",{for:""},"Cost Center Code",-1)),no=["disabled"],co={id:"cost_center"},ro=["value"],uo={class:"text-red-500"},po={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},fo=k(()=>t("label",{for:""},"Cost Center Desc",-1)),vo={class:"card-border disabled"},mo={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},ko=k(()=>t("label",{for:""},"PVR No",-1)),ho={class:"card-border disabled"},wo={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},bo=k(()=>t("label",{for:""},"PVR Total",-1)),xo={class:"card-border disabled"},$o={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},yo=k(()=>t("label",{for:""},"PV",-1)),go=["disabled"],To={id:"pv"},Do=["value"],Ao=k(()=>t("div",null,null,-1)),Co={class:"text-red-500"},jo={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Bo=k(()=>t("label",{for:""},"PV Amount",-1)),Po={class:"card-border disabled"},No={key:2,class:"w-full flex flex-col flex-wrap p-1"},So=k(()=>t("label",{for:""},"Tiket A",-1)),Vo={id:"ticket_a"},Mo=["value"],Oo={class:"text-red-500"},Ho={key:3,class:"w-full flex flex-wrap"},Io={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Uo=k(()=>t("label",{for:""},"In At",-1)),Fo={class:"card-border disabled"},Yo={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ko=k(()=>t("label",{for:""},"Out At",-1)),Ro={class:"card-border disabled"},Lo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},zo=k(()=>t("label",{for:""},"Bruto",-1)),Jo={class:"card-border disabled"},qo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Eo=k(()=>t("label",{for:""},"Tara",-1)),Go={class:"card-border disabled"},Zo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Qo=k(()=>t("label",{for:""},"Netto",-1)),Wo={class:"card-border disabled"},Xo={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ts=k(()=>t("label",{for:""},"No Pol",-1)),es={class:"card-border disabled"},os={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},ss=k(()=>t("label",{for:""},"Supir",-1)),ls={class:"card-border disabled"},as={key:4,class:"w-full flex flex-col flex-wrap p-1"},is=k(()=>t("label",{for:""},"Tiket B",-1)),_s={id:"ticket_b"},ns=["value"],ds={class:"text-red-500"},cs={key:5,class:"w-full flex flex-wrap"},rs={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},us=k(()=>t("label",{for:""},"In At",-1)),ps={class:"card-border disabled"},fs={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},vs=k(()=>t("label",{for:""},"Out At",-1)),ms={class:"card-border disabled"},ks={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},hs=k(()=>t("label",{for:""},"Bruto ",-1)),ws={class:"card-border disabled"},bs={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},xs=k(()=>t("label",{for:""},"Tara ",-1)),$s={class:"card-border disabled"},ys={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},gs=k(()=>t("label",{for:""},"Netto ",-1)),Ts={class:"card-border disabled"},Ds={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},As=k(()=>t("label",{for:""},"No Pol",-1)),Cs={class:"card-border disabled"},js={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Bs=k(()=>t("label",{for:""},"Supir",-1)),Ps={class:"card-border disabled"},Ns={key:6,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ss=k(()=>t("label",{for:""},"In At",-1)),Vs={class:"text-red-500"},Ms={key:7,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Os=k(()=>t("label",{for:""},"Out At",-1)),Hs={class:"text-red-500"},Is={key:8,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Us=k(()=>t("label",{for:""},"Bruto",-1)),Fs={class:"text-red-500"},Ys={key:9,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ks=k(()=>t("label",{for:""},"Tara",-1)),Rs={class:"text-red-500"},Ls={key:10,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},zs=k(()=>t("label",{for:""},"Netto",-1)),Js={class:"card-border disabled"},qs={class:"w-full flex items-center justify-end"},Es={__name:"trx_trp",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnLoadDBData:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},list_ujalan:{type:Array,required:!0,default:[]},list_ticket:{type:Array,required:!0,default:[]},list_pv:{type:Array,required:!0,default:[]},list_cost_center:{type:Array,required:!0,default:[]},online_status:{type:Boolean,required:!0,default:!1}},setup(T){const h=T,{$moment:C}=xt(),{pointFormat:x}=wt(),H={id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",cost_center_code:"",cost_center_desc:"",pvr_id:"",pvr_no:"",pvr_total:"",pvr_had_detail:""};let a={...H};const o=g({...H}),X=pt("token"),D=g({}),I=u=>{let p=u.target.value;if(!p){o.value.cost_center_code="",o.value.cost_center_desc="";return}h.list_cost_center.filter($=>$.CostCenter==p).length==0&&(o.value.cost_center_code="112",o.value.cost_center_desc="Transport")},w=u=>{o.value.ticket_a_no="",o.value.ticket_b_id="",o.value.ticket_b_bruto="",o.value.ticket_b_tara="",o.value.ticket_b_netto="",o.value.ticket_b_in_at="",o.value.ticket_b_out_at="",o.value.ticket_b_supir="-",o.value.ticket_b_no_pol="-",o.value.ticket_b_no="",h.fnLoadDBData(u.target.value)},{display:Y}=ht(),S=async()=>{if(o.value.pv_no&&parseInt(o.value.pv_total)!=parseInt(o.value.amount)){Y({show:!0,status:"Failed",message:"Total dari Ujalan dan PV tidak cocok"});return}A().loading_full=!0,D.value={};const u=new FormData;if(u.append("tanggal",C(o.value.tanggal).format("Y-MM-DD")),u.append("jenis",o.value.jenis),u.append("id_uj",o.value.id_uj),u.append("xto",o.value.xto),u.append("cost_center_code",o.value.cost_center_code),u.append("online_status",h.online_status),o.value.pv_no){let c=h.list_pv.filter(J=>J.VoucherNo==o.value.pv_no);c.length==0&&o.value.pv_no==a.pv_no?u.append("pv_id",a.pv_id):u.append("pv_id",c[0].VoucherID)}if(o.value.ticket_a_no){let c=V.value.filter(J=>J.TicketNo==o.value.ticket_a_no);c.length==0&&o.value.ticket_a_no==a.ticket_a_no?u.append("ticket_a_id",a.ticket_a_id):u.append("ticket_a_id",c[0].TicketID)}if(o.value.ticket_b_no){let c=Q.value.filter(J=>J.TicketNo==o.value.ticket_b_no);c.length==0&&o.value.ticket_b_no==a.ticket_b_no?u.append("ticket_b_id",a.ticket_b_id):u.append("ticket_b_id",c[0].TicketID)}u.append("ticket_b_bruto",o.value.ticket_b_bruto),u.append("ticket_b_tara",o.value.ticket_b_tara),o.value.ticket_b_in_at&&u.append("ticket_b_in_at",C(o.value.ticket_b_in_at).format("Y-MM-DD HH:mm:ss")),o.value.ticket_b_out_at&&u.append("ticket_b_out_at",C(o.value.ticket_b_out_at).format("Y-MM-DD HH:mm:ss")),u.append("supir",o.value.supir),u.append("kernet",o.value.kernet),u.append("no_pol",o.value.no_pol);let p="post",v=h.id;v==0||(u.append("id",v),u.append("_method","PUT"));const{data:$,error:M,status:K}=await L("/trx_trp",{method:p,headers:{Authorization:`Bearer ${X.value}`,Accept:"application/json"},body:u,retry:0});if(A().loading_full=!1,K.value==="error"){R().trigger(M,D);return}if(o.value.pvr_id=$.value.pvr_id,o.value.pvr_no=$.value.pvr_no,o.value.pvr_total=$.value.pvr_total,o.value.pvr_had_detail=$.value.pvr_had_detail,o.value.updated_at=$.value.updated_at,h.id<=0)o.value.id=$.value.id,o.value.created_at=$.value.created_at,h.p_data.unshift(o.value);else{let c=h.p_data.map(J=>J.id).indexOf(h.id);c>=-1&&h.p_data.splice(c,1,{...o.value})}h.fnClose()},tt=_t(()=>{let u=o.value.jenis=="TBSK"?"TBS":o.value.jenis;return[...new Set(h.list_ujalan.filter(p=>p.jenis==u).map(p=>p.xto))]}),et=_t(()=>{let u=o.value.jenis=="TBSK"?"TBS":o.value.jenis;return h.list_ujalan.filter(p=>p.xto==o.value.xto&&p.jenis==u)}),V=_t(()=>{let u=[];return o.value.jenis=="CPO"?u=["cpo"]:o.value.jenis=="PK"?u=["kernel"]:u=["mtbs"],h.list_ticket.filter(p=>u.indexOf(p.ProductName.toLowerCase())>-1)}),Q=_t(()=>{let u=[];return o.value.jenis=="TBS"?u=["rtbs"]:o.value.jenis=="TBSK"&&(u=["tbs"]),h.list_ticket.filter(p=>u.indexOf(p.ProductName.toLowerCase())>-1)}),j=_t(()=>!1),z=async()=>{A().loading_full=!0;const{data:u,error:p,status:v}=await L("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${X.value}`,Accept:"application/json"},params:{id:h.id},retry:0});if(A().loading_full=!1,v.value==="error"){R().trigger(p);return}o.value=u.value.data,a={...u.value.data},h.fnLoadDBData(o.value.jenis)};q(()=>h.show,(u,p)=>{u==!0&&(o.value={...H},D.value={},h.id!=0&&z())},{immediate:!0});let m={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""};q(()=>o.value.ticket_a_no,(u,p)=>{if(u==""||u){if(u){let v=V.value.filter($=>$.TicketNo==o.value.ticket_a_no);v.length>0?m={id:v[0].TicketID,bruto:v[0].Bruto,tara:v[0].Tara,netto:v[0].Netto,supir:v[0].NamaSupir,no_pol:v[0].VehicleNo,in_at:v[0].DateTimeIn,out_at:v[0].DateTimeOut}:o.value.ticket_a_no==a.ticket_a_no&&(m={id:a.ticket_a_id,bruto:a.ticket_a_bruto,tara:a.ticket_a_tara,netto:a.ticket_a_netto,supir:a.ticket_a_supir,no_pol:a.ticket_a_no_pol,in_at:a.ticket_a_in_at,out_at:a.ticket_a_out_at})}u==""&&(m={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),o.value.ticket_a_id=m.id,o.value.ticket_a_bruto=m.bruto,o.value.ticket_a_tara=m.tara,o.value.ticket_a_netto=m.netto,o.value.ticket_a_in_at=m.in_at,o.value.ticket_a_out_at=m.out_at,o.value.ticket_a_supir=m.supir,o.value.ticket_a_no_pol=m.no_pol}},{deep:!0,immediate:!0}),q(()=>o.value.ticket_b_no,(u,p)=>{if(["TBS","TBSK"].indexOf(o.value.jenis)>-1&&(u==""||u)){if(u){let v=Q.value.filter($=>$.TicketNo==o.value.ticket_b_no);v.length>0?m={id:v[0].TicketID,bruto:v[0].Bruto,tara:v[0].Tara,netto:v[0].Netto,supir:v[0].NamaSupir,no_pol:v[0].VehicleNo,in_at:v[0].DateTimeIn,out_at:v[0].DateTimeOut}:o.value.ticket_b_no==a.ticket_b_no&&(m={id:a.ticket_b_id,bruto:a.ticket_b_bruto,tara:a.ticket_b_tara,netto:a.ticket_b_netto,supir:a.ticket_b_supir,no_pol:a.ticket_b_no_pol,in_at:a.ticket_b_in_at,out_at:a.ticket_b_out_at})}u==""&&(m={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),o.value.ticket_b_id=m.id,o.value.ticket_b_bruto=m.bruto,o.value.ticket_b_tara=m.tara,o.value.ticket_b_netto=m.netto,o.value.ticket_b_in_at=m.in_at,o.value.ticket_b_out_at=m.out_at,o.value.ticket_b_supir=m.supir,o.value.ticket_b_no_pol=m.no_pol}},{deep:!0,immediate:!0}),q(()=>o.value.pv_no,(u,p)=>{let v=0;if(u==""||u){let $=h.list_pv.filter(M=>M.VoucherNo==o.value.pv_no);$.length>0?v=$[0].total_amount:o.value.pv_no==a.pv_no&&(v=a.pv_total),o.value.pv_total=v}},{deep:!0,immediate:!0}),q(()=>o.value.cost_center_code,(u,p)=>{let v="";if(u==""||u){let $=h.list_cost_center.filter(M=>M.CostCenter==o.value.cost_center_code);$.length>0?v=$[0].Description:o.value.cost_center_code==a.cost_center_code&&(v=a.cost_center_desc),o.value.cost_center_desc=v}},{deep:!0,immediate:!0});const B=(u,p)=>{let v=0,$="";if(u==""||u){let M=h.list_ujalan.filter(K=>K.id==o.value.id_uj);M.length>0?(v=M[0].harga,$=M[0].tipe):o.value.id_uj==a.id_uj&&(v=a.amount,$=a.type),o.value.tipe=$,o.value.amount=v}};return q(()=>o.value.xto,(u,p)=>{B(u)},{deep:!0,immediate:!0}),q(()=>o.value.id_uj,(u,p)=>{B(u)},{deep:!0,immediate:!0}),(u,p)=>{const v=Nt,$=Vt("vue-date-picker"),M=St,K=fe;return O((s(),l("section",ye,[t("div",null,[y(v,{title:"Form Transaction",fn:T.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",ge,[t("div",Te,[t("div",De,[t("div",Ae,[Ce,t("div",je,[y(M,null,{default:nt(()=>[y($,{modelValue:e(o).tanggal,"onUpdate:modelValue":p[0]||(p[0]=c=>e(o).tanggal=c),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1})]),t("p",Be,i(e(D).tanggal),1)]),t("div",Pe,[Ne,O(t("select",{"onUpdate:modelValue":p[1]||(p[1]=c=>e(o).jenis=c),onChange:p[2]||(p[2]=c=>w(c))},He,544),[[dt,e(o).jenis]]),t("p",Ie,i(e(D).jenis),1)]),t("div",Ue,[Fe,O(t("input",{"onUpdate:modelValue":p[3]||(p[3]=c=>e(o).supir=c)},null,512),[[E,e(o).supir]]),t("p",Ye,i(e(D).supir),1)]),t("div",Ke,[Re,O(t("input",{"onUpdate:modelValue":p[4]||(p[4]=c=>e(o).kernet=c)},null,512),[[E,e(o).kernet]]),t("p",Le,i(e(D).kernet),1)]),t("div",ze,[Je,O(t("input",{"onUpdate:modelValue":p[5]||(p[5]=c=>e(o).no_pol=c)},null,512),[[E,e(o).no_pol]]),t("p",qe,i(e(D).no_pol),1)]),e(o).jenis!=""?(s(),l("div",Ee,[t("div",Ge,[Ze,O(t("select",{"onUpdate:modelValue":p[6]||(p[6]=c=>e(o).xto=c)},[(s(!0),l(G,null,Z(e(tt),c=>(s(),l("option",null,i(c),1))),256))],512),[[dt,e(o).xto]]),t("p",Qe,i(e(D).xto),1)]),t("div",We,[Xe,O(t("select",{"onUpdate:modelValue":p[7]||(p[7]=c=>e(o).id_uj=c)},[(s(!0),l(G,null,Z(e(et),c=>(s(),l("option",{value:c.id,selected:c.id==e(o).id_uj},i(c.tipe),9,to))),256))],512),[[dt,e(o).id_uj]]),t("p",eo,i(e(D).id_uj),1)]),t("div",oo,[so,t("div",lo,i(e(x)(e(o).amount)),1)])])):_("",!0),e(o).jenis!=""?(s(),l("div",ao,[t("div",io,[_o,O(t("input",{list:"cost_center","onUpdate:modelValue":p[8]||(p[8]=c=>e(o).cost_center_code=c),onBlur:p[9]||(p[9]=c=>I(c)),disabled:e(o).pvr_no!=""},null,40,no),[[E,e(o).cost_center_code]]),t("datalist",co,[(s(!0),l(G,null,Z(T.list_cost_center,c=>(s(),l("option",{value:c.CostCenter},i(c.CostCenter+"-"+c.Description),9,ro))),256))]),t("p",uo,i(e(D).cost_center_code),1)]),t("div",po,[fo,t("div",vo,i(e(o).cost_center_desc),1)]),t("div",mo,[ko,t("div",ho,i(e(o).pvr_no),1)]),t("div",wo,[bo,t("div",xo,i(e(o).pvr_total),1)]),t("div",$o,[yo,O(t("input",{type:"text",list:"pv","onUpdate:modelValue":p[10]||(p[10]=c=>e(o).pv_no=c),disabled:e(o).pvr_no!=""},null,8,go),[[E,e(o).pv_no]]),t("datalist",To,[(s(!0),l(G,null,Z(T.list_pv,c=>(s(),l("option",{value:c.VoucherNo},i(c.VoucherNo+"-"+c.AssociateName),9,Do))),256))]),Ao,t("p",Co,i(e(D).pv),1)]),t("div",jo,[Bo,t("div",Po,i(e(x)(e(o).pv_total)),1)])])):_("",!0),e(o).jenis!=""&&e(o).jenis!="TBSK"?(s(),l("div",No,[So,O(t("input",{type:"text",list:"ticket_a","onUpdate:modelValue":p[11]||(p[11]=c=>e(o).ticket_a_no=c)},null,512),[[E,e(o).ticket_a_no]]),t("datalist",Vo,[(s(!0),l(G,null,Z(e(V),c=>(s(),l("option",{value:c.TicketNo},i(c.TicketNo+"-"+c.VehicleNo+"-"+c.NamaSupir),9,Mo))),256))]),t("p",Oo,i(e(D).ticket),1)])):_("",!0),e(o).jenis!=""&&e(o).jenis!="TBSK"?(s(),l("div",Ho,[t("div",Io,[Uo,t("div",Fo,i(e(o).ticket_a_in_at?e(C)(e(o).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",Yo,[Ko,t("div",Ro,i(e(o).ticket_a_out_at?e(C)(e(o).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",Lo,[zo,t("div",Jo,i(e(o).ticket_a_bruto?e(x)(e(o).ticket_a_bruto):0),1)]),t("div",qo,[Eo,t("div",Go,i(e(o).ticket_a_tara?e(x)(e(o).ticket_a_tara):0),1)]),t("div",Zo,[Qo,t("div",Wo,i(e(o).ticket_a_bruto?e(x)(e(o).ticket_a_bruto-e(o).ticket_a_tara):0),1)]),t("div",Xo,[ts,t("div",es,i(e(o).ticket_a_no_pol),1)]),t("div",os,[ss,t("div",ls,i(e(o).ticket_a_supir),1)])])):_("",!0),["TBS","TBSK"].indexOf(e(o).jenis)>-1?(s(),l("div",as,[is,O(t("input",{type:"text",list:"ticket_b","onUpdate:modelValue":p[12]||(p[12]=c=>e(o).ticket_b_no=c)},null,512),[[E,e(o).ticket_b_no]]),t("datalist",_s,[(s(!0),l(G,null,Z(e(Q),c=>(s(),l("option",{value:c.TicketNo},i(c.TicketNo+"-"+c.VehicleNo+"-"+c.NamaSupir),9,ns))),256))]),t("p",ds,i(e(D).ticket),1)])):_("",!0),["TBS","TBSK"].indexOf(e(o).jenis)>-1?(s(),l("div",cs,[t("div",rs,[us,t("div",ps,i(e(o).ticket_b_in_at?e(C)(e(o).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",fs,[vs,t("div",ms,i(e(o).ticket_b_out_at?e(C)(e(o).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",ks,[hs,t("div",ws,i(e(o).ticket_b_bruto?e(x)(e(o).ticket_b_bruto):0),1)]),t("div",bs,[xs,t("div",$s,i(e(o).ticket_b_tara?e(x)(e(o).ticket_b_tara):0),1)]),t("div",ys,[gs,t("div",Ts,i(e(o).ticket_b_bruto?e(x)(e(o).ticket_b_bruto-e(o).ticket_b_tara):0),1)]),t("div",Ds,[As,t("div",Cs,i(e(o).ticket_b_no_pol),1)]),t("div",js,[Bs,t("div",Ps,i(e(o).ticket_b_supir),1)])])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),l("div",Ns,[Ss,y(M,null,{default:nt(()=>[y($,{modelValue:e(o).ticket_b_in_at,"onUpdate:modelValue":p[13]||(p[13]=c=>e(o).ticket_b_in_at=c),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),t("p",Vs,i(e(D).ticket_b_in_at),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),l("div",Ms,[Os,y(M,null,{default:nt(()=>[y($,{modelValue:e(o).ticket_b_out_at,"onUpdate:modelValue":p[14]||(p[14]=c=>e(o).ticket_b_out_at=c),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),t("p",Hs,i(e(D).ticket_b_out_at),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),l("div",Is,[Us,t("div",null,[y(K,{class:"card-border p-1",type:"text",value:e(o).ticket_b_bruto||0,onInput:p[15]||(p[15]=c=>e(o).ticket_b_bruto=c),show:T.show},null,8,["value","show"])]),t("p",Fs,i(e(D).ticket_b_bruto),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),l("div",Ys,[Ks,t("div",null,[y(K,{class:"card-border p-1",type:"text",value:e(o).ticket_b_tara||0,onInput:p[16]||(p[16]=c=>e(o).ticket_b_tara=c),show:T.show},null,8,["value","show"])]),t("p",Rs,i(e(D).ticket_b_tara),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),l("div",Ls,[zs,t("div",Js,i(e(o).ticket_b_bruto?e(x)(e(o).ticket_b_bruto-e(o).ticket_b_tara):0),1)])):_("",!0)])]),t("div",qs,[t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:p[17]||(p[17]=c=>T.fnClose())}," Cancel "),e(j)?_("",!0):(s(),l("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:p[18]||(p[18]=bt(c=>S(),["prevent"]))}," Save "))])])])],512)),[[Mt,T.show]])}}},Gs=It(Es,[["__scopeId","data-v-ea68143f"]]);const b=T=>(Ot("data-v-22cde9d3"),T=T(),Ht(),T),Zs={class:"box-fixed"},Qs={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Ws={class:"w-full flex flex-col items-center grow overflow-auto"},Xs={class:"w-full flex flex-row flex-wrap"},tl={class:"w-full flex flex-col flex-wrap p-1"},el=b(()=>t("label",{for:""},"U.Jalan Per",-1)),ol={class:"card-border"},sl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ll=b(()=>t("label",{for:""},"Jenis",-1)),al={class:"card-border"},il={key:0,class:"w-full flex pt-5"},_l={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},nl=b(()=>t("label",{for:""},"Tujuan",-1)),dl={class:"card-border"},cl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},rl=b(()=>t("label",{for:""},"Tipe",-1)),ul={class:"card-border"},pl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},fl=b(()=>t("label",{for:""},"Total Dari U.Jalan",-1)),vl={class:"card-border"},ml={key:1,class:"w-full flex pb-5"},kl={class:"w-full sm:w-8/12 md:w-9/12 lg:w-9/12 flex flex-col flex-wrap p-1"},hl=b(()=>t("label",{for:""},"PV",-1)),wl={class:"card-border"},bl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},xl=b(()=>t("label",{for:""},"Total Dari PV",-1)),$l={class:"card-border"},yl={key:2,class:"w-full flex flex-col flex-wrap p-1"},gl=b(()=>t("label",{for:""},"Tiket A",-1)),Tl={class:"card-border"},Dl={key:3,class:"w-full flex flex-wrap"},Al={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Cl=b(()=>t("label",{for:""},"Bruto dari Tiket",-1)),jl={class:"card-border"},Bl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Pl=b(()=>t("label",{for:""},"Tara dari Tiket",-1)),Nl={class:"card-border"},Sl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Vl=b(()=>t("label",{for:""},"Netto dari Tiket",-1)),Ml={class:"card-border"},Ol={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Hl=b(()=>t("label",{for:""},"Supir",-1)),Il={class:"card-border"},Ul={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Fl=b(()=>t("label",{for:""},"No Pol",-1)),Yl={class:"card-border"},Kl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Rl=b(()=>t("label",{for:""},"In At",-1)),Ll={class:"card-border"},zl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Jl=b(()=>t("label",{for:""},"Out At",-1)),ql={class:"card-border"},El={key:4,class:"w-full flex flex-col flex-wrap p-1"},Gl=b(()=>t("label",{for:""},"Tiket B",-1)),Zl={class:"card-border"},Ql={key:5,class:"w-full flex flex-wrap"},Wl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Xl=b(()=>t("label",{for:""},"Bruto dari Tiket",-1)),ta={class:"card-border"},ea={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},oa=b(()=>t("label",{for:""},"Tara dari Tiket",-1)),sa={class:"card-border"},la={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},aa=b(()=>t("label",{for:""},"Netto dari Tiket",-1)),ia={class:"card-border"},_a={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},na=b(()=>t("label",{for:""},"Supir",-1)),da={class:"card-border"},ca={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ra=b(()=>t("label",{for:""},"No Pol",-1)),ua={class:"card-border"},pa={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},fa=b(()=>t("label",{for:""},"In At",-1)),va={class:"card-border"},ma={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ka=b(()=>t("label",{for:""},"Out At",-1)),ha={class:"card-border"},wa={key:6,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ba=b(()=>t("label",{for:""},"Bruto",-1)),xa={class:"card-border"},$a={key:7,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ya=b(()=>t("label",{for:""},"Tara",-1)),ga={class:"card-border"},Ta={key:8,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Da=b(()=>t("label",{for:""},"Netto",-1)),Aa={class:"card-border"},Ca={key:9,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ja=b(()=>t("label",{for:""},"In At",-1)),Ba={class:"card-border"},Pa={key:10,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Na=b(()=>t("label",{for:""},"Out At",-1)),Sa={class:"card-border"},Va={key:11,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ma=b(()=>t("label",{for:""},"Supir",-1)),Oa={class:"card-border"},Ha={key:12,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ia=b(()=>t("label",{for:""},"Kernet",-1)),Ua={class:"card-border"},Fa={key:13,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ya=b(()=>t("label",{for:""},"No Pol",-1)),Ka={class:"card-border"},Ra={class:"w-full flex items-center justify-end"},La={class:"w-full flex flex-wrap p-3 items-center"},za=b(()=>t("div",null," Di Validasi oleh : ",-1)),Ja={key:0,class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white text-xs"},qa={key:0},Ea={key:1},Ga={__name:"trx_trp_validasi",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]}},setup(T){const h=T,{$moment:C}=xt(),{pointFormat:x}=wt(),a=g({...{id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",val:0,val_by:{username:""},val_at:"",val1:0,val1_by:{username:""},val1_at:""}}),o=pt("token"),X=async()=>{A().loading_full=!0;const I=new FormData;let w="post",Y=h.id;Y==0||(I.append("id",Y),I.append("_method","PUT"));const{data:S,error:tt,status:et}=await L("/trx_trp_validasi",{method:w,headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:I,retry:0});if(A().loading_full=!1,et.value==="error"){R().trigger(tt);return}a.value.val=S.value.val,a.value.val_user=S.value.val_user,a.value.val_by=S.value.val_by,a.value.val_at=S.value.val_at,a.value.val1=S.value.val1,a.value.val1_user=S.value.val1_user,a.value.val1_by=S.value.val1_by,a.value.val1_at=S.value.val1_at;let V=h.p_data.map(Q=>Q.id).indexOf(h.id);V>=-1&&h.p_data.splice(V,1,{...a.value}),h.fnClose()},D=async()=>{A().loading_full=!0;const{data:I,error:w,status:Y}=await L("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{id:h.id},retry:0});if(A().loading_full=!1,Y.value==="error"){R().trigger(w);return}a.value=I.value.data};return q(()=>h.show,(I,w)=>{I==!0&&D()},{immediate:!0}),(I,w)=>{const Y=Nt;return O((s(),l("section",Zs,[t("div",null,[y(Y,{title:"Form Transaction Validation",fn:T.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",Qs,[t("div",Ws,[t("div",Xs,[t("div",tl,[el,t("div",ol,i(e(a).tanggal?e(C)(e(a).tanggal).format("DD-MM-YYYY"):""),1)]),t("div",sl,[ll,t("div",al,i(e(a).jenis),1)]),e(a).jenis!=""?(s(),l("div",il,[t("div",_l,[nl,t("div",dl,i(e(a).xto),1)]),t("div",cl,[rl,t("div",ul,i(e(a).tipe),1)]),t("div",pl,[fl,t("div",vl,i(e(x)(e(a).amount||0)),1)])])):_("",!0),e(a).jenis!=""?(s(),l("div",ml,[t("div",kl,[hl,t("div",wl,i(e(a).pv_no),1)]),t("div",bl,[xl,t("div",$l,i(e(x)(e(a).pv_total||0)),1)])])):_("",!0),e(a).jenis!=""?(s(),l("div",yl,[gl,t("div",Tl,i(e(a).ticket_a_no),1)])):_("",!0),e(a).jenis!=""?(s(),l("div",Dl,[t("div",Al,[Cl,t("div",jl,i(e(x)(e(a).ticket_a_bruto||0)),1)]),t("div",Bl,[Pl,t("div",Nl,i(e(x)(e(a).ticket_a_tara||0)),1)]),t("div",Sl,[Vl,t("div",Ml,i(e(x)(e(a).ticket_a_netto||0)),1)]),t("div",Ol,[Hl,t("div",Il,i(e(a).ticket_a_supir),1)]),t("div",Ul,[Fl,t("div",Yl,i(e(a).ticket_a_no_pol),1)]),t("div",Kl,[Rl,t("div",Ll,i(e(a).ticket_a_in_at?e(C)(e(a).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):""),1)]),t("div",zl,[Jl,t("div",ql,i(e(a).ticket_a_out_at?e(C)(e(a).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])])):_("",!0),e(a).jenis=="TBS"?(s(),l("div",El,[Gl,t("div",Zl,i(e(a).ticket_b_no),1)])):_("",!0),e(a).jenis=="TBS"?(s(),l("div",Ql,[t("div",Wl,[Xl,t("div",ta,i(e(x)(e(a).ticket_b_bruto||0)),1)]),t("div",ea,[oa,t("div",sa,i(e(x)(e(a).ticket_b_tara||0)),1)]),t("div",la,[aa,t("div",ia,i(e(x)(e(a).ticket_b_netto||0)),1)]),t("div",_a,[na,t("div",da,i(e(a).ticket_b_supir),1)]),t("div",ca,[ra,t("div",ua,i(e(a).ticket_b_no_pol),1)]),t("div",pa,[fa,t("div",va,i(e(a).ticket_b_in_at?e(C)(e(a).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)]),t("div",ma,[ka,t("div",ha,i(e(a).ticket_b_out_at?e(C)(e(a).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])])):_("",!0),e(a).jenis=="CPO"?(s(),l("div",wa,[ba,t("div",xa,i(e(x)(e(a).ticket_b_bruto||0)),1)])):_("",!0),e(a).jenis=="CPO"?(s(),l("div",$a,[ya,t("div",ga,i(e(x)(e(a).ticket_b_tara||0)),1)])):_("",!0),e(a).jenis=="CPO"?(s(),l("div",Ta,[Da,t("div",Aa,i(e(x)(e(a).ticket_b_netto||0)),1)])):_("",!0),e(a).jenis=="CPO"?(s(),l("div",Ca,[ja,t("div",Ba,i(e(a).ticket_b_in_at?e(C)(e(a).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)])):_("",!0),e(a).jenis=="CPO"?(s(),l("div",Pa,[Na,t("div",Sa,i(e(a).ticket_b_out_at?e(C)(e(a).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])):_("",!0),e(a).jenis!=""?(s(),l("div",Va,[Ma,t("div",Oa,i(e(a).supir),1)])):_("",!0),e(a).jenis!=""?(s(),l("div",Ha,[Ia,t("div",Ua,i(e(a).kernet),1)])):_("",!0),e(a).jenis!=""?(s(),l("div",Fa,[Ya,t("div",Ka,i(e(a).no_pol),1)])):_("",!0)])]),t("div",Ra,[t("div",La,[za,e(a).val||e(a).val1?(s(),l("div",Ja,[e(a).val?(s(),l("div",qa," App 1 : "+i(e(a).val_by.username)+" ( "+i(e(a).val_at?e(C)(e(a).val_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):_("",!0),e(a).val1?(s(),l("div",Ea," App 2 : "+i(e(a).val1_by.username)+" ( "+i(e(a).val1_at?e(C)(e(a).val1_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):_("",!0)])):_("",!0)]),t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:w[0]||(w[0]=S=>T.fnClose())}," Cancel "),t("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:w[1]||(w[1]=bt(S=>X(),["prevent"]))}," Validasi ")])])])],512)),[[Mt,T.show]])}}},Za=It(Ga,[["__scopeId","data-v-22cde9d3"]]),Qa={class:"w-full h-full flex flex-col"},Wa={class:"w-full flex grow flex-col overflow-auto h-0"},Xa={class:"w-full flex justify-between"},ti={class:"grow flex"},ei={class:"flex"},oi=t("span",{class:"text-xs"},"Mode",-1),si={action:"#",class:"w-full flex p-1"},li={class:"grow"},ai=t("div",{class:"font-bold"}," Keyword ",-1),ii={class:"pl-1"},_i=t("div",{class:"font-bold"}," Sort By ",-1),ni=xe('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),di=[ni],ci={class:"pl-1"},ri=t("div",{class:"font-bold"}," Sort Order ",-1),ui=t("option",{value:"asc"},"Asc",-1),pi=t("option",{value:"desc"},"Desc",-1),fi=[ui,pi],vi={class:"flex items-end pl-1"},mi={class:"w-full flex justify-center items-center grow h-0 p-1"},ki={key:0,class:""},hi={class:"tacky"},wi={class:"sticky top-0 !z-[2]"},bi={key:0},xi={key:1},$i={key:2},yi={key:3},gi={key:4},Ti={key:5},Di={key:6},Ai={key:7},Ci={key:8},ji={key:9},Bi={key:10},Pi={key:11},Ni={key:12},Si={key:13},Vi={key:14},Mi={key:15},Oi={key:16},Hi={key:17},Ii={key:18},Ui={key:19},Fi={key:20},Yi={key:21},Ki={key:22},Ri={key:23},Li={key:24},zi={key:25},Ji={key:26},qi={key:27},Ei={key:28},Gi={key:29},Zi={key:30},Qi={key:31},Wi={key:32},Xi={key:33},t_={key:34},e_={key:35},o_={key:36},s_=["onClick"],l_={key:0},a_={class:"flex items-center justify-center"},i_={key:1},__={class:"flex items-center justify-center"},n_={key:2},d_={class:"flex items-center justify-center"},c_={key:3,class:"bold"},r_={key:4},u_={key:5},p_={key:6},f_={key:7},v_={key:8},m_={key:9},k_={key:10},h_={key:11},w_={key:12},b_={key:13},x_={key:14},$_={key:15},y_={key:16},g_={key:17},T_={key:18},D_={key:19},A_={key:20},C_={key:21},j_={key:22},B_={key:23},P_={key:24},N_={key:25},S_={key:26},V_={key:27},M_={key:28},O_={key:29},H_={key:30},I_={key:31},U_={key:32},F_={key:33},Y_={key:34},K_={key:35},R_={key:36},L_={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},z_={class:"relative",style:{width:"95%",height:"90%"}},J_={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},q_=["src"],E_={key:1,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},G_={class:"relative",style:{width:"95%",height:"90%"}},Z_={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},Q_={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},W_={class:"w-full p-1"},X_={class:"w-full p-1 bg-gray-200"},tn=t("div",{class:"w-full text-blue-600 font-bold"}," Set Date For Load Data ",-1),en={class:"w-full grid grid-cols-2 grid-rows-1 gap-1"},on={class:"flex flex-col flex-wrap p-1"},sn=t("label",{for:""},"From",-1),ln={class:"grow"},an={class:"flex flex-col flex-wrap p-1"},_n=t("label",{for:""},"To",-1),nn={class:"grow"},dn={class:"w-full p-1"},cn={class:"w-full p-1 bg-gray-200"},rn=t("div",{class:"w-full text-blue-600 font-bold grid-"}," Set Show Column Field ",-1),un={class:"w-full flex flex-wrap"},pn=["onClick"],fn={class:"w-full flex justify-end"},Pn={__name:"index",async setup(T){let h,C;const{$moment:x}=xt(),{pointFormat:H}=wt(),a={};a._TimeZoneOffset=new Date().getTimezoneOffset(),a.sort="tanggal:desc";const o=pt("token"),X=pt("role"),D=f=>f.includes(X.value),{data:I}=([h,C]=ve(async()=>be(async()=>{A().loading_full=!0;let f=[];const[n,N]=await Promise.all([L("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},retry:0})]);return n.status.value!=="error"&&(f=n.data.value.data),n.status.value==="error"?(R().trigger(n.error),{trx_trps:f}):(A().loading_full=!1,{trx_trps:f})},"$pFLmKcrKj9")),h=await h,C(),h),w=g(I.value.trx_trps||[]),Y=g([]),S=g([]),tt=g([]),et=g([]),V=g(!1),Q=async f=>{A().loading_full=!0;let n=P.value.from?x(P.value.from).format("Y-MM-DD"):"",N=P.value.to?x(P.value.to).format("Y-MM-DD"):"";const{data:U,error:F,status:st}=await L("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{jenis:f,online_status:V.value,from:n,to:N},retry:0});if(A().loading_full=!1,st.value==="error"){R().trigger(F);return}Y.value=U.value.list_ujalan,S.value=U.value.list_cost_center,tt.value=U.value.list_ticket,et.value=U.value.list_pv},j=g(""),z=g({field:"tanggal",by:"desc"}),m=g(-1),B=g({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),u=()=>{a.like="",j.value!=""&&(a.like=`id:%${j.value}%,xto:%${j.value}%,jenis:%${j.value}%,pv_no:%${j.value}%,ticket_a_no:%${j.value}%,ticket_b_no:%${j.value}%,no_pol:%${j.value}%,supir:%${j.value}%,kernet:%${j.value}%,cost_center_code:%${j.value}%,cost_center_desc:%${j.value}%,pvr_id:%${j.value}%,pvr_no:%${j.value}%,tanggal:%${j.value}%`),a.sort="",z.value.field&&(a.sort=z.value.field+":"+z.value.by)},p=g(null),v=async()=>{A().loading_full=!0,B.value.may_get_data=!1,a.page=B.value.page,a.page==1&&(w.value=[]),a.first_row&&delete a.first_row,a.page>1&&(a.first_row=JSON.stringify(w.value[0]));const{data:f,error:n,status:N}=await L("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:a,retry:0});if(A().loading_full=!1,B.value.may_get_data=!0,N.value==="error"){R().trigger(n);return}B.value.page==1?(w.value=f.value.data,p.value&&(p.value.scrollTop=0)):B.value.page>1&&(w.value=[...w.value,...f.value.data]),f.value.data.length==0&&(B.value.is_last_record=!0)},$=async()=>{if(!B.value.may_get_data)return;let f=p.value;if(f.scrollLeft!=B.value.scrollLeft){B.value.scrollLeft=f.scrollLeft;return}B.value.is_last_record||!(Math.round(f.scrollTop)+f.clientHeight>=f.scrollHeight-1)||(B.value.page++,await v())},M=()=>{B.value.page=1,B.value.is_last_record=!1,u(),v()};me();const K=g(!1),c=g(0),J=()=>{c.value=0,K.value=!0},{display:ot}=ht();ke(ht());const Ut=()=>{m.value==-1?ot({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(c.value=w.value[m.value].id,K.value=!0)},ft=g(!1),$t=g(0),Ft=()=>{m.value==-1?ot({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):($t.value=w.value[m.value].id,ft.value=!0)},yt=g({}),at=g(!1),Yt=async()=>{at.value&&(at.value=!1)},Kt=()=>{m.value==-1?ot({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(yt.value={id:w.value[m.value].id},at.value=!0)},Rt=async()=>{A().loading_full=!0;const f=new FormData;f.append("id",w.value[m.value].id),f.append("_method","DELETE");const{data:n,error:N,status:U}=await L("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(A().loading_full=!1,U.value==="error"){R().trigger(N);return}w.value.splice(m.value,1),m.value=-1,at.value=!1},{downloadFile:Lt,printHtml:zt}=_e(),vt=g(!1),gt=g(""),Tt=async()=>{if(vt.value==!0){vt.value=!1;return}if(m.value==-1){ot({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}A().loading_full=!0;const{data:f,error:n,status:N}=await L("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{id:w.value[m.value].id},retry:0});if(A().loading_full=!1,N.value==="error"){R().trigger(n);return}zt(f.value.html,318)},Jt=()=>{Lt(gt.value)},Dt=f=>f.pv_id<=0||["CPO","PK"].indexOf(f.jenis)>-1&&(f.ticket_a_id<=0||f.ticket_b_bruto<=0||f.ticket_b_tara<=0||f.ticket_b_netto<=0||f.ticket_b_in_at==""||f.ticket_b_out_at=="")||f.jenis=="TBS"&&(f.ticket_a_id<=0||f.ticket_b_id<=0)||f.jenis=="TBSK"&&f.ticket_b_id<=0?0:1,ct=g(!1),P=g({from:new Date().setDate(new Date().getDate()-3),to:new Date}),At=f=>{f=="from"?P.value.from-P.value.to>0&&(P.value.from=P.value.to):P.value.to-P.value.from<0&&(P.value.to=P.value.from)},Ct=f=>{f=="select"?W.value=W.value.map(n=>(n.checked=1,n)):W.value=W.value.map(n=>(n.checked=0,n))},W=g([{checked:1,name:"Status"},{checked:1,name:"App 1"},{checked:1,name:"App 2"},{checked:1,name:"ID"},{checked:1,name:"U.Jalan Per"},{checked:1,name:"No Pol"},{checked:1,name:"Tujuan"},{checked:1,name:"Tipe"},{checked:1,name:"Jenis"},{checked:1,name:"Amount"},{checked:1,name:"Cost Center Code"},{checked:1,name:"Cost Center Desc"},{checked:1,name:"PVR No"},{checked:1,name:"PVR Total"},{checked:1,name:"PVR Completed"},{checked:1,name:"PV No"},{checked:1,name:"PV Total"},{checked:1,name:"Ticket A No"},{checked:1,name:"Ticket A Bruto"},{checked:1,name:"Ticket A Tara"},{checked:1,name:"Ticket A Netto"},{checked:1,name:"Ticket A Supir"},{checked:1,name:"Ticket A No Pol"},{checked:1,name:"Ticket A In At"},{checked:1,name:"Ticket A Out At"},{checked:1,name:"Ticket B No"},{checked:1,name:"Ticket B Bruto"},{checked:1,name:"Ticket B Tara"},{checked:1,name:"Ticket B Netto"},{checked:1,name:"Ticket B Supir"},{checked:1,name:"Ticket B No Pol"},{checked:1,name:"Ticket B In At"},{checked:1,name:"Ticket B Out At"},{checked:1,name:"Supir"},{checked:1,name:"Kernet"},{checked:1,name:"Created At"},{checked:1,name:"Updated At"}]),r=f=>{let n=W.value.map(N=>N.name).indexOf(f);return W.value[n].checked},qt=async()=>{A().loading_full=!0;const f=new FormData;f.append("id",w.value[m.value].id),f.append("online_status",V.value);const{data:n,error:N,status:U}=await L("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(A().loading_full=!1,U.value==="error"){R().trigger(N);return}let F=w.value[m.value];F.pvr_id=n.value.pvr_id,F.pvr_no=n.value.pvr_no,F.pvr_total=n.value.pvr_total,F.pvr_had_detail=n.value.pvr_had_detail,F.updated_at=n.value.updated_at,w.value.splice(m.value,1,{...F}),m.value=-1,ot({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Et=async()=>{A().loading_full=!0;const f=new FormData;f.append("online_status",V.value);const{data:n,error:N,status:U}=await L("/trx_trp_do_update_pv",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(A().loading_full=!1,U.value==="error"){R().trigger(N);return}n.value.data.forEach(F=>{let st=w.value.map(it=>it.id).indexOf(F.id);if(st!==-1){let it={pv_id:n.value.pv_id,pv_no:n.value.pv_no,pv_total:n.value.pv_total,updated_at:n.value.updated_at};w.value.splice(st,1,{...it})}}),ot({show:!0,status:"Success",message:"Update PV Done"})};return(f,n)=>{const N=oe,U=se,F=le,st=ae,it=ie,Gt=ne,Zt=de,Qt=ce,mt=re,kt=ue,Wt=pe,Xt=Gs,te=Za,jt=$e,Bt=Vt("vue-date-picker"),Pt=St;return s(),l("div",Qa,[y(N,{title:"List Transaction"}),t("div",Wa,[t("div",Xa,[t("div",ti,[t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:n[0]||(n[0]=d=>J())},[y(U)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:n[1]||(n[1]=d=>Ut())},[y(F)]),D(["PabrikTransport"])?_("",!0):(s(),l("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:n[2]||(n[2]=d=>Kt())},[y(st)])),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:n[3]||(n[3]=d=>Ft())},[y(it)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:n[4]||(n[4]=d=>Tt())},[y(Gt)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:n[5]||(n[5]=d=>ct.value=!0)},[y(Zt)])]),t("div",ei,[t("button",{type:"button",name:"button",class:"m-1 text-sm whitespace-nowrap",onClick:n[6]||(n[6]=d=>qt())}," Gen/Update PVR "),t("button",{type:"button",name:"button",class:"m-1 text-sm whitespace-nowrap",onClick:n[7]||(n[7]=d=>Et())}," Update PV "),t("div",{class:"m-1 card-border cursor-pointer",onClick:n[8]||(n[8]=d=>V.value=!e(V))},[oi,he(" : "),t("span",{class:ut(["font-bold",e(V)?"text-green-600":"text-red-600"])},i(e(V)?"ONLINE":"OFFLINE"),3)])])]),t("form",si,[t("div",li,[ai,O(t("input",{class:"",type:"text","onUpdate:modelValue":n[9]||(n[9]=d=>we(j)?j.value=d:null),name:"search",placeholder:"Keyword"},null,512),[[E,e(j)]])]),t("div",ii,[_i,O(t("select",{class:"","onUpdate:modelValue":n[10]||(n[10]=d=>e(z).field=d)},di,512),[[dt,e(z).field]])]),t("div",ci,[ri,O(t("select",{class:"","onUpdate:modelValue":n[11]||(n[11]=d=>e(z).by=d)},fi,512),[[dt,e(z).by]])]),t("div",vi,[t("button",{class:"",type:"submit",name:"button",onClick:n[12]||(n[12]=bt(d=>M(),["prevent"]))},[y(Qt,{class:"text-2xl"})])])]),t("div",mi,[e(w).length==0?(s(),l("div",ki," Maaf Tidak Ada Record ")):(s(),l("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:p,onScroll:$},[t("table",hi,[t("thead",null,[t("tr",wi,[r("Status")?(s(),l("th",bi,"Status")):_("",!0),r("App 1")?(s(),l("th",xi,"App 1")):_("",!0),r("App 2")?(s(),l("th",$i,"App 2")):_("",!0),r("ID")?(s(),l("th",yi,"ID")):_("",!0),r("U.Jalan Per")?(s(),l("th",gi,"U.Jalan Per")):_("",!0),r("No Pol")?(s(),l("th",Ti,"No Pol")):_("",!0),r("Tujuan")?(s(),l("th",Di,"Tujuan")):_("",!0),r("Tipe")?(s(),l("th",Ai,"Tipe")):_("",!0),r("Jenis")?(s(),l("th",Ci,"Jenis")):_("",!0),r("Amount")?(s(),l("th",ji,"Amount")):_("",!0),r("Cost Center Code")?(s(),l("th",Bi,"Cost Center Code")):_("",!0),r("Cost Center Desc")?(s(),l("th",Pi,"Cost Center Desc")):_("",!0),r("PVR No")?(s(),l("th",Ni,"PVR No")):_("",!0),r("PVR Total")?(s(),l("th",Si,"PVR Total")):_("",!0),r("PVR Completed")?(s(),l("th",Vi,"PVR Completed")):_("",!0),r("PV No")?(s(),l("th",Mi,"PV No")):_("",!0),r("PV Total")?(s(),l("th",Oi,"PV Total")):_("",!0),r("Ticket A No")?(s(),l("th",Hi,"Ticket A No")):_("",!0),r("Ticket A Bruto")?(s(),l("th",Ii,"Ticket A Bruto")):_("",!0),r("Ticket A Tara")?(s(),l("th",Ui,"Ticket A Tara")):_("",!0),r("Ticket A Netto")?(s(),l("th",Fi,"Ticket A Netto")):_("",!0),r("Ticket A Supir")?(s(),l("th",Yi,"Ticket A Supir")):_("",!0),r("Ticket A No Pol")?(s(),l("th",Ki,"Ticket A No Pol")):_("",!0),r("Ticket A In At")?(s(),l("th",Ri,"Ticket A In At")):_("",!0),r("Ticket A Out At")?(s(),l("th",Li,"Ticket A Out At")):_("",!0),r("Ticket B No")?(s(),l("th",zi,"Ticket B No")):_("",!0),r("Ticket B Bruto")?(s(),l("th",Ji,"Ticket B Bruto")):_("",!0),r("Ticket B Tara")?(s(),l("th",qi,"Ticket B Tara")):_("",!0),r("Ticket B Netto")?(s(),l("th",Ei,"Ticket B Netto")):_("",!0),r("Ticket B Supir")?(s(),l("th",Gi,"Ticket B Supir")):_("",!0),r("Ticket B No Pol")?(s(),l("th",Zi,"Ticket B No Pol")):_("",!0),r("Ticket B In At")?(s(),l("th",Qi,"Ticket B In At")):_("",!0),r("Ticket B Out At")?(s(),l("th",Wi,"Ticket B Out At")):_("",!0),r("Supir")?(s(),l("th",Xi,"Supir")):_("",!0),r("Kernet")?(s(),l("th",t_,"Kernet")):_("",!0),r("Created At")?(s(),l("th",e_,"Created At")):_("",!0),r("Updated At")?(s(),l("th",o_,"Updated At")):_("",!0)])]),t("tbody",null,[(s(!0),l(G,null,Z(e(w),(d,rt)=>(s(),l("tr",{key:rt,onClick:ee=>m.value=rt,class:ut(e(m)==rt?"active":"")},[r("Status")?(s(),l("td",l_,[t("div",a_,[t("div",{class:ut(["text-white text-xs px-2 py-1 rounded-lg",Dt(d)?"bg-green-600":"bg-red-600"])},i(Dt(d)?"Done":"Not Done"),3)])])):_("",!0),r("App 1")?(s(),l("td",i_,[t("div",__,[d.val?(s(),lt(kt,{key:1})):(s(),lt(mt,{key:0}))])])):_("",!0),r("App 2")?(s(),l("td",n_,[t("div",d_,[d.val1?(s(),lt(kt,{key:1})):(s(),lt(mt,{key:0}))])])):_("",!0),r("ID")?(s(),l("td",c_,i(d.id),1)):_("",!0),r("U.Jalan Per")?(s(),l("td",r_,i(d.tanggal?e(x)(d.tanggal).format("DD-MM-Y"):""),1)):_("",!0),r("No Pol")?(s(),l("td",u_,i(d.no_pol),1)):_("",!0),r("Tujuan")?(s(),l("td",p_,i(d.xto),1)):_("",!0),r("Tipe")?(s(),l("td",f_,i(d.tipe),1)):_("",!0),r("Jenis")?(s(),l("td",v_,i(d.jenis),1)):_("",!0),r("Amount")?(s(),l("td",m_,i(e(H)(d.amount)),1)):_("",!0),r("Cost Center Code")?(s(),l("td",k_,i(d.cost_center_code),1)):_("",!0),r("Cost Center Desc")?(s(),l("td",h_,i(d.cost_center_desc),1)):_("",!0),r("PVR No")?(s(),l("td",w_,i(d.pvr_no),1)):_("",!0),r("PVR Total")?(s(),l("td",b_,i(d.pv_amount),1)):_("",!0),r("PVR Completed")?(s(),l("td",x_,[d.pvr_had_detail?(s(),lt(kt,{key:1})):(s(),lt(mt,{key:0}))])):_("",!0),r("PV No")?(s(),l("td",$_,i(d.pv_no),1)):_("",!0),r("PV Total")?(s(),l("td",y_,i(e(H)(d.pv_total)),1)):_("",!0),r("Ticket A No")?(s(),l("td",g_,i(d.ticket_a_no),1)):_("",!0),r("Ticket A Bruto")?(s(),l("td",T_,i(e(H)(d.ticket_a_bruto)),1)):_("",!0),r("Ticket A Tara")?(s(),l("td",D_,i(e(H)(d.ticket_a_tara)),1)):_("",!0),r("Ticket A Netto")?(s(),l("td",A_,i(e(H)(d.ticket_a_netto)),1)):_("",!0),r("Ticket A Supir")?(s(),l("td",C_,i(d.ticket_a_supir),1)):_("",!0),r("Ticket A No Pol")?(s(),l("td",j_,i(d.ticket_a_no_pol),1)):_("",!0),r("Ticket A In At")?(s(),l("td",B_,i(d.ticket_a_in_at?e(x)(d.ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),r("Ticket A Out At")?(s(),l("td",P_,i(d.ticket_a_out_at?e(x)(d.ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),r("Ticket B No")?(s(),l("td",N_,i(d.ticket_b_no),1)):_("",!0),r("Ticket B Bruto")?(s(),l("td",S_,i(e(H)(d.ticket_b_bruto)),1)):_("",!0),r("Ticket B Tara")?(s(),l("td",V_,i(e(H)(d.ticket_b_tara)),1)):_("",!0),r("Ticket B Netto")?(s(),l("td",M_,i(e(H)(d.ticket_b_netto)),1)):_("",!0),r("Ticket B Supir")?(s(),l("td",O_,i(d.ticket_b_supir),1)):_("",!0),r("Ticket B No Pol")?(s(),l("td",H_,i(d.ticket_b_no_pol),1)):_("",!0),r("Ticket B In At")?(s(),l("td",I_,i(d.ticket_b_in_at?e(x)(d.ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),r("Ticket B Out At")?(s(),l("td",U_,i(d.ticket_b_out_at?e(x)(d.ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),r("Supir")?(s(),l("td",F_,i(d.supir),1)):_("",!0),r("Kernet")?(s(),l("td",Y_,i(d.kernet),1)):_("",!0),r("Created At")?(s(),l("td",K_,i(d.created_at?e(x)(d.created_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),r("Updated At")?(s(),l("td",R_,i(d.updated_at?e(x)(d.updated_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0)],10,s_))),128))])])],544))])]),y(Wt,{type:"delete",show:e(at),data:e(yt),fnClose:Yt,fnConfirm:Rt},null,8,["show","data"]),y(Xt,{show:e(K),fnClose:()=>{K.value=!1},fnLoadDBData:Q,id:e(c),p_data:e(w),list_ujalan:e(Y),list_ticket:e(tt),list_pv:e(et),list_cost_center:e(S),online_status:e(V)},null,8,["show","fnClose","id","p_data","list_ujalan","list_ticket","list_pv","list_cost_center","online_status"]),y(te,{show:e(ft),fnClose:()=>{ft.value=!1},id:e($t),p_data:e(w)},null,8,["show","fnClose","id","p_data"]),e(vt)?(s(),l("div",L_,[t("div",z_,[t("div",J_,[y(jt,{style:{color:"black",cursor:"pointer"},onClick:n[13]||(n[13]=d=>Tt())})]),t("iframe",{ref:"iframe",width:"100%",height:"100%",src:e(gt).dataBase64},null,8,q_),t("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:n[14]||(n[14]=d=>Jt())})])])):_("",!0),e(ct)?(s(),l("div",E_,[t("div",G_,[t("div",Z_,[y(jt,{style:{color:"black",cursor:"pointer"},onClick:n[15]||(n[15]=d=>ct.value=!1)})]),t("div",Q_,[t("div",W_,[t("div",X_,[tn,t("div",en,[t("div",on,[sn,t("div",ln,[y(Pt,null,{default:nt(()=>[y(Bt,{modelValue:e(P).from,"onUpdate:modelValue":n[16]||(n[16]=d=>e(P).from=d),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:n[17]||(n[17]=d=>At("from"))},null,8,["modelValue"])]),_:1})])]),t("div",an,[_n,t("div",nn,[y(Pt,null,{default:nt(()=>[y(Bt,{modelValue:e(P).to,"onUpdate:modelValue":n[18]||(n[18]=d=>e(P).to=d),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:n[19]||(n[19]=d=>At("to"))},null,8,["modelValue"])]),_:1})])])])])]),t("div",dn,[t("div",cn,[rn,t("div",un,[(s(!0),l(G,null,Z(e(W),(d,rt)=>(s(),l("div",{class:ut(["p-2 m-1 font-bold cursor-pointer",d.checked?"bg-green-600 text-white":"bg-gray-400 text-black"]),onClick:ee=>d.checked=!d.checked},i(d.name),11,pn))),256))]),t("div",fn,[t("button",{class:"bg-white font-bold mr-2",onClick:n[20]||(n[20]=d=>Ct("select"))}," Select All "),t("button",{class:"bg-white font-bold",onClick:n[21]||(n[21]=d=>Ct("invert"))}," Invert All ")])])])]),t("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:n[22]||(n[22]=d=>ct.value=!1)})])])):_("",!0)])}}};export{Pn as default};
