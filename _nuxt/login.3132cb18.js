import k from"./Loading.151ad522.js";import{M as C,N as c,y as S,s as j,r as u,C as U,x as r,o as V,c as A,a as s,k as m,A as f,l as e,G as l,t as g,D as p,b as E,d as M}from"./entry.18bd932e.js";import{u as N}from"./useMyFetch.ff261ccd.js";import"./_plugin-vue_export-helper.c27b6911.js";const R=""+globalThis.__publicAssetsURL("android.png"),T={class:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8"},B=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-blue-500"},"Sign in to your account ")],-1),D={action:"#"},L={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},q={class:"space-y-6"},I=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"},"Username",-1),O={class:"mt-2"},z=["disabled"],F={class:"sm:text-sm text-red-500"},G=s("div",{class:"flex items-center justify-between"},[s("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"},"Password"),s("div",{class:"text-sm"})],-1),K={class:"mt-2"},P=["disabled"],$={class:"sm:text-sm text-red-500"},H=["disabled","onClick"],J=s("div",{class:"w-full flex justify-center items-center mt-5"},[s("a",{href:"/logistik/driver_w_ast.apk",class:"h-10 block"},[s("img",{src:R,class:"max-w-full max-h-full"})])],-1),Q={class:"w-full flex justify-center items-center mt-5"},es=C({__name:"login",setup(W){const{authenticateUser:_}=c(),{trigger:x}=S(),{authenticated:b,loading:t}=j(c()),o=u({username:"",password:""}),a=u({}),h=U();r().loading_full=!1;const w=async()=>{try{a.value={},await _({username:o.value.username,password:o.value.password}),b.value&&h.push("/")}catch(d){x(d,a)}finally{}},v=async()=>{r().loading_full=!0,await N("/clear_cookies",{method:"get",credentials:"include",headers:{},retry:0}),r().loading_full=!1};return(d,i)=>{const y=k;return V(),A("div",T,[B,s("form",D,[s("div",L,[s("div",q,[s("div",null,[I,s("div",O,[m(s("input",{disabled:e(t),class:l([e(t)?"bg-gray-300":"bg-white-500","block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-300 sm:text-sm sm:leading-6"]),id:"username",name:"username",type:"text",autocomplete:"username",required:"","onUpdate:modelValue":i[0]||(i[0]=n=>e(o).username=n)},null,10,z),[[f,e(o).username]]),s("div",F,g(e(a).username),1)])]),s("div",null,[G,s("div",K,[m(s("input",{disabled:e(t),class:l([e(t)?"bg-gray-300":"bg-white-500","block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-300 sm:text-sm sm:leading-6"]),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":i[1]||(i[1]=n=>e(o).password=n)},null,10,P),[[f,e(o).password]]),s("div",$,g(e(a).password),1)])]),s("div",null,[s("button",{disabled:e(t),class:l([e(t)?"bg-blue-300":"bg-blue-500","flex w-full items-center justify-center rounded-md px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"]),onClick:p(w,["prevent"])},[s("div",{class:l([e(t)?"block":"hidden","mr-1"])},[E(y)],2),M(" Sign in ")],10,H)])]),J,s("div",Q,[s("button",{onClick:i[2]||(i[2]=p(n=>v(),["prevent"]))}," CLEAR COOKIE ")])])])])}}});export{es as default};
