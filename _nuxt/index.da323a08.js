import pt from"./Header.8cd1d829.js";import vt from"./Plus.5add6547.js";import ct from"./Eyes.39680942.js";import mt from"./Delete.4ba0f9b5.js";import ft from"./Void.f6353cfa.js";import yt from"./Signature.b5f62098.js";import kt from"./SignatureOff.9b9faa5f.js";import bt from"./PrinterEye.89592d5e.js";import gt from"./Table2Column.8216c84a.js";import xt from"./Image.94a7d4de.js";import ht from"./Line.edc3fb66.js";import wt from"./Check.e95b8b8a.js";import Dt from"./TableView.bdfae6bf.js";import{_ as Pt}from"./PopupMini.vue.61fe9780.js";import Ct from"./trx_trp.c2c82a81.js";import $t from"./trx_trp_validasi.fc8f088e.js";import At from"./trx_absen.e0cc9f87.js";import Tt from"./trx_trp_full.a6997481.js";import{r as u,f as se,g as St,h as jt,i as S,j as qt,x as p,c as x,b as m,a as g,k as ie,v as Ot,l as r,m as ue,n as h,d as k,E as Ut,t as w,w as c,q as Nt,y as C,o as i,z as b,A as Ce,H as Mt,G as Bt}from"./entry.f6b0e5cc.js";import{u as f}from"./useUtils.c9a24de7.js";import{u as $}from"./useMyFetch.20a381b7.js";import{u as $e}from"./useDownload.174f4da2.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Search.20bda773.js";import"./Adjust.9a941b8d.js";import"./TableHeaderEye.798294aa.js";import"./Times.88f1d7df.js";import"./ClearAll.c19fe4de.js";import"./client-only.b8962fd5.js";import"./ClearEach.95217bbc.js";import"./CaretLeftDoubleBold.1ae95d3d.js";import"./CaretLeftBold.a89e6e33.js";import"./CaretRightBold.f31d64e3.js";import"./CaretRightDoubleBold.59d23579.js";import"./Exclamation.675552e8.js";import"./HeaderPopup.vue.8167e3af.js";import"./WidthMiniList.vue.1e6a07a0.js";import"./WidthMiniPart.vue.f5fb2c6e.js";import"./CaretTop.e92d2e1a.js";import"./CaretDown.071625c4.js";import"./uj.c3409a9a.js";import"./ClockAnalog.520cdbae.js";import"./Calendar.238a2016.js";import"./Truck.f1a1f8c7.js";import"./LocationOn.262b1082.js";import"./TruckDriver.ef063197.js";import"./emt.51497b59.js";import"./Person.57a4a0dd.js";import"./AttachmentSingle.87f05d64.js";import"./PDFJsView.915b9516.js";import"./absen.c712016b.js";import"./ticket.587e655b.js";import"./stt.767924c8.js";const Ft={class:"w-full h-full flex flex-col"},It={class:"w-full flex grow flex-col overflow-auto h-0"},Et={class:"w-full flex justify-between flex-wrap"},Vt={class:"grow flex"},Rt={class:"m-1"},Kt=Mt('<option value="pv_not_done">Undone</option><option value="pv_done">Done</option><option value="deleted">Trash</option><option value="all">All</option><option value="req_deleted">Req Delete</option>',5),zt=[Kt],Yt=g("span",{class:"text-xs ml-1"}," Download ",-1),Lt=g("span",{class:"text-xs ml-1"}," With UJ ",-1),Ht={class:"flex"},Gt=g("span",{class:"text-xs"},"Mode",-1),Jt={key:0},Wt={class:"w-full flex flex-col items-center justify-center"},Zt={key:2,class:"text-xs"},Qt={key:0},Xt={key:0},ea={class:"grow mb-5"},ta=g("b",{class:"text-red-500"},"divalidasi",-1),aa=g("b",null,"tidak dapat dibatalkan lagi",-1),la={class:"grow mb-5"},nl={__name:"index",async setup(ra){let z,_e;const{$moment:H}=Bt(),{pointFormat:Ae}=f();let de=u({clearCheckBox:!1});const G=a=>a.deleted==1?"!bg-red-400":a.pvr_id>0&&a.req_deleted==1?"!bg-yellow-300":a.absen_not_done&&a.absen_not_done.length>0?"!bg-gray-300":a.pv_id>0?"!bg-blue-300":"",J=a=>(a.map(e=>{e.class_h=G(e)}),a),A=u("pv_not_done");se(()=>A.value,a=>{he.value.map(e=>{let v=["deleted_by_username","deleted_at","deleted_reason","req_deleted_by_username","req_deleted_at","req_deleted_reason"].indexOf(e.key)>-1;return["all","deleted","req_deleted"].indexOf(a)>-1?v&&(e.tbl_show=1):v&&(e.tbl_show=0),e}),me()},{immediate:!1});const y={};y._TimeZoneOffset=new Date().getTimezoneOffset(),y.sort="tanggal:desc";const pe=u({}),Y=u({from:"",to:""}),P=St("token"),{data:Te}=([z,_e]=jt(async()=>Nt(async()=>{p().loading_full=!0;let a=[];const[e,v]=await Promise.all([$("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{filter_status:A},retry:0})]);return e.status.value!=="error"&&(a=J(e.data.value.data)),e.status.value==="error"?(C().trigger(e.error),{trx_trps:a}):(p().loading_full=!1,{trx_trps:a})},"$pFLmKcrKj9")),z=await z,_e(),z),s=u(Te.value.trx_trps||[]),ve=u([]),N=u(!1),Se=async()=>{p().loading_full=!0;const{data:a,error:e,status:v}=await $("/trx_load_cost_center",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{online_status:N.value},retry:0});if(p().loading_full=!1,v.value==="error"){C().trigger(e);return}ve.value=a.value.list_cost_center},W=u({field:"tanggal",by:"desc"}),o=u(-1),d=S(()=>s.value[o.value]),j=u({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),Z=()=>{y.like="";let a=JSON.parse(JSON.stringify(p()._tv.global_keyword));a!=""&&(y.like=`id:%${a}%,xto:%${a}%,jenis:%${a}%,pv_no:%${a}%,ticket_a_no:%${a}%,ticket_b_no:%${a}%,no_pol:%${a}%,supir:%${a}%,kernet:%${a}%,cost_center_code:%${a}%,cost_center_desc:%${a}%,pvr_no:%${a}%,tanggal:%${a}%,transition_target:%${a}%,uj_asst_opt:%${a}%`),y.sort="",W.value.field&&(y.sort=W.value.field+":"+W.value.by),y.date_from=Y.value.from?H(Y.value.from).format("YYYY-MM-DD"):"",y.date_to=Y.value.to?H(Y.value.to).format("YYYY-MM-DD"):"",y.filter_model=JSON.stringify(p()._tv.filter_model)},ce=async()=>{p().loading_full=!0,pe.value={},j.value.may_get_data=!1,y.page=j.value.page,y.page==1&&(s.value=[]),y.first_row&&delete y.first_row,y.page>1&&(y.first_row=JSON.stringify(s.value[0])),y.filter_status=A.value;const{data:a,error:e,status:v}=await $("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,j.value.may_get_data=!0,v.value==="error"){C().trigger(e,pe);return}j.value.page==1?s.value=J(a.value.data):j.value.page>1&&(s.value=[...s.value,...J(a.value.data)]),a.value.data.length==0&&(j.value.is_last_record=!0),p()._tv.filter_box=!1},me=()=>{o.value=-1,j.value.page=1,j.value.is_last_record=!1,Z(),ce()},F=u(1),fe=u(1),Q=u(!1),ye=u(0),je=()=>{ye.value=0,F.value=-1,Q.value=!0},{display:q}=qt(),I=u(!1),E=u(0),qe=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,F.value=1,I.value=!0)},X=u(!1),ee=u(0),Oe=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(ee.value=s.value[o.value].id,fe.value=1,X.value=!0)},Ue=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,F.value=0,I.value=!0)},Ne=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,F.value=-1,I.value=!0)},te=u(!1),ke=u(0),Me=a=>{ke.value=a,te.value=!0},ae=u(!1),be=u({}),V=u(!1),M=u(""),Be=async()=>{V.value&&(V.value=!1)},Fe=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(M.value="",be.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},V.value=!0)};se(()=>M.value,a=>{a.trim().length>0?ae.value=!0:ae.value=!1},{immediate:!1});const Ie=async()=>{p().loading_full=!0;const a=new FormData;a.append("id",s.value[o.value].id),a.append("deleted_reason",M.value),a.append("_method","DELETE");const{data:e,error:v,status:T}=await $("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:a,retry:0});if(p().loading_full=!1,T.value==="error"){C().trigger(v);return}let l={...s.value[o.value]};l.deleted=e.value.deleted,l.deleted_user=e.value.deleted_user,l.deleted_at=e.value.deleted_at,l.deleted_by=e.value.deleted_by,l.deleted_reason=e.value.deleted_reason,l.class_h=G(l),A.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,V.value=!1},le=u(!1),ge=u({}),R=u(!1),B=u(""),Ee=async()=>{R.value&&(R.value=!1)},Ve=()=>{o.value==-1?q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(B.value="",ge.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},R.value=!0)};se(()=>B.value,a=>{a.trim().length>0?le.value=!0:le.value=!1},{immediate:!1});const Re=async()=>{p().loading_full=!0;const a=new FormData;a.append("id",s.value[o.value].id),a.append("req_deleted_reason",B.value),a.append("_method","DELETE");const{data:e,error:v,status:T}=await $("/trx_trp_req_delete",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:a,retry:0});if(p().loading_full=!1,T.value==="error"){C().trigger(v);return}let l={...s.value[o.value]};l.req_deleted=e.value.req_deleted,l.req_deleted_user=e.value.req_deleted_user,l.req_deleted_by=e.value.req_deleted_by,l.req_deleted_at=e.value.req_deleted_at,l.req_deleted_reason=e.value.req_deleted_reason,l.class_h=G(l),A.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,R.value=!1},re=u([]),L=u(!1),Ke=async()=>{p().loading_full=!0;const a=new FormData;a.append("ids",JSON.stringify(re.value)),a.append("_method","PUT");const{data:e,error:v,status:T}=await $("/trx_trp_validasis",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:a,retry:0});if(p().loading_full=!1,T.value==="error"){C().trigger(v);return}L.value=!1,e.value.val_lists.forEach(l=>{let D=s.value.map(n=>n.id).indexOf(l.id);if(D>-1){let n=s.value[D];n.val=l.val,n.val_by=l.val_by,n.val_at=l.val_at,n.val1=l.val1,n.val1_by=l.val1_by,n.val1_at=l.val1_at,n.val2=l.val2,n.val2_by=l.val2_by,n.val2_at=l.val2_at,n.val3=l.val3,n.val3_by=l.val3_by,n.val3_at=l.val3_at,n.val4=l.val4,n.val4_by=l.val4_by,n.val4_at=l.val4_at,n.val5=l.val5,n.val5_by=l.val5_by,n.val5_at=l.val5_at,n.val6=l.val6,n.val6_by=l.val6_by,n.val6_at=l.val6_at,n.updated_at=l.updated_at,s.value.splice(D,1,{...n})}}),de.value.clearCheckBox=!0},{printHtml:xe}=$e(),ze=async()=>{if(o.value==-1){q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:a,error:e,status:v}=await $("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){C().trigger(e);return}xe(a.value.html,318)},Ye=async()=>{if(o.value==-1){q({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:a,error:e,status:v}=await $("/trx_trp_preview_file_bt",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){C().trigger(e);return}xe(a.value.html,318)},Le=async()=>{p().loading_full=!0;const a=new FormData;a.append("online_status",N.value);const{data:e,error:v,status:T}=await $("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:a,retry:0});if(p().loading_full=!1,T.value==="error"){C().trigger(v);return}e.value.forEach(l=>{let D=s.value.map(n=>n.id).indexOf(l.id);if(D!==-1){let n=s.value[D];n.pvr_id=l.pvr_id,n.pvr_no=l.pvr_no,n.pvr_total=l.pvr_total,n.pvr_had_detail=l.pvr_had_detail,n.updated_at=l.updated_at,s.value.splice(D,1,{...n})}}),q({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},He=async()=>{p().loading_full=!0;const a=new FormData;a.append("online_status",N.value);const{data:e,error:v,status:T}=await $("/trx_trp_do_gen_pv",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:a,retry:0});if(p().loading_full=!1,T.value==="error"){C().trigger(v);return}e.value.forEach(l=>{let D=s.value.map(n=>n.id).indexOf(l.id);if(D!==-1){let n=s.value[D];n.pv_id=l.pv_id,n.pv_no=l.pv_no,n.pv_total=l.pv_total,n.pv_datetime=l.pv_datetime,n.pv_complete=l.pv_complete,n.updated_at=l.updated_at,s.value.splice(D,1,{...n})}}),q({show:!0,status:"Success",message:"Generate Or Update PV Done"})},he=u([{key:"cb",label:"",checkbox:"id"},{key:"no",label:"No",isai:!0},{key:"val",label:"APP",childs:[{key:"val",label:"Kasir",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val1",label:"Mandor",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val2",label:"KTU/W",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val3",label:"Marketing",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val4",label:"Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val5",label:"SPV Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val6",label:"MGR Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]}]},{key:"id",label:"ID",filter_on:1,type:"number",sort:{priority:2,type:"desc"}},{key:"absen",label:"Absen"},{key:"tanggal",label:"U.Jalan Per",type:"date",dateformat:"DD-MM-Y",filter_on:1,sort:{priority:1,type:"desc"}},{key:"no_pol",label:"No Pol",freeze:1,filter_on:1,type:"string"},{key:"uj_xto",label:"Tujuan",filter_on:1,type:"string"},{key:"uj_asst_opt",label:"Info",filter_on:1,type:"select",select_item:["DENGAN KERNET","TANPA KERNET"]},{key:"uj_tipe",label:"Tipe",filter_on:1,type:"string"},{key:"jenis",label:"Jenis",filter_on:1,type:"select",select_item:["TBS","TBSK","CPO","PK","LAIN","TUNGGU"]},{key:"uj_harga",label:"Amount",class:" justify-end",filter_on:1,type:"number"},{key:"transition",label:"Peralihan",childs:[{key:"transition_type",label:"Type",type:"select",filter_on:1,select_item:["To","From"]},{key:"transition_target",label:"Target",type:"select",filter_on:1,select_item:p().list_pabrik}]},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"string",class:" justify-start",filter_on:1},{key:"cost_center_desc",label:"Desc",filter_on:1,type:"string"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No",filter_on:1,type:"string"},{key:"pvr_total",label:"Total",filter_on:1,type:"number"},{key:"pvr_had_detail",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"pv",label:"PV",childs:[{key:"pv_datetime",label:"Date",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"pv_no",label:"No",filter_on:1,type:"string"},{key:"pv_total",label:"Total",filter_on:1,type:"number"},{key:"pv_complete",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"supir",label:"Supir",filter_on:1,type:"string"},{key:"supir_rek_no",label:"No Rek Supir",filter_on:1,type:"string"},{key:"supir_rek_name",label:"Nama Rek Supir",filter_on:1,type:"string"},{key:"kernet",label:"Kernet",filter_on:1,type:"string"},{key:"kernet_rek_no",label:"No Rek Kernet",filter_on:1,type:"string"},{key:"kernet_rek_name",label:"Nama Rek Kernet",filter_on:1,type:"string"},{key:"payment_method_name",label:"Payment Method Name",type:"string"},{key:"received_payment",label:"Sudah Dibayarkan?",type:"string"},{key:"duitku_supir_disburseId",label:"ID Duitku Supir",type:"string"},{key:"duitku_supir_inv_res_desc",label:"Ket Inquery Duitku Supir",type:"string"},{key:"duitku_supir_trf_res_desc",label:"Ket Pengiriman Duitku Supir",type:"string"},{key:"duitku_kernet_disburseId",label:"ID Duitku Kernet",type:"string"},{key:"duitku_kernet_inv_res_desc",label:"Ket Inquery Duitku Kernet",type:"string"},{key:"duitku_kernet_trf_res_desc",label:"Ket Pengiriman Duitku Kernet",type:"string"},{key:"created_at",label:"Created At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"updated_at",label:"Updated At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"salary_paid",label:"Salary Paid",type:"string"},{key:"deleted_by_username",label:"Deleted By",tbl_show:0},{key:"deleted_at",label:"Deleted At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"deleted_reason",label:"Deleted Reason",tbl_show:0,type:"string",filter_on:1},{key:"req_deleted_by_username",label:"Req Deleted By",tbl_show:0},{key:"req_deleted_at",label:"Req Delete At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"req_deleted_reason",label:"Req Delete Reason",tbl_show:0,type:"string",filter_on:1}]),Ge=S(()=>["pv_not_done","all"].indexOf(A.value)>-1&&f().checkPermission("trp_trx.create")),Je=S(()=>o.value>-1&&f().checkPermission("trp_trx.view")),We=S(()=>o.value>-1&&f().checkPermission("trp_trx.ticket.views"));S(()=>o.value>-1&&[void 0,0].indexOf(d.value.deleted)>-1&&[void 0,0].indexOf(d.value.req_deleted)>-1&&[void 0,0].indexOf(d.value.val4)>-1&&[void 0,""].indexOf(d.value.pvr_id)>-1&&f().checkPermission("trp_trx.modify"));const Ze=S(()=>o.value>-1&&[void 0,0].indexOf(d.value.deleted)>-1&&[void 0,0].indexOf(d.value.req_deleted)>-1&&([void 0,""].indexOf(d.value.pvr_id)>-1&&f().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2"])||d.value.val3==0&&f().checkPermissions(["trp_trx.val3"])||d.value.val4==0&&f().checkPermissions(["trp_trx.val4"])||d.value.val5==0&&f().checkPermissions(["trp_trx.val5"])||d.value.val6==0&&f().checkPermissions(["trp_trx.val6"]))),Qe=S(()=>o.value>-1&&[void 0,0].indexOf(d.value.deleted)>-1&&[void 0,0].indexOf(d.value.req_deleted)>-1&&(d.value.val1==1&&f().checkPermissions(["trp_trx.unval1"])||d.value.val2==1&&f().checkPermissions(["trp_trx.unval2"])||d.value.val3==1&&f().checkPermissions(["trp_trx.unval3"])||d.value.val4==1&&f().checkPermissions(["trp_trx.unval4"])||d.value.val5==1&&f().checkPermissions(["trp_trx.unval5"])||d.value.val6==1&&f().checkPermissions(["trp_trx.unval6"]))),Xe=S(()=>o.value>-1&&[void 0,0].indexOf(d.value.deleted)>-1&&[void 0,0].indexOf(d.value.req_deleted)>-1&&[void 0,""].indexOf(d.value.pvr_id)>-1&&f().checkPermission("trp_trx.remove")),et=S(()=>o.value>-1&&[void 0,0].indexOf(d.value.deleted)>-1&&[void 0,0].indexOf(d.value.req_deleted)>-1&&d.value.pvr_id!=""&&f().checkPermission("trp_trx.request_remove")),tt=S(()=>o.value>-1&&d.value.val==1&&f().checkPermission("trp_trx.preview_file")),at=S(()=>o.value>-1&&d.value.payment_method_id==2&&d.value.received_payment==1&&f().checkPermission("trp_trx.preview_file")),{downloadFile:we,viewFile:na}=$e(),lt=async()=>{Z(),p().loading_full=!0,y.filter_status=A.value;const{data:a,error:e,status:v}=await $("/trx_trp/report_raw_excel",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,v.value==="error"){C().trigger(e);return}we(a.value)},rt=async()=>{Z(),p().loading_full=!0,y.filter_status=A.value;const{data:a,error:e,status:v}=await $("/trx_trp/report_excel_w_uj",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:y,retry:0});if(p().loading_full=!1,v.value==="error"){C().trigger(e);return}we(a.value)};return(a,e)=>{const v=pt,T=vt,l=ct,D=mt,n=ft,K=yt,nt=kt,De=bt,Pe=gt,ot=xt,O=ht,U=wt,st=Dt,ne=Pt,it=Ct,ut=$t,_t=At,dt=Tt;return i(),x("div",Ft,[m(v,{title:"List Transaction"}),g("div",It,[g("div",Et,[g("div",Vt,[g("div",Rt,[ie(g("select",{class:"","onUpdate:modelValue":e[0]||(e[0]=t=>ue(A)?A.value=t:null)},zt,512),[[Ot,r(A)]])]),r(Ge)?(i(),x("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[1]||(e[1]=t=>je())},[m(T)])):h("",!0),r(Je)?(i(),x("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[2]||(e[2]=t=>Ne())},[m(l)])):h("",!0),r(Xe)?(i(),x("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[3]||(e[3]=t=>Fe())},[m(D)])):h("",!0),r(et)?(i(),x("button",{key:3,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[4]||(e[4]=t=>Ve())},[m(n)])):h("",!0),r(Ze)?(i(),x("button",{key:4,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[5]||(e[5]=t=>qe())},[m(K)])):h("",!0),r(Qe)?(i(),x("button",{key:5,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[6]||(e[6]=t=>Ue())},[m(nt)])):h("",!0),r(We)?(i(),x("button",{key:6,type:"button",name:"button",class:"m-1 text-4xl p-0",onClick:e[7]||(e[7]=t=>Oe())},[m(l)])):h("",!0),r(tt)?(i(),x("button",{key:7,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[8]||(e[8]=t=>ze())},[m(De)])):h("",!0),r(at)?(i(),x("button",{key:8,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[9]||(e[9]=t=>Ye())},[m(De)])):h("",!0),g("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:e[10]||(e[10]=t=>lt())},[m(Pe),k(),Yt]),g("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:e[11]||(e[11]=t=>rt())},[m(Pe),k(),Lt]),r(re).length>0&&("useUtils"in a?a.useUtils:r(f))().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2","trp_trx.val3","trp_trx.val4","trp_trx.val5","trp_trx.val6"])?(i(),x("button",{key:9,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap grid grid-cols-2",onClick:e[12]||(e[12]=t=>L.value=!0)},[m(K),m(K),m(K),m(K)])):h("",!0)]),g("div",Ht,[("useUtils"in a?a.useUtils:r(f))().checkPermission("trp_trx.generate_pvr")?(i(),x("button",{key:0,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[13]||(e[13]=t=>Le())}," Gen/Update PVR ")):h("",!0),("useUtils"in a?a.useUtils:r(f))().checkPermission("trp_trx.generate_pv")?(i(),x("button",{key:1,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[14]||(e[14]=t=>He())}," Gen/Update PV ")):h("",!0),("useUtils"in a?a.useUtils:r(f))().checkPermissions(["trp_trx.generate_pvr","trp_trx.generate_pv","trp_trx.get_pv"])?(i(),x("div",{key:2,class:"m-1 card-border cursor-pointer",onClick:e[15]||(e[15]=t=>N.value=!r(N))},[Gt,k(" : "),g("span",{class:Ut(["font-bold",r(N)?"text-green-600":"text-red-600"])},w(r(N)?"ONLINE":"OFFLINE"),3)])):h("",!0)])]),m(st,{thead:r(he),selected:r(o),onSetSelected:e[16]||(e[16]=t=>o.value=t),tbody:r(s),fnCallData:ce,scrolling:r(j),onSetScrollingPage:e[17]||(e[17]=t=>r(j).page=t),onDoFilter:e[18]||(e[18]=t=>me()),onSetCheckbox:e[19]||(e[19]=t=>re.value=t),deep_state:r(de)},{id:c(({item:t})=>[k(w(t.id),1),t.potongan&&t.potongan.length>0?(i(),x("span",Jt,"*")):h("",!0)]),absen:c(({item:t,index:_})=>[t.trx_absens&&t.trx_absens.length>0?(i(),b(ot,{key:0,class:"cursor-pointer",onClick:oe=>Me(_)},null,8,["onClick"])):h("",!0)]),val:c(({item:t})=>[t.val?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),val1:c(({item:t})=>[g("div",Wt,[t.val1?(i(),b(U,{key:1})):(i(),b(O,{key:0})),t.absen_not_done&&t.absen_not_done.length>0?(i(),x("div",Zt,w(t.absen_not_done.join(",")),1)):h("",!0)])]),val2:c(({item:t})=>[t.val2?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),val3:c(({item:t})=>[t.val3?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),val4:c(({item:t})=>[t.val4?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),val5:c(({item:t})=>[t.val5?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),val6:c(({item:t})=>[t.val6?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),salary_paid:c(({item:t})=>{var _,oe;return[k(w(t.salary_paid?r(H)((_=t.salary_paid)==null?void 0:_.period_end).format("MM-Y")+"["+((oe=t.salary_paid)==null?void 0:oe.period_part)+"]":""),1)]}),uj_xto:c(({item:t})=>{var _;return[k(w((_=t.uj)==null?void 0:_.xto),1)]}),uj_asst_opt:c(({item:t})=>{var _;return[k(w((_=t.uj)==null?void 0:_.asst_opt),1)]}),uj_tipe:c(({item:t})=>{var _;return[k(w((_=t.uj)==null?void 0:_.tipe),1)]}),uj_harga:c(({item:t})=>{var _;return[k(w(r(Ae)((_=t.uj)==null?void 0:_.harga)),1)]}),payment_method_name:c(({item:t})=>{var _;return[k(w((_=t.payment_method)==null?void 0:_.name),1)]}),received_payment:c(({item:t})=>[k(w(t.received_payment?"Ya":"Tidak"),1)]),pvr_had_detail:c(({item:t})=>[t.pvr_had_detail?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),pv_complete:c(({item:t})=>[t.pv_complete?(i(),b(U,{key:1})):(i(),b(O,{key:0}))]),deleted_by_username:c(({item:t})=>{var _;return[k(w((_=t.deleted_by)==null?void 0:_.username),1)]}),req_deleted_by_username:c(({item:t})=>{var _;return[k(w((_=t.req_deleted_by)==null?void 0:_.username),1)]}),supir:c(({item:t})=>[k(w(t.supir)+" ",1),t.potongan&&t.potongan.length>0&&t.potongan.map(_=>_.potongan_mst.employee_id).indexOf(t.supir_id)>-1?(i(),x("span",Qt," * ")):h("",!0)]),kernet:c(({item:t})=>[k(w(t.kernet)+" ",1),t.potongan&&t.potongan.length>0&&t.potongan.map(_=>_.potongan_mst.employee_id).indexOf(t.kernet_id)>-1?(i(),x("span",Xt," * ")):h("",!0)]),_:2},1032,["thead","selected","tbody","scrolling","deep_state"])]),m(ne,{type:"delete",show:r(V),data:r(be),fnClose:Be,fnConfirm:Ie,enabledOk:r(ae)},{footer:c(()=>[k(" Masukkan Alasan Penghapusan: "),g("div",ea,[ie(g("textarea",{"onUpdate:modelValue":e[20]||(e[20]=t=>ue(M)?M.value=t:null)},null,512),[[Ce,r(M)]])])]),_:1},8,["show","data","enabledOk"]),m(ne,{type:"custome",show:r(L),fnClose:()=>L.value=!1,fnConfirm:Ke},{words:c(()=>[k(" Ticket akan "),ta,k(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),m(ne,{type:"custome",show:r(R),data:r(ge),fnClose:Ee,fnConfirm:Re,enabledOk:r(le)},{words:c(()=>[k(" Data akan diproses dan "),aa,k(", yakin untuk melanjutkan ? ")]),footer:c(()=>[k(" Masukkan Alasan Permintaan Penghapusan: "),g("div",la,[ie(g("textarea",{"onUpdate:modelValue":e[21]||(e[21]=t=>ue(B)?B.value=t:null)},null,512),[[Ce,r(B)]])])]),_:1},8,["show","data","enabledOk"]),m(it,{show:r(Q),fnClose:()=>{Q.value=!1},fnLoadDBData:Se,id:r(ye),p_data:r(s),list_cost_center:r(ve),online_status:r(N)},null,8,["show","fnClose","id","p_data","list_cost_center","online_status"]),m(ut,{show:r(I),fnClose:()=>{I.value=!1},id:r(E),p_data:r(s),it_state:r(F),onSetID:e[22]||(e[22]=t=>E.value=t),onSetIndex:e[23]||(e[23]=t=>o.value=t)},null,8,["show","fnClose","id","p_data","it_state"]),m(_t,{show:r(te),fnClose:()=>{te.value=!1},index:r(ke),p_data:r(s)},null,8,["show","fnClose","index","p_data"]),m(dt,{show:r(X),fnClose:()=>{X.value=!1},id:r(ee),p_data:r(s),it_state:r(fe),onSetID:e[24]||(e[24]=t=>ee.value=t),onSetIndex:e[25]||(e[25]=t=>o.value=t)},null,8,["show","fnClose","id","p_data","it_state"])])}}};export{nl as default};
