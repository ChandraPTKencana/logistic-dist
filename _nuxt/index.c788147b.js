import{_ as yt}from"./Header.4b4c8ee7.js";import{_ as $t}from"./Plus.6237a016.js";import{_ as Tt}from"./Edit.380591db.js";import{_ as Dt}from"./Delete.02381556.js";import{_ as At}from"./Signature.0aa1cbd5.js";import{_ as jt,u as Mt,a as Ct}from"./useDownload.dce1f5b4.js";import{_ as Ht}from"./Search.00c989fc.js";import{_ as Bt,a as St}from"./Check.842d2142.js";import{_ as Pt}from"./PopupMini.vue.c31e839a.js";import{_ as Yt}from"./HeaderPopup.vue.04753549.js";import{r as u,u as lt,g as Nt,n as z,v as It,o as n,c as _,a as t,b,t as s,x as e,M as f,z as st,C as ot,D as x,E as P,p as Ft,e as Vt,K as Ot,I as zt,N as tt,O as Lt,s as Ut,q as Et,y as et,F as Jt,A as Kt,L as Rt,B as qt,T as O,U as Zt}from"./entry.e571ef97.js";import{u as at}from"./useUtils.100f5b4a.js";import{u as H}from"./useMyFetch.d8d5260c.js";import{_ as Gt}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as Qt}from"./Times.bb38d852.js";import"./client-only.5e7dc726.js";import"./InputPointFormat.vue.fc4c1719.js";const i=$=>(Ft("data-v-22cde9d3"),$=$(),Vt(),$),Wt={class:"box-fixed"},Xt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},te={class:"w-full flex flex-col items-center grow overflow-auto"},ee={class:"w-full flex flex-row flex-wrap"},le={class:"w-full flex flex-col flex-wrap p-1"},se=i(()=>t("label",{for:""},"U.Jalan Per",-1)),oe={class:"card-border"},ae={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ie=i(()=>t("label",{for:""},"Jenis",-1)),ne={class:"card-border"},_e={key:0,class:"w-full flex pt-5"},re={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ce=i(()=>t("label",{for:""},"Tujuan",-1)),de={class:"card-border"},ue={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},fe=i(()=>t("label",{for:""},"Tipe",-1)),pe={class:"card-border"},ve={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},me=i(()=>t("label",{for:""},"Total Dari U.Jalan",-1)),he={class:"card-border"},we={key:1,class:"w-full flex pb-5"},be={class:"w-full sm:w-8/12 md:w-9/12 lg:w-9/12 flex flex-col flex-wrap p-1"},xe=i(()=>t("label",{for:""},"PV",-1)),ke={class:"card-border"},ge={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ye=i(()=>t("label",{for:""},"Total Dari PV",-1)),$e={class:"card-border"},Te={key:2,class:"w-full flex flex-col flex-wrap p-1"},De=i(()=>t("label",{for:""},"Tiket A",-1)),Ae={class:"card-border"},je={key:3,class:"w-full flex flex-wrap"},Me={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ce=i(()=>t("label",{for:""},"Bruto dari Tiket",-1)),He={class:"card-border"},Be={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Se=i(()=>t("label",{for:""},"Tara dari Tiket",-1)),Pe={class:"card-border"},Ye={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ne=i(()=>t("label",{for:""},"Netto dari Tiket",-1)),Ie={class:"card-border"},Fe={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ve=i(()=>t("label",{for:""},"Supir",-1)),Oe={class:"card-border"},ze={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Le=i(()=>t("label",{for:""},"No Pol",-1)),Ue={class:"card-border"},Ee={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Je=i(()=>t("label",{for:""},"In At",-1)),Ke={class:"card-border"},Re={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},qe=i(()=>t("label",{for:""},"Out At",-1)),Ze={class:"card-border"},Ge={key:4,class:"w-full flex flex-col flex-wrap p-1"},Qe=i(()=>t("label",{for:""},"Tiket B",-1)),We={class:"card-border"},Xe={key:5,class:"w-full flex flex-wrap"},tl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},el=i(()=>t("label",{for:""},"Bruto dari Tiket",-1)),ll={class:"card-border"},sl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ol=i(()=>t("label",{for:""},"Tara dari Tiket",-1)),al={class:"card-border"},il={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},nl=i(()=>t("label",{for:""},"Netto dari Tiket",-1)),_l={class:"card-border"},rl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},cl=i(()=>t("label",{for:""},"Supir",-1)),dl={class:"card-border"},ul={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},fl=i(()=>t("label",{for:""},"No Pol",-1)),pl={class:"card-border"},vl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},ml=i(()=>t("label",{for:""},"In At",-1)),hl={class:"card-border"},wl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},bl=i(()=>t("label",{for:""},"Out At",-1)),xl={class:"card-border"},kl={key:6,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},gl=i(()=>t("label",{for:""},"Bruto",-1)),yl={class:"card-border"},$l={key:7,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Tl=i(()=>t("label",{for:""},"Tara",-1)),Dl={class:"card-border"},Al={key:8,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},jl=i(()=>t("label",{for:""},"Netto",-1)),Ml={class:"card-border"},Cl={key:9,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Hl=i(()=>t("label",{for:""},"In At",-1)),Bl={class:"card-border"},Sl={key:10,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Pl=i(()=>t("label",{for:""},"Out At",-1)),Yl={class:"card-border"},Nl={key:11,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Il=i(()=>t("label",{for:""},"Supir",-1)),Fl={class:"card-border"},Vl={key:12,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ol=i(()=>t("label",{for:""},"Kernet",-1)),zl={class:"card-border"},Ll={key:13,class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ul=i(()=>t("label",{for:""},"No Pol",-1)),El={class:"card-border"},Jl={class:"w-full flex items-center justify-end"},Kl={class:"w-full flex flex-wrap p-3 items-center"},Rl=i(()=>t("div",null," Di Validasi oleh : ",-1)),ql={key:0,class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white text-xs"},Zl={key:0},Gl={key:1},Ql={__name:"trx_trp_validasi",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]}},setup($){const h=$,{$moment:w}=ot(),{pointFormat:d}=at(),l=u({...{id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",val:0,val_by:{username:""},val_at:"",val1:0,val1_by:{username:""},val1_at:""}}),A=lt("token"),B=async()=>{x().loading_full=!0;const y=new FormData;let k="post",j=h.id;j==0||(y.append("id",j),y.append("_method","PUT"));const{data:r,error:D,status:m}=await H("/trx_trp_validasi",{method:k,headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:y,retry:0});if(x().loading_full=!1,m.value==="error"){P().trigger(D);return}l.value.val=r.value.val,l.value.val_user=r.value.val_user,l.value.val_by=r.value.val_by,l.value.val_at=r.value.val_at,l.value.val1=r.value.val1,l.value.val1_user=r.value.val1_user,l.value.val1_by=r.value.val1_by,l.value.val1_at=r.value.val1_at;let v=h.p_data.map(L=>L.id).indexOf(h.id);v>=-1&&h.p_data.splice(v,1,{...l.value}),h.fnClose()},p=async()=>{x().loading_full=!0;const{data:y,error:k,status:j}=await H("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:{id:h.id},retry:0});if(x().loading_full=!1,j.value==="error"){P().trigger(k);return}l.value=y.value.data};return Nt(()=>h.show,(y,k)=>{y==!0&&p()},{immediate:!0}),(y,k)=>{const j=Yt;return z((n(),_("section",Wt,[t("div",null,[b(j,{title:"Form Transaction Validation",fn:$.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",Xt,[t("div",te,[t("div",ee,[t("div",le,[se,t("div",oe,s(e(l).tanggal?e(w)(e(l).tanggal).format("DD-MM-YYYY"):""),1)]),t("div",ae,[ie,t("div",ne,s(e(l).jenis),1)]),e(l).jenis!=""?(n(),_("div",_e,[t("div",re,[ce,t("div",de,s(e(l).xto),1)]),t("div",ue,[fe,t("div",pe,s(e(l).tipe),1)]),t("div",ve,[me,t("div",he,s(e(d)(e(l).amount||0)),1)])])):f("",!0),e(l).jenis!=""?(n(),_("div",we,[t("div",be,[xe,t("div",ke,s(e(l).pv_no),1)]),t("div",ge,[ye,t("div",$e,s(e(d)(e(l).pv_total||0)),1)])])):f("",!0),e(l).jenis!=""?(n(),_("div",Te,[De,t("div",Ae,s(e(l).ticket_a_no),1)])):f("",!0),e(l).jenis!=""?(n(),_("div",je,[t("div",Me,[Ce,t("div",He,s(e(d)(e(l).ticket_a_bruto||0)),1)]),t("div",Be,[Se,t("div",Pe,s(e(d)(e(l).ticket_a_tara||0)),1)]),t("div",Ye,[Ne,t("div",Ie,s(e(d)(e(l).ticket_a_netto||0)),1)]),t("div",Fe,[Ve,t("div",Oe,s(e(l).ticket_a_supir),1)]),t("div",ze,[Le,t("div",Ue,s(e(l).ticket_a_no_pol),1)]),t("div",Ee,[Je,t("div",Ke,s(e(l).ticket_a_in_at?e(w)(e(l).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):""),1)]),t("div",Re,[qe,t("div",Ze,s(e(l).ticket_a_out_at?e(w)(e(l).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])])):f("",!0),e(l).jenis=="TBS"?(n(),_("div",Ge,[Qe,t("div",We,s(e(l).ticket_b_no),1)])):f("",!0),e(l).jenis=="TBS"?(n(),_("div",Xe,[t("div",tl,[el,t("div",ll,s(e(d)(e(l).ticket_b_bruto||0)),1)]),t("div",sl,[ol,t("div",al,s(e(d)(e(l).ticket_b_tara||0)),1)]),t("div",il,[nl,t("div",_l,s(e(d)(e(l).ticket_b_netto||0)),1)]),t("div",rl,[cl,t("div",dl,s(e(l).ticket_b_supir),1)]),t("div",ul,[fl,t("div",pl,s(e(l).ticket_b_no_pol),1)]),t("div",vl,[ml,t("div",hl,s(e(l).ticket_b_in_at?e(w)(e(l).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)]),t("div",wl,[bl,t("div",xl,s(e(l).ticket_b_out_at?e(w)(e(l).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])])):f("",!0),e(l).jenis=="CPO"?(n(),_("div",kl,[gl,t("div",yl,s(e(d)(e(l).ticket_b_bruto||0)),1)])):f("",!0),e(l).jenis=="CPO"?(n(),_("div",$l,[Tl,t("div",Dl,s(e(d)(e(l).ticket_b_tara||0)),1)])):f("",!0),e(l).jenis=="CPO"?(n(),_("div",Al,[jl,t("div",Ml,s(e(d)(e(l).ticket_b_netto||0)),1)])):f("",!0),e(l).jenis=="CPO"?(n(),_("div",Cl,[Hl,t("div",Bl,s(e(l).ticket_b_in_at?e(w)(e(l).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)])):f("",!0),e(l).jenis=="CPO"?(n(),_("div",Sl,[Pl,t("div",Yl,s(e(l).ticket_b_out_at?e(w)(e(l).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])):f("",!0),e(l).jenis!=""?(n(),_("div",Nl,[Il,t("div",Fl,s(e(l).supir),1)])):f("",!0),e(l).jenis!=""?(n(),_("div",Vl,[Ol,t("div",zl,s(e(l).kernet),1)])):f("",!0),e(l).jenis!=""?(n(),_("div",Ll,[Ul,t("div",El,s(e(l).no_pol),1)])):f("",!0)])]),t("div",Jl,[t("div",Kl,[Rl,e(l).val||e(l).val1?(n(),_("div",ql,[e(l).val?(n(),_("div",Zl," App 1 : "+s(e(l).val_by.username)+" ( "+s(e(l).val_at?e(w)(e(l).val_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):f("",!0),e(l).val1?(n(),_("div",Gl," App 2 : "+s(e(l).val1_by.username)+" ( "+s(e(l).val1_at?e(w)(e(l).val1_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):f("",!0)])):f("",!0)]),t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:k[0]||(k[0]=r=>$.fnClose())}," Cancel "),t("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:k[1]||(k[1]=st(r=>B(),["prevent"]))}," Validasi ")])])])],512)),[[It,$.show]])}}},Wl=Gt(Ql,[["__scopeId","data-v-22cde9d3"]]),Xl={class:"w-full h-full flex flex-col"},ts={class:"w-full flex grow flex-col overflow-auto h-0"},es={class:"w-full flex"},ls={action:"#",class:"w-full flex p-1"},ss={class:"grow"},os=t("div",{class:"font-bold"}," Keyword ",-1),as={class:"pl-1"},is=t("div",{class:"font-bold"}," Sort By ",-1),ns=Zt('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),_s=[ns],rs={class:"pl-1"},cs=t("div",{class:"font-bold"}," Sort Order ",-1),ds=t("option",{value:"asc"},"Asc",-1),us=t("option",{value:"desc"},"Desc",-1),fs=[ds,us],ps={class:"flex items-end pl-1"},vs={class:"w-full flex justify-center items-center grow h-0 p-1"},ms={key:0,class:""},hs={class:"tacky"},ws=t("thead",null,[t("tr",{class:"sticky top-0 !z-[2]"},[t("th",null,"App 1"),t("th",null,"App 2"),t("th",null,"ID"),t("th",null,"U.Jalan Per"),t("th",null,"Tujuan"),t("th",null,"Tipe"),t("th",null,"Jenis"),t("th",null,"Amount"),t("th",null,"PV No"),t("th",null,"PV Total"),t("th",null,"Ticket A No"),t("th",null,"Ticket A Bruto"),t("th",null,"Ticket A Tara"),t("th",null,"Ticket A Netto"),t("th",null,"Ticket A Supir"),t("th",null,"Ticket A No Pol"),t("th",null,"Ticket A In At"),t("th",null,"Ticket A Out At"),t("th",null,"Ticket B No"),t("th",null,"Ticket B Bruto"),t("th",null,"Ticket B Tara"),t("th",null,"Ticket B Netto"),t("th",null,"Ticket B Supir"),t("th",null,"Ticket B No Pol"),t("th",null,"Ticket B In At"),t("th",null,"Ticket B Out At"),t("th",null,"Supir"),t("th",null,"Kernet"),t("th",null,"No Pol"),t("th",null,"Created At"),t("th",null,"Updated At")])],-1),bs=["onClick"],xs={class:"flex items-center justify-center"},ks={class:"flex items-center justify-center"},gs={class:"bold"},ys={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},$s={class:"relative",style:{width:"95%",height:"90%"}},Ts={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},Ds=["src"],Js={__name:"index",async setup($){let h,w;const{$moment:d}=ot(),{pointFormat:T}=at(),l={};l._TimeZoneOffset=new Date().getTimezoneOffset(),l.sort="created_at:desc";const A=lt("token"),{data:B}=([h,w]=Ot(async()=>Rt(async()=>{x().loading_full=!0;let c=[],a=[],g=[],M=[],N=[];const[S,C]=await Promise.all([H("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},retry:0}),H("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},retry:0})]);return S.status.value!=="error"&&(c=S.data.value.data),S.status.value==="error"?(P().trigger(S.error),{trx_trps:c,list_ujalan:a,list_tipe:g,list_ticket:M,list_pv:N}):(C.status.value!=="error"&&(a=C.data.value.list_ujalan,g=C.data.value.list_tipe,M=C.data.value.list_ticket,N=C.data.value.list_pv),x().loading_full=!1,{trx_trps:c,list_ujalan:a,list_tipe:g,list_ticket:M,list_pv:N})},"$pFLmKcrKj9")),h=await h,w(),h),p=u(B.value.trx_trps||[]),y=u(B.value.list_ujalan),k=u(B.value.list_ticket),j=u(B.value.list_pv),r=u(""),D=u({field:"created_at",by:"desc"}),m=u(-1),v=u({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),L=()=>{l.like="",r.value!=""&&(l.like=`id:%${r.value}%,warehouse_name:%${r.value}%,warehouse_source_name:%${r.value}%,warehouse_target_name:%${r.value}%,item_name:%${r.value}%,status:%${r.value}%,type:%${r.value}%`),l.sort="",D.value.field&&(l.sort=D.value.field+":"+D.value.by)},I=u(null),R=async()=>{x().loading_full=!0,v.value.may_get_data=!1,l.page=v.value.page,l.page==1&&(p.value=[]),l.first_row&&delete l.first_row,l.page>1&&(l.first_row=JSON.stringify(p.value[0]));const{data:c,error:a,status:g}=await H("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:l,retry:0});if(x().loading_full=!1,v.value.may_get_data=!0,g.value==="error"){P().trigger(a);return}v.value.page==1?(p.value=c.value.data,I.value&&(I.value.scrollTop=0)):v.value.page>1&&(p.value=[...p.value,...c.value.data]),c.value.data.length==0&&(v.value.is_last_record=!0)},it=async()=>{if(!v.value.may_get_data)return;let c=I.value;if(c.scrollLeft!=v.value.scrollLeft){v.value.scrollLeft=c.scrollLeft;return}v.value.is_last_record||!(Math.round(c.scrollTop)+c.clientHeight>=c.scrollHeight-1)||(v.value.page++,await R())},nt=()=>{v.value.page=1,v.value.is_last_record=!1,L(),R()};zt();const F=u(!1),U=u(0),_t=()=>{U.value=0,F.value=!0},{display:V}=tt();Lt(tt());const rt=()=>{m.value==-1?V({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(U.value=p.value[m.value].id,F.value=!0)},E=u(!1),q=u(0),ct=()=>{m.value==-1?V({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(q.value=p.value[m.value].id,E.value=!0)},Z=u({}),Y=u(!1),dt=async()=>{Y.value&&(Y.value=!1)},ut=()=>{m.value==-1?V({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(Z.value={id:p.value[m.value].id},Y.value=!0)},ft=async()=>{x().loading_full=!0;const c=new FormData;c.append("id",p.value[m.value].id),c.append("_method","DELETE");const{data:a,error:g,status:M}=await H("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:c,retry:0});if(x().loading_full=!1,M.value==="error"){P().trigger(g);return}p.value.splice(m.value,1),m.value=-1,Y.value=!1},{downloadFile:pt,printHtml:vt}=Mt(),J=u(!1),G=u(""),Q=async()=>{if(J.value==!0){J.value=!1;return}if(m.value==-1){V({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}x().loading_full=!0;const{data:c,error:a,status:g}=await H("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:{id:p.value[m.value].id},retry:0});if(x().loading_full=!1,g.value==="error"){P().trigger(a);return}vt(c.value.html,318)},mt=()=>{pt(G.value)};return(c,a)=>{const g=yt,M=$t,N=Tt,S=Dt,C=At,ht=Ct,wt=Ht,W=Bt,X=St,bt=Pt,xt=jt,kt=Wl,gt=Qt;return n(),_("div",Xl,[b(g,{title:"List Transaction"}),t("div",ts,[t("div",es,[t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:a[0]||(a[0]=o=>_t())},[b(M)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:a[1]||(a[1]=o=>rt())},[b(N)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:a[2]||(a[2]=o=>ut())},[b(S)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:a[3]||(a[3]=o=>ct())},[b(C)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:a[4]||(a[4]=o=>Q())},[b(ht)])]),t("form",ls,[t("div",ss,[os,z(t("input",{class:"",type:"text","onUpdate:modelValue":a[5]||(a[5]=o=>Et(r)?r.value=o:null),name:"search",placeholder:"Keyword"},null,512),[[Ut,e(r)]])]),t("div",as,[is,z(t("select",{class:"","onUpdate:modelValue":a[6]||(a[6]=o=>e(D).field=o)},_s,512),[[et,e(D).field]])]),t("div",rs,[cs,z(t("select",{class:"","onUpdate:modelValue":a[7]||(a[7]=o=>e(D).by=o)},fs,512),[[et,e(D).by]])]),t("div",ps,[t("button",{class:"",type:"submit",name:"button",onClick:a[8]||(a[8]=st(o=>nt(),["prevent"]))},[b(wt,{class:"text-2xl"})])])]),t("div",vs,[e(p).length==0?(n(),_("div",ms," Maaf Tidak Ada Record ")):(n(),_("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:I,onScroll:it},[t("table",hs,[ws,t("tbody",null,[(n(!0),_(Jt,null,Kt(e(p),(o,K)=>(n(),_("tr",{key:K,onClick:As=>m.value=K,class:qt(e(m)==K?"active":"")},[t("td",null,[t("div",xs,[o.val?(n(),O(X,{key:1})):(n(),O(W,{key:0}))])]),t("td",null,[t("div",ks,[o.val1?(n(),O(X,{key:1})):(n(),O(W,{key:0}))])]),t("td",gs,s(o.id),1),t("td",null,s(o.tanggal?e(d)(o.tanggal).format("DD-MM-Y"):""),1),t("td",null,s(o.xto),1),t("td",null,s(o.tipe),1),t("td",null,s(o.jenis),1),t("td",null,s(e(T)(o.amount)),1),t("td",null,s(o.pv_no),1),t("td",null,s(e(T)(o.pv_total)),1),t("td",null,s(o.ticket_a_no),1),t("td",null,s(e(T)(o.ticket_a_bruto)),1),t("td",null,s(e(T)(o.ticket_a_tara)),1),t("td",null,s(e(T)(o.ticket_a_netto)),1),t("td",null,s(o.ticket_a_supir),1),t("td",null,s(o.ticket_a_no_pol),1),t("td",null,s(o.ticket_a_in_at?e(d)(o.ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):""),1),t("td",null,s(o.ticket_a_out_at?e(d)(o.ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):""),1),t("td",null,s(o.ticket_b_no),1),t("td",null,s(e(T)(o.ticket_b_bruto)),1),t("td",null,s(e(T)(o.ticket_b_tara)),1),t("td",null,s(e(T)(o.ticket_b_netto)),1),t("td",null,s(o.ticket_b_supir),1),t("td",null,s(o.ticket_b_no_pol),1),t("td",null,s(o.ticket_b_in_at?e(d)(o.ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1),t("td",null,s(o.ticket_b_out_at?e(d)(o.ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1),t("td",null,s(o.supir),1),t("td",null,s(o.kernet),1),t("td",null,s(o.no_pol),1),t("td",null,s(o.created_at?e(d)(o.created_at).format("DD-MM-Y HH:mm:ss"):""),1),t("td",null,s(o.updated_at?e(d)(o.updated_at).format("DD-MM-Y HH:mm:ss"):""),1)],10,bs))),128))])])],544))])]),b(bt,{type:"delete",show:e(Y),data:e(Z),fnClose:dt,fnConfirm:ft},null,8,["show","data"]),b(xt,{show:e(F),fnClose:()=>{F.value=!1},id:e(U),p_data:e(p),list_ujalan:e(y),list_ticket:e(k),list_pv:e(j)},null,8,["show","fnClose","id","p_data","list_ujalan","list_ticket","list_pv"]),b(kt,{show:e(E),fnClose:()=>{E.value=!1},id:e(q),p_data:e(p)},null,8,["show","fnClose","id","p_data"]),e(J)?(n(),_("div",ys,[t("div",$s,[t("div",Ts,[b(gt,{style:{color:"black",cursor:"pointer"},onClick:a[9]||(a[9]=o=>Q())})]),t("iframe",{ref:"iframe",width:"100%",height:"100%",src:e(G).dataBase64},null,8,Ds),t("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:a[10]||(a[10]=o=>mt())})])])):f("",!0)])}}};export{Js as default};
