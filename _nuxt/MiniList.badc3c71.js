import g from"./Times.bc34119f.js";import{J as b,r as f,G as L,o as i,c,k as l,a as e,t as d,l as w,b as B,m as y,M as S,n as T,v as V,F as $,y as E}from"./entry.509d156f.js";import"./_plugin-vue_export-helper.c27b6911.js";const M={class:"relative"},N={key:1,class:"card-border cursor-pointer !flex flex-row flex-nowrap"},q={class:"w-full"},A={class:""},D={class:"ml-1"},F={key:0,class:"w-full"},I={class:"fixed h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center"},j={class:"grow overflow-y-auto"},G=["onClick"],J={class:"p-1 flex flex-wrap items-center"},R={class:"w-full"},U={class:""},z={class:"ml-1"},H={key:0,class:"w-full"},Y=b({__name:"MiniList",props:{arr:{type:Array,required:!0,default:[]},list:{type:Array,required:!1,default:[]}},emits:["input","nextBlur"],setup(h,{emit:K}){const v=h,u=f(!1),_=f(null),r=f(null),n=f(""),m=()=>{setTimeout(()=>{u.value=!0},1),setTimeout(()=>{r!=null&&r.value&&(r==null||r.value.focus())},2)};window.addEventListener("click",o=>{var p;const t=o.target;t instanceof Element&&u.value&&((p=_.value)!=null&&p.contains(t)||(u.value=!1))});const k=L(()=>n.value!=""?v.arr.filter(o=>o.id.toString().toLowerCase().includes(n.value.toLowerCase())||o.name.toLowerCase().includes(n.value.toLowerCase())||o.title.toLowerCase().includes(n.value.toLowerCase())):v.arr),x={id:-1,name:"",title:""},a=f({...x}),C=o=>{a.value=o,u.value=!1};return(o,t)=>{const p=g;return i(),c("div",M,[l(a).id==-1?(i(),c("div",{key:0,class:"card-border cursor-pointer",onClick:t[0]||(t[0]=s=>m())})):(i(),c("div",N,[e("div",{class:"flex flex-wrap items-center grow",onClick:t[1]||(t[1]=s=>m())},[e("div",q,[e("span",A," #"+d(l(a).id),1),e("span",D,d(l(a).name),1)]),l(a).title?(i(),c("div",F,d(l(a).title||""),1)):w("",!0)]),e("button",{type:"button",onClick:t[2]||(t[2]=s=>a.value={...x})},[B(p)])])),y(e("div",I,[e("div",{ref_key:"search_box",ref:_,class:"w-[320px] h-full ring-1 ring-gray-500 p-2 bg-white flex flex-col"},[y(e("input",{ref_key:"search_words",ref:r,type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>T(n)?n.value=s:null),placeholder:"search",class:"max-h-8"},null,512),[[V,l(n)]]),e("div",j,[(i(!0),c($,null,E(l(k),(s,O)=>(i(),c("div",{class:"mt-3 flex border-[1px] border-solid border-gray-400 cursor-pointer",onClick:P=>C(s)},[e("div",J,[e("div",R,[e("span",U," #"+d(s.id),1),e("span",z,d(s.name),1)]),s.title?(i(),c("div",H,d(s.title||""),1)):w("",!0)])],8,G))),256))])],512)],512),[[S,l(u)]])])}}});export{Y as default};
