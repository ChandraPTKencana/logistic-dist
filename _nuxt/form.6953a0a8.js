import{_ as k}from"./HeaderCustom.vue.f8169d11.js";import{G as A,H as S,u as U,r as C,I as V,J as $,K as M,L as j,o as B,c as D,b as E,a as e,n as i,s as _,x as s,t as u,y as v,D as c,E as w}from"./entry.a96af626.js";import{u as x}from"./useMyFetch.fcaf61cf.js";import"./_plugin-vue_export-helper.c27b6911.js";const N={class:"w-full h-full flex flex-col"},q={class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},z={class:"w-full align-items-center justify-content-center grow overflow-auto"},H={class:"w-full flex flex-col flex-wrap p-1"},I=e("label",{for:""},"Email",-1),J={class:"text-red-500"},F={class:"w-full flex flex-col flex-wrap p-1"},K=e("label",{for:""},"Nama Identitas",-1),R={class:"text-red-500"},T={class:"w-full flex flex-col flex-wrap p-1"},G=e("label",{for:""},"Kata Sandi",-1),L={class:"text-red-500"},Y={class:"w-full flex flex-col flex-wrap p-1"},O=e("label",{for:""},"Jabatan",-1),P=e("option",{value:"User"},"User",-1),Q=e("option",{value:"Admin"},"Admin",-1),W=e("option",{value:"Marketing"},"Marketing",-1),X=e("option",{value:"Super_Admin"},"Super Admin",-1),Z=[P,Q,W,X],ee={class:"text-red-500"},te={class:"w-full flex",style:{"flex-flow":"column wrap",padding:"4px"}},oe=e("label",{for:""},"Izinkan Masuk?",-1),se=e("option",{value:"1"},"Ya",-1),le=e("option",{value:"0"},"Tidak",-1),ae=[se,le],ne={class:"text-red-500"},re={class:"w-full flex items-center justify-end"},fe=A({__name:"form",async setup(ie){let d,f;S();const p=U("token"),a=C({}),h=V(),m=$(),{data:o}=([d,f]=M(async()=>j(async()=>{const n=m.query.id;if(n!==void 0&&n!==""){c().loading_full=!0;const{data:t,error:r,status:l}=await x("/user",{method:"get",headers:{Authorization:`Bearer ${p.value}`,Accept:"application/json"},params:{id:n},retry:0});if(c().loading_full=!1,l.value==="error")w().trigger(r,a);else return t.value.data}return{id:-1,email:"",fullname:"",password:"",role:"User",can_login:"0"}},"$k7jNkyJiH3")),d=await d,f(),d),g=async()=>{c().loading_full=!0,a.value={};let n={email:o.value.email,password:o.value.password,fullname:o.value.fullname,role:o.value.role,can_login:o.value.can_login},t="post",r=m.query.id;r===""||(t="put",n.id=r);const{data:l,error:y,status:b}=await x("/user",{method:t,headers:{Authorization:`Bearer ${p.value}`,Accept:"application/json"},body:n,retry:0});if(c().loading_full=!1,b.value==="error"){w().trigger(y,a);return}h.go(-1)};return(n,t)=>{const r=k;return B(),D("div",N,[E(r,{title:"Form User",back:!0}),e("div",q,[e("div",z,[e("div",H,[I,i(e("input",{class:"",type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s(o).email=l)},null,512),[[_,s(o).email]]),e("p",J,u(s(a).email),1)]),e("div",F,[K,i(e("input",{class:"",type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>s(o).fullname=l)},null,512),[[_,s(o).fullname]]),e("p",R,u(s(a).fullname),1)]),e("div",T,[G,i(e("input",{class:"",type:"password","onUpdate:modelValue":t[2]||(t[2]=l=>s(o).password=l)},null,512),[[_,s(o).password]]),e("p",L,u(s(a).password),1)]),e("div",Y,[O,i(e("select",{class:"","onUpdate:modelValue":t[3]||(t[3]=l=>s(o).role=l)},Z,512),[[v,s(o).role]]),e("p",ee,u(s(a).role),1)]),e("div",te,[oe,i(e("select",{class:"","onUpdate:modelValue":t[4]||(t[4]=l=>s(o).can_login=l)},ae,512),[[v,s(o).can_login]]),e("p",ne,u(s(a).can_login),1)])]),e("div",re,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:t[5]||(t[5]=l=>n.$router.go(-1))}," Cancel "),e("button",{type:"button",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:t[6]||(t[6]=l=>g())}," Save ")])])])}}});export{fe as default};
