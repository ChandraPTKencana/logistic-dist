import{r as d,f as v,o,c as n,a as h,t as x,l as s,n as i,z as k,k as y,L as w,B,_ as F}from"./entry.1b15191a.js";const P=B(()=>F(()=>import("./PDFJsView.e8023cdd.js"),["./PDFJsView.e8023cdd.js","./entry.1b15191a.js","./entry.c5f8f180.css","./PDFJsView.4e9fad9f.css"],import.meta.url).then(a=>a.default||a)),V={class:"w-full flex flex-col flex-wrap p-1 justify-center items-center border-solid border-gray-300 border-[1px]"},C={class:"w-full"},D={for:""},S={key:0,class:"w-full flex justify-center items-center border-[1px] border-gray-300 mb-1"},A=["src"],q={__name:"AttachmentSingle",props:{value:{type:[String,null],required:!0,default:null},label:{type:String,required:!1,default:""},can_remove:{type:Boolean,required:!1,default:!1}},emits:["setFile","setPreview"],setup(a,{emit:u}){const p=a;d(!1);const f=d(null),e=d(null),g=l=>{var t=l.target.files;if(t.length>0){let r=new FileReader;r.onload=function(c){var _;let m=(_=c.target)==null?void 0:_.result;e.value=m,u("setPreview",m)},r.readAsDataURL(t[0]),u("setFile",t[0])}},b=()=>{e.value="",u("setPreview","");let l=f.value;l&&(l.value="",u("setFile",""))};return v(()=>p.show,(l,t)=>{},{immediate:!0}),v(()=>p.value,(l,t)=>{if(e.value=l,l==""){let r=f.value;r&&(r.value="")}},{immediate:!0,deep:!0}),(l,t)=>{const r=P;return o(),n("div",V,[h("div",C,[h("label",D,x(a.label),1)]),s(e)?(o(),n("div",S,[s(e).match(/image/)?(o(),n("img",{key:0,src:s(e),alt:"",class:"max-w-full max-h-full"},null,8,A)):i("",!0),s(e).match(/application\/pdf/)?(o(),k(r,{key:1,pdfBase64:s(e)},null,8,["pdfBase64"])):i("",!0)])):i("",!0),a.can_remove?y((o(),n("button",{key:1,type:"button",class:"bg-gray-600 w-36 text-white",onClick:t[0]||(t[0]=c=>b())},"Clear",512)),[[w,s(e)]]):i("",!0),a.can_remove?y((o(),n("input",{key:2,class:"w-full",onChange:t[1]||(t[1]=c=>g(c)),ref_key:"photo_input",ref:f,type:"file",name:"photo"},null,544)),[[w,!s(e)]]):i("",!0)])}}};export{q as default};
