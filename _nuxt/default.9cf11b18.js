import J from"./Times.e420182d.js";import K from"./Burger.b0e722bb.js";import O from"./Home.1dbe534d.js";import{_ as G}from"./nuxt-link.539cf925.js";import H from"./Money.728de4c5.js";import X from"./Product.d4d910c8.js";import Q from"./FileCopy.e5cba083.js";import Y from"./Person.da452f39.js";import{_ as Z}from"./Alert.vue.6521248c.js";import{_ as ee}from"./Loading.vue.c39ae76e.js";import{J as se,h as te,L as re,r as h,j as T,K as S,s as j,A as $,f as x,O as oe,o as i,c,a as f,k as t,D as I,C as m,b as r,w as n,d as a,l as d,m as le,M as ie,t as E,X as ne,F as ae,B as ue}from"./entry.90f7e7d0.js";import{u as pe}from"./useMyFetch.ffe077f5.js";import{u as _}from"./useUtils.607571cd.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./client-only.47e2a1a9.js";import"./Loading.f1580e5f.js";const ce={class:"w-full h-full flex"},me={class:"relative h-full"},de={class:"h-full flex flex-col p-2 overflow-hidden"},_e={class:"grow overflow-auto"},fe={id:"panel",class:"h-7 text-xs relative"},ve={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ye={class:"grow flex flex-col overflow-hidden"},ke={class:"w-full text-xs bg-slate-700 text-white p-1 flex justify-evenly"},Me=se({__name:"default",setup(we){const R=te(),A=re(),l=h("");T(()=>A.path,(e,s)=>{let v=e.split("/");v=v.filter(g=>g!=""),l.value="/"+v.join("/")},{immediate:!0});const{logUserOut:M}=S(),{authenticated:V}=j(S()),{triggerSidebar:D}=$(),{is_sidebar_open:w}=j($()),F=x("token"),L=async()=>{$().loading_full=!0;const{data:e,error:s,status:v}=await pe("/logout",{method:"post",headers:{Authorization:`Bearer ${F.value}`,Accept:"application/json"},retry:0});if($().loading_full=!1,v.value==="error"){ue().trigger(s);return}else M()},q=x("company_name");x("company_email");const z=x("username");x("fullname");const b=h(!1);window.addEventListener("click",e=>{var v;const s=e.target;s instanceof Element&&((v=document==null?void 0:document.getElementById("panel"))!=null&&v.contains(s)||(b.value=!1))}),window.addEventListener("resize",e=>{let s=document.getElementById("side_menu");s&&(window.innerWidth>=640?s.style.left="0px":w.value||(s.style.left="-150px"))}),oe(()=>{let e=document.getElementById("side_menu");e&&(window.innerWidth>=640?e.style.left="0px":w.value||(e.style.left="-150px"))});const p=e=>{l.value!=e&&(l.value=e,window.innerWidth<640&&(w.value=!1),R.push(e))},B=h(null);return T(()=>w.value,(e,s)=>{let v=150,g=300/150,y=null,o=B.value;y&&(clearInterval(y),y=null),o&&(y=setInterval(()=>{let k=parseFloat(o.style.left);e?k>=0&&y?(o.style.left="0px",clearInterval(y),y=null):o.style.left=k+g+"px":k<=v*-1&&y?(o.style.left="-150px",clearInterval(y),y=null):o.style.left=k-g+"px"},1))}),(e,s)=>{const v=J,g=K,y=O,o=G,k=H,C=X,P=Q,U=Y,N=Z,W=ee;return i(),c(ae,null,[f("div",ce,[f("nav",{id:"side_menu",ref_key:"side_menu",ref:B,class:"bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:left-0 text-white z-10",style:{width:"320px"}},[f("div",me,[f("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:s[0]||(s[0]=u=>t(D)(!t(w)))},[t(w)?(i(),I(v,{key:0})):(i(),I(g,{key:1}))]),f("header",de,[f("ul",_e,[f("li",{class:m(t(l)=="/"?"active":"")},[r(o,{to:"/",class:"cursor-pointer",onClick:s[1]||(s[1]=u=>p("/"))},{default:n(()=>[r(y,{class:"mr-1"}),a(" Dashboard ")]),_:1})],2),("useUtils"in e?e.useUtils:t(_))().checkPermission("ujalan.views")?(i(),c("li",{key:0,class:m(t(l)=="/data_ujalan"?"active":"")},[r(o,{to:"/data_ujalan",class:"cursor-pointer",onClick:s[2]||(s[2]=u=>p("/data_ujalan"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" U.Jalan ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("trp_trx.views")?(i(),c("li",{key:1,class:m(t(l)=="/data_trx_trp"?"active":"")},[r(o,{to:"/data_trx_trp",class:"cursor-pointer",onClick:s[3]||(s[3]=u=>p("/data_trx_trp"))},{default:n(()=>[r(C,{class:"mr-1"}),a(" Trx Trp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("trp_trx.ticket.views")?(i(),c("li",{key:2,class:m(t(l)=="/data_trx_trp/ticket"?"active":"")},[r(o,{to:"/data_trx_trp/ticket",class:"cursor-pointer",onClick:s[4]||(s[4]=u=>p("/data_trx_trp/ticket"))},{default:n(()=>[r(C,{class:"mr-1"}),a(" Trx Ticket ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("trp_trx.ritase.views")?(i(),c("li",{key:3,class:m(t(l)=="/data_trx_trp/ritase"?"active":"")},[r(o,{to:"/data_trx_trp/ritase",class:"cursor-pointer",onClick:s[5]||(s[5]=u=>p("/data_trx_trp/ritase"))},{default:n(()=>[r(C,{class:"mr-1"}),a(" Trx Ritase ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("trp_trx.absen.views")?(i(),c("li",{key:4,class:m(t(l)=="/data_trx_trp/absen"?"active":"")},[r(o,{to:"/data_trx_trp/absen",class:"cursor-pointer",onClick:s[6]||(s[6]=u=>p("/data_trx_trp/absen"))},{default:n(()=>[r(C,{class:"mr-1"}),a(" Trx Absen ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("extra_money.views")?(i(),c("li",{key:5,class:m(t(l)=="/extra_money"?"active":"")},[r(o,{to:"/extra_money",class:"cursor-pointer",onClick:s[7]||(s[7]=u=>p("/extra_money"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" Extra Money ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("standby_mst.views")?(i(),c("li",{key:6,class:m(t(l)=="/data_standby"?"active":"")},[r(o,{to:"/data_standby",class:"cursor-pointer",onClick:s[8]||(s[8]=u=>p("/data_standby"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" StandBy ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("standby_trx.views")?(i(),c("li",{key:7,class:m(t(l)=="/data_standby/trx"?"active":"")},[r(o,{to:"/data_standby/trx",class:"cursor-pointer",onClick:s[9]||(s[9]=u=>p("/data_standby/trx"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" StandBy Trx ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("trp_trx.report.views")?(i(),c("li",{key:8,class:m(t(l)=="/report_trx_trp"?"active":"")},[r(o,{to:"/report_trx_trp",class:"cursor-pointer",onClick:s[10]||(s[10]=u=>p("/report_trx_trp"))},{default:n(()=>[r(P,{class:"mr-1"}),a(" Report Trp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("report.ramp.views")?(i(),c("li",{key:9,class:m(t(l)=="/report/ramp"?"active":"")},[r(o,{to:"/report/ramp",class:"cursor-pointer",onClick:s[11]||(s[11]=u=>p("/report/ramp"))},{default:n(()=>[r(P,{class:"mr-1"}),a(" Report Ramp ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("report.ast_n_driver.views")?(i(),c("li",{key:10,class:m(t(l)=="/report/ast_n_driver"?"active":"")},[r(o,{to:"/report/ast_n_driver",class:"cursor-pointer",onClick:s[12]||(s[12]=u=>p("/report/ast_n_driver"))},{default:n(()=>[r(P,{class:"mr-1"}),a(" Report Ast & Driver ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("development")?(i(),c("li",{key:11,class:m(t(l)=="/fin_payment_req"?"active":"")},[r(o,{to:"/fin_payment_req",class:"cursor-pointer",onClick:s[13]||(s[13]=u=>p("/fin_payment_req"))},{default:n(()=>[r(P,{class:"mr-1"}),a(" Payment Request ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("vehicle.views")?(i(),c("li",{key:12,class:m(t(l)=="/vehicle"?"active":"")},[r(o,{to:"/vehicle",class:"cursor-pointer",onClick:s[14]||(s[14]=u=>p("/vehicle"))},{default:n(()=>[r(U,{class:"mr-1"}),a(" Kendaraan ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("employee.views")?(i(),c("li",{key:13,class:m(t(l)=="/employee"?"active":"")},[r(o,{to:"/employee",class:"cursor-pointer",onClick:s[15]||(s[15]=u=>p("/employee"))},{default:n(()=>[r(U,{class:"mr-1"}),a(" Pekerja ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("potongan_mst.views")?(i(),c("li",{key:14,class:m(t(l)=="/potongan"?"active":"")},[r(o,{to:"/potongan",class:"cursor-pointer",onClick:s[16]||(s[16]=u=>p("/potongan"))},{default:n(()=>[r(U,{class:"mr-1"}),a(" Potongan ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("salary_paid.views")?(i(),c("li",{key:15,class:m(t(l)=="/salary_paid"?"active":"")},[r(o,{to:"/salary_paid",class:"cursor-pointer",onClick:s[17]||(s[17]=u=>p("/salary_paid"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" Salary Paid ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("salary_bonus.views")?(i(),c("li",{key:16,class:m(t(l)=="/salary_bonus"?"active":"")},[r(o,{to:"/salary_bonus",class:"cursor-pointer",onClick:s[18]||(s[18]=u=>p("/salary_bonus"))},{default:n(()=>[r(k,{class:"mr-1"}),a(" Salary Bonus ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("user.views")?(i(),c("li",{key:17,class:m(t(l)=="/user"?"active":"")},[r(o,{to:"/user",class:"cursor-pointer",onClick:s[19]||(s[19]=u=>p("/user"))},{default:n(()=>[r(U,{class:"mr-1"}),a(" User ")]),_:1})],2)):d("",!0),("useUtils"in e?e.useUtils:t(_))().checkPermission("permission_group.views")?(i(),c("li",{key:18,class:m(t(l)=="/permission_group"?"active":"")},[r(o,{to:"/permission_group",class:"cursor-pointer",onClick:s[20]||(s[20]=u=>p("/permission_group"))},{default:n(()=>[r(U,{class:"mr-1"}),a(" Permission Group ")]),_:1})],2)):d("",!0)]),f("div",fe,[le(f("div",ve,[r(o,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:n(()=>[a(" Change Password ")]),_:1}),t(V)?(i(),I(o,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:L},{default:n(()=>[a(" Logout ")]),_:1})):d("",!0)],512),[[ie,t(b)]]),f("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:s[21]||(s[21]=u=>b.value=!t(b))},E(t(z)),1)])])])],512),f("div",ye,[ne(e.$slots,"default"),f("div",ke,[f("div",null,E(t(q)),1)])])]),r(N),r(W)],64)}}});export{Me as default};
