import g from"./Header.f37c931f.js";import x from"./GAPIN.46160484.js";import{f as y,g as L,r as a,i as C,G as T,j as k,c as A,b as d,a as n,m as V,v as B,k as m,n as M,z as S,o as b,A as p,B as j}from"./entry.2466169c.js";import"./useUtils.4165ad5e.js";import{u as H}from"./useMyFetch.bd8e24e0.js";import"./_plugin-vue_export-helper.c27b6911.js";const z={class:"w-full h-full flex flex-col relative"},D={class:"grow flex flex-col"},E={class:"w-full flex items-center p-1"},N={class:"grow"},$=n("div",null,[n("button",null,"CSV")],-1),R={__name:"transfer_mandiri",async setup(G){let i,u;const f=y("token");new Date().getTimezoneOffset();const{data:h}=([i,u]=L(async()=>S(async()=>{p().loading_full=!0;let e=[];const[t,r]=await Promise.all([H("/trx_trp/transfers",{method:"get",headers:{Authorization:`Bearer ${f.value}`,Accept:"application/json"},retry:0})]);return t.status.value==="error"?(j().trigger(t.error),{trx_trps:e}):(p().loading_full=!1,e=t.data.value.data,{trx_trps:e})},"$5YEzmjB1Vh")),i=await i,u(),i),c=a(h.value.trx_trps||[]);a({}),a({id:-1,tanggal:new Date,xto:"",tipe:"",jenis:"",amount:0,supir:"",kernet:"",no_pol:"",details_uj:[]}),a(-1);const o=a("");a(!1),a(0),a(!1),C();const v=T(()=>o.value!=""?c.value.filter(e=>e.no_pol.toLowerCase().includes(o.value.toLowerCase())||e.supir.toLowerCase().includes(o.value.toLowerCase())||e.kernet.toLowerCase().includes(o.value.toLowerCase())):c.value),w=()=>{let e=o.value;document.querySelectorAll(".to_hl").forEach(t=>{let r=t.dataset.real;var l=t.innerHTML,s=r.toLowerCase().indexOf(e.toLowerCase());s>-1&&e!=""?(l=r.substring(0,s)+"<span class='highlight'>"+r.substring(s,s+e.length)+"</span>"+r.substring(s+e.length),t.innerHTML=l):t.innerHTML=l=r})};k(()=>v,(e,t)=>{setTimeout(()=>{w()},0)},{deep:!0,immediate:!0});const _=a(0);return(e,t)=>{const r=g,l=x;return b(),A("div",z,[d(r,{title:"List Transaction"}),n("section",D,[n("div",E,[n("div",N,[V(n("input",{class:"flex-grow",type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>M(o)?o.value=s:null),name:"search",placeholder:"Keyword"},null,512),[[B,m(o)]])]),$])]),d(l,{show:m(_),onSetTimeout:t[1]||(t[1]=s=>_.value=s)},null,8,["show"])])}}};export{R as default};
