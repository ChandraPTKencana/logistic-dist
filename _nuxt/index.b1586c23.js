import{_ as se}from"./Header.5ab7a516.js";import{_ as le}from"./Plus.b2b43ef8.js";import{_ as ae}from"./Edit.4bbb2e6e.js";import{_ as ie}from"./Delete.69e35691.js";import{_ as _e}from"./Signature.e3114f4c.js";import{u as ne,_ as de,a as ce}from"./useDownload.a29a5a22.js";import{u as bt,_ as re}from"./useUtils.bc902919.js";import{_ as ue,a as pe}from"./Check.3cb54a31.js";import{_ as fe}from"./PopupMini.vue.018451c5.js";import{_ as St}from"./HeaderPopup.vue.45d87a61.js";import{_ as Nt}from"./client-only.e7021e0c.js";import{_ as ve}from"./InputPointFormat.vue.0c2bedc8.js";import{r as g,f as pt,H as mt,L as _t,g as q,J as Vt,h as V,v as Mt,o as s,c as a,a as t,b as y,w as nt,k as e,t as i,l as at,j as E,F as G,n as Z,G as _,m as wt,s as xt,x as C,y as Y,p as Ot,e as Ht,O as It,D as he,B as ke,I as me,d as be,q as ut,i as we,E as xe,N as lt}from"./entry.9d706691.js";import{u as R}from"./useMyFetch.1cf6107e.js";import{_ as Kt}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as $e}from"./Times.9a69b7e2.js";const h=D=>(Ot("data-v-ed312b26"),D=D(),Ht(),D),ye={class:"box-fixed"},ge={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Te={class:"w-full flex flex-col items-center grow overflow-auto"},Ae={class:"w-full flex flex-row flex-wrap"},De={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ce=h(()=>t("label",{for:""},"U.Jalan Per",-1)),Pe={class:"grow"},je={class:"text-red-500"},Be={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Se=h(()=>t("label",{for:""},"Jenis",-1)),Ne=h(()=>t("option",{value:"TBS"},"TBS",-1)),Ve=h(()=>t("option",{value:"TBSK"},"TBSK",-1)),Me=h(()=>t("option",{value:"CPO"},"CPO",-1)),Oe=h(()=>t("option",{value:"PK"},"PK",-1)),He=[Ne,Ve,Me,Oe],Ie={class:"text-red-500"},Ke={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ue=h(()=>t("label",{for:""},"Supir",-1)),Fe={class:"text-red-500"},Ye={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Re=h(()=>t("label",{for:""},"Kernet",-1)),Le={class:"text-red-500"},ze={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Je=h(()=>t("label",{for:""},"No Pol",-1)),qe={class:"text-red-500"},Ee={key:0,class:"w-full flex flex-wrap"},Ge={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Ze=h(()=>t("label",{for:""},"Tujuan",-1)),Qe={class:"text-red-500"},We={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Xe=h(()=>t("label",{for:""},"Tipe",-1)),to=["value","selected"],eo={class:"text-red-500"},oo={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},so=h(()=>t("label",{for:""},"Total Dari U.Jalan",-1)),lo={class:"card-border disabled"},ao={key:1,class:"w-full flex flex-wrap"},io={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},_o=h(()=>t("label",{for:""},"Cost Center Code",-1)),no=["disabled"],co={id:"cost_center"},ro=["value"],uo={class:"text-red-500"},po={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},fo=h(()=>t("label",{for:""},"Cost Center Desc",-1)),vo={class:"card-border disabled"},ho={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},ko=h(()=>t("label",{for:""},"PVR No",-1)),mo={class:"card-border disabled"},bo={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},wo=h(()=>t("label",{for:""},"PVR Total",-1)),xo={class:"card-border disabled"},$o={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},yo=h(()=>t("label",{for:""},"PV",-1)),go=["disabled"],To={id:"pv"},Ao=["value"],Do=h(()=>t("div",null,null,-1)),Co={class:"text-red-500"},Po={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},jo=h(()=>t("label",{for:""},"PV Amount",-1)),Bo={class:"card-border disabled"},So=h(()=>t("label",{for:""},"Peralihan",-1)),No=It('<option value="" data-v-ed312b26></option><option value="KPN" data-v-ed312b26>KPN</option><option value="KAS" data-v-ed312b26>KAS</option><option value="KUS" data-v-ed312b26>KUS</option><option value="ARP" data-v-ed312b26>ARP</option><option value="KAP" data-v-ed312b26>KAP</option><option value="SMP" data-v-ed312b26>SMP</option>',7),Vo=[No],Mo={class:"text-red-500"},Oo={key:3,class:"w-full flex flex-col flex-wrap p-1"},Ho=h(()=>t("label",{for:""},"Tiket A",-1)),Io={id:"ticket_a"},Ko=["value"],Uo={class:"text-red-500"},Fo={key:4,class:"w-full flex flex-wrap"},Yo={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ro=h(()=>t("label",{for:""},"In At",-1)),Lo={class:"card-border disabled"},zo={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Jo=h(()=>t("label",{for:""},"Out At",-1)),qo={class:"card-border disabled"},Eo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Go=h(()=>t("label",{for:""},"Bruto",-1)),Zo={class:"card-border disabled"},Qo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Wo=h(()=>t("label",{for:""},"Tara",-1)),Xo={class:"card-border disabled"},ts={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},es=h(()=>t("label",{for:""},"Netto",-1)),os={class:"card-border disabled"},ss={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ls=h(()=>t("label",{for:""},"No Pol",-1)),as={class:"card-border disabled"},is={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},_s=h(()=>t("label",{for:""},"Supir",-1)),ns={class:"card-border disabled"},ds={key:5,class:"w-full flex flex-col flex-wrap p-1"},cs=h(()=>t("label",{for:""},"Tiket B",-1)),rs={id:"ticket_b"},us=["value"],ps={class:"text-red-500"},fs={key:6,class:"w-full flex flex-wrap"},vs={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},hs=h(()=>t("label",{for:""},"In At",-1)),ks={class:"card-border disabled"},ms={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},bs=h(()=>t("label",{for:""},"Out At",-1)),ws={class:"card-border disabled"},xs={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},$s=h(()=>t("label",{for:""},"Bruto ",-1)),ys={class:"card-border disabled"},gs={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ts=h(()=>t("label",{for:""},"Tara ",-1)),As={class:"card-border disabled"},Ds={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Cs=h(()=>t("label",{for:""},"Netto ",-1)),Ps={class:"card-border disabled"},js={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Bs=h(()=>t("label",{for:""},"No Pol",-1)),Ss={class:"card-border disabled"},Ns={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Vs=h(()=>t("label",{for:""},"Supir",-1)),Ms={class:"card-border disabled"},Os={key:7,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Hs=h(()=>t("label",{for:""},"In At",-1)),Is={class:"text-red-500"},Ks={key:8,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Us=h(()=>t("label",{for:""},"Out At",-1)),Fs={class:"text-red-500"},Ys={key:9,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Rs=h(()=>t("label",{for:""},"Bruto",-1)),Ls={class:"text-red-500"},zs={key:10,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Js=h(()=>t("label",{for:""},"Tara",-1)),qs={class:"text-red-500"},Es={key:11,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Gs=h(()=>t("label",{for:""},"Netto",-1)),Zs={class:"card-border disabled"},Qs={class:"w-full flex items-center justify-end"},Ws={__name:"trx_trp",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnLoadDBData:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},list_ujalan:{type:Array,required:!0,default:[]},list_ticket:{type:Array,required:!0,default:[]},list_pv:{type:Array,required:!0,default:[]},list_cost_center:{type:Array,required:!0,default:[]},online_status:{type:Boolean,required:!0,default:!1}},setup(D){const k=D,{$moment:P}=xt(),{pointFormat:w}=bt(),H={id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",cost_center_code:"",cost_center_desc:"",pvr_id:"",pvr_no:"",pvr_total:0,pvr_had_detail:"",transition_to:""};let l={...H};const o=g({...H}),tt=pt("token"),T=g({}),U=n=>{let p=n.target.value;if(!p){o.value.cost_center_code="",o.value.cost_center_desc="";return}k.list_cost_center.filter($=>$.CostCenter==p).length==0&&(o.value.cost_center_code="112",o.value.cost_center_desc="Transport")},x=n=>{o.value.ticket_a_no="",o.value.ticket_b_id="",o.value.ticket_b_bruto="",o.value.ticket_b_tara="",o.value.ticket_b_netto="",o.value.ticket_b_in_at="",o.value.ticket_b_out_at="",o.value.ticket_b_supir="-",o.value.ticket_b_no_pol="-",o.value.ticket_b_no="",o.value.transition_to=n.target.value=="TBS"?o.value.transition_to:"",k.fnLoadDBData(n.target.value,o.value.transition_to)},F=n=>{o.value.jenis=="TBS"&&k.fnLoadDBData(o.value.jenis,n.target.value)},{display:M}=mt(),et=async()=>{if(o.value.pv_no&&parseInt(o.value.pv_total)!=parseInt(o.value.amount)){M({show:!0,status:"Failed",message:"Total dari Ujalan dan PV tidak cocok"});return}C().loading_full=!0,T.value={};const n=new FormData;if(n.append("tanggal",P(o.value.tanggal).format("Y-MM-DD")),n.append("jenis",o.value.jenis),n.append("id_uj",o.value.id_uj),n.append("xto",o.value.xto),n.append("cost_center_code",o.value.cost_center_code),n.append("online_status",k.online_status),n.append("transition_to",o.value.transition_to),o.value.pv_no){let r=k.list_pv.filter(I=>I.VoucherNo==o.value.pv_no);r.length==0&&o.value.pv_no==l.pv_no?n.append("pv_id",l.pv_id):n.append("pv_id",r[0].VoucherID)}if(o.value.ticket_a_no){let r=Q.value.filter(I=>I.TicketNo==o.value.ticket_a_no);r.length==0&&o.value.ticket_a_no==l.ticket_a_no?n.append("ticket_a_id",l.ticket_a_id):n.append("ticket_a_id",r[0].TicketID)}if(o.value.ticket_b_no){let r=A.value.filter(I=>I.TicketNo==o.value.ticket_b_no);r.length==0&&o.value.ticket_b_no==l.ticket_b_no?n.append("ticket_b_id",l.ticket_b_id):n.append("ticket_b_id",r[0].TicketID)}n.append("ticket_a_no",o.value.ticket_a_no),n.append("ticket_b_no",o.value.ticket_b_no),n.append("ticket_b_bruto",o.value.ticket_b_bruto),n.append("ticket_b_tara",o.value.ticket_b_tara),o.value.ticket_b_in_at&&n.append("ticket_b_in_at",P(o.value.ticket_b_in_at).format("Y-MM-DD HH:mm:ss")),o.value.ticket_b_out_at&&n.append("ticket_b_out_at",P(o.value.ticket_b_out_at).format("Y-MM-DD HH:mm:ss")),n.append("supir",o.value.supir),n.append("kernet",o.value.kernet),n.append("no_pol",o.value.no_pol);let p="post",v=k.id;v==0||(n.append("id",v),n.append("_method","PUT"));const{data:$,error:B,status:L}=await R("/trx_trp",{method:p,headers:{Authorization:`Bearer ${tt.value}`,Accept:"application/json"},body:n,retry:0});if(C().loading_full=!1,L.value==="error"){Y().trigger(B,T);return}if(o.value.ticket_a_netto=o.ticket_a_bruto-o.ticket_a_tara,o.value.ticket_b_netto=o.ticket_b_bruto-o.ticket_b_tara,o.value.pvr_id=$.value.pvr_id,o.value.pvr_no=$.value.pvr_no,o.value.pvr_total=$.value.pvr_total,o.value.pvr_had_detail=$.value.pvr_had_detail,o.value.updated_at=$.value.updated_at,k.id<=0)o.value.id=$.value.id,o.value.created_at=$.value.created_at,k.p_data.unshift(o.value);else{let r=k.p_data.map(I=>I.id).indexOf(k.id);r>=-1&&k.p_data.splice(r,1,{...o.value})}k.fnClose()},ot=_t(()=>{let n=o.value.jenis=="TBSK"?"TBS":o.value.jenis;return[...new Set(k.list_ujalan.filter(p=>p.jenis==n).map(p=>p.xto))]}),K=_t(()=>{let n=o.value.jenis=="TBSK"?"TBS":o.value.jenis;return k.list_ujalan.filter(p=>p.xto==o.value.xto&&p.jenis==n)}),Q=_t(()=>{let n=[];return o.value.jenis=="CPO"?n=["cpo"]:o.value.jenis=="PK"?n=["kernel"]:n=["mtbs"],k.list_ticket.filter(p=>n.indexOf(p.ProductName.toLowerCase())>-1)}),A=_t(()=>{let n=[];return o.value.jenis=="TBSK"||o.value.transition_to!=""?n=["tbs"]:o.value.jenis=="TBS"&&(n=["rtbs"]),k.list_ticket.filter(p=>n.indexOf(p.ProductName.toLowerCase())>-1)}),z=_t(()=>!1),j=async()=>{C().loading_full=!0;const{data:n,error:p,status:v}=await R("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${tt.value}`,Accept:"application/json"},params:{id:k.id},retry:0});if(C().loading_full=!1,v.value==="error"){Y().trigger(p);return}o.value=n.value.data,l={...n.value.data},k.fnLoadDBData(o.value.jenis,o.value.transition_to)};q(()=>k.show,(n,p)=>{n==!0&&(o.value={...H},T.value={},k.id!=0&&j())},{immediate:!0});let b={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""};q(()=>o.value.ticket_a_no,(n,p)=>{if(n==""||n){if(n){let v=Q.value.filter($=>$.TicketNo==o.value.ticket_a_no);v.length>0?b={id:v[0].TicketID,bruto:v[0].Bruto,tara:v[0].Tara,netto:v[0].Netto,supir:v[0].NamaSupir,no_pol:v[0].VehicleNo,in_at:v[0].DateTimeIn,out_at:v[0].DateTimeOut}:o.value.ticket_a_no==l.ticket_a_no&&(b={id:l.ticket_a_id,bruto:l.ticket_a_bruto,tara:l.ticket_a_tara,netto:l.ticket_a_netto,supir:l.ticket_a_supir,no_pol:l.ticket_a_no_pol,in_at:l.ticket_a_in_at,out_at:l.ticket_a_out_at})}n==""&&(b={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),o.value.ticket_a_id=b.id,o.value.ticket_a_bruto=b.bruto,o.value.ticket_a_tara=b.tara,o.value.ticket_a_netto=b.netto,o.value.ticket_a_in_at=b.in_at,o.value.ticket_a_out_at=b.out_at,o.value.ticket_a_supir=b.supir,o.value.ticket_a_no_pol=b.no_pol}},{deep:!0,immediate:!0}),q(()=>o.value.ticket_b_no,(n,p)=>{if(["TBS","TBSK"].indexOf(o.value.jenis)>-1&&(n==""||n)){if(n){let v=A.value.filter($=>$.TicketNo==o.value.ticket_b_no);v.length>0?b={id:v[0].TicketID,bruto:v[0].Bruto,tara:v[0].Tara,netto:v[0].Netto,supir:v[0].NamaSupir,no_pol:v[0].VehicleNo,in_at:v[0].DateTimeIn,out_at:v[0].DateTimeOut}:o.value.ticket_b_no==l.ticket_b_no&&(b={id:l.ticket_b_id,bruto:l.ticket_b_bruto,tara:l.ticket_b_tara,netto:l.ticket_b_netto,supir:l.ticket_b_supir,no_pol:l.ticket_b_no_pol,in_at:l.ticket_b_in_at,out_at:l.ticket_b_out_at})}n==""&&(b={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),o.value.ticket_b_id=b.id,o.value.ticket_b_bruto=b.bruto,o.value.ticket_b_tara=b.tara,o.value.ticket_b_netto=b.netto,o.value.ticket_b_in_at=b.in_at,o.value.ticket_b_out_at=b.out_at,o.value.ticket_b_supir=b.supir,o.value.ticket_b_no_pol=b.no_pol}},{deep:!0,immediate:!0}),q(()=>o.value.pv_no,(n,p)=>{let v=0;if(n==""||n){let $=k.list_pv.filter(B=>B.VoucherNo==o.value.pv_no);$.length>0?v=$[0].total_amount:o.value.pv_no==l.pv_no&&(v=l.pv_total),o.value.pv_total=v}},{deep:!0,immediate:!0}),q(()=>o.value.cost_center_code,(n,p)=>{let v="";if(n==""||n){let $=k.list_cost_center.filter(B=>B.CostCenter==o.value.cost_center_code);$.length>0?v=$[0].Description:o.value.cost_center_code==l.cost_center_code&&(v=l.cost_center_desc),o.value.cost_center_desc=v}},{deep:!0,immediate:!0});const dt=(n,p)=>{let v=0,$="";if(n==""||n){let B=k.list_ujalan.filter(L=>L.id==o.value.id_uj);B.length>0?(v=B[0].harga,$=B[0].tipe):o.value.id_uj==l.id_uj&&(v=l.amount,$=l.tipe),o.value.tipe=$,o.value.amount=v}};return q(()=>o.value.xto,(n,p)=>{k.show&&dt(n)},{deep:!0,immediate:!0}),q(()=>o.value.id_uj,(n,p)=>{k.show&&dt(n)},{deep:!0,immediate:!0}),(n,p)=>{const v=St,$=Vt("vue-date-picker"),B=Nt,L=ve;return V((s(),a("section",ye,[t("div",null,[y(v,{title:"Form Transaction",fn:D.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",ge,[t("div",Te,[t("div",Ae,[t("div",De,[Ce,t("div",Pe,[y(B,null,{default:nt(()=>[y($,{modelValue:e(o).tanggal,"onUpdate:modelValue":p[0]||(p[0]=r=>e(o).tanggal=r),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1})]),t("p",je,i(e(T).tanggal),1)]),t("div",Be,[Se,V(t("select",{"onUpdate:modelValue":p[1]||(p[1]=r=>e(o).jenis=r),onChange:p[2]||(p[2]=r=>x(r))},He,544),[[at,e(o).jenis]]),t("p",Ie,i(e(T).jenis),1)]),t("div",Ke,[Ue,V(t("input",{"onUpdate:modelValue":p[3]||(p[3]=r=>e(o).supir=r)},null,512),[[E,e(o).supir]]),t("p",Fe,i(e(T).supir),1)]),t("div",Ye,[Re,V(t("input",{"onUpdate:modelValue":p[4]||(p[4]=r=>e(o).kernet=r)},null,512),[[E,e(o).kernet]]),t("p",Le,i(e(T).kernet),1)]),t("div",ze,[Je,V(t("input",{"onUpdate:modelValue":p[5]||(p[5]=r=>e(o).no_pol=r)},null,512),[[E,e(o).no_pol]]),t("p",qe,i(e(T).no_pol),1)]),e(o).jenis!=""?(s(),a("div",Ee,[t("div",Ge,[Ze,V(t("select",{"onUpdate:modelValue":p[6]||(p[6]=r=>e(o).xto=r)},[(s(!0),a(G,null,Z(e(ot),r=>(s(),a("option",null,i(r),1))),256))],512),[[at,e(o).xto]]),t("p",Qe,i(e(T).xto),1)]),t("div",We,[Xe,V(t("select",{"onUpdate:modelValue":p[7]||(p[7]=r=>e(o).id_uj=r)},[(s(!0),a(G,null,Z(e(K),r=>(s(),a("option",{value:r.id,selected:r.id==e(o).id_uj},i(r.tipe),9,to))),256))],512),[[at,e(o).id_uj]]),t("p",eo,i(e(T).id_uj),1)]),t("div",oo,[so,t("div",lo,i(e(w)(e(o).amount)),1)])])):_("",!0),e(o).jenis!=""?(s(),a("div",ao,[t("div",io,[_o,V(t("input",{list:"cost_center","onUpdate:modelValue":p[8]||(p[8]=r=>e(o).cost_center_code=r),onBlur:p[9]||(p[9]=r=>U(r)),disabled:e(o).pvr_no!=""},null,40,no),[[E,e(o).cost_center_code]]),t("datalist",co,[(s(!0),a(G,null,Z(D.list_cost_center,r=>(s(),a("option",{value:r.CostCenter},i(r.CostCenter+"-"+r.Description),9,ro))),256))]),t("p",uo,i(e(T).cost_center_code),1)]),t("div",po,[fo,t("div",vo,i(e(o).cost_center_desc),1)]),t("div",ho,[ko,t("div",mo,i(e(o).pvr_no),1)]),t("div",bo,[wo,t("div",xo,i(e(w)(e(o).pvr_total||0)),1)]),t("div",$o,[yo,V(t("input",{type:"text",list:"pv","onUpdate:modelValue":p[10]||(p[10]=r=>e(o).pv_no=r),disabled:e(o).pvr_no!=""},null,8,go),[[E,e(o).pv_no]]),t("datalist",To,[(s(!0),a(G,null,Z(D.list_pv,r=>(s(),a("option",{value:r.VoucherNo},i(r.VoucherNo+"-"+r.AssociateName),9,Ao))),256))]),Do,t("p",Co,i(e(T).pv),1)]),t("div",Po,[jo,t("div",Bo,i(e(w)(e(o).pv_total)),1)])])):_("",!0),e(o).jenis=="TBS"?(s(),a("div",{key:2,class:"w-full p-1",onChange:p[12]||(p[12]=r=>F(r))},[So,V(t("select",{"onUpdate:modelValue":p[11]||(p[11]=r=>e(o).transition_to=r)},Vo,512),[[at,e(o).transition_to]]),t("p",Mo,i(e(T).transition_to),1)],32)):_("",!0),e(o).jenis!=""&&e(o).jenis!="TBSK"?(s(),a("div",Oo,[Ho,V(t("input",{type:"text",list:"ticket_a","onUpdate:modelValue":p[13]||(p[13]=r=>e(o).ticket_a_no=r)},null,512),[[E,e(o).ticket_a_no]]),t("datalist",Io,[(s(!0),a(G,null,Z(e(Q),r=>(s(),a("option",{value:r.TicketNo},i(r.TicketNo+"-"+r.VehicleNo+"-"+r.NamaSupir),9,Ko))),256))]),t("p",Uo,i(e(T).ticket),1)])):_("",!0),e(o).jenis!=""&&e(o).jenis!="TBSK"?(s(),a("div",Fo,[t("div",Yo,[Ro,t("div",Lo,i(e(o).ticket_a_in_at?e(P)(e(o).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",zo,[Jo,t("div",qo,i(e(o).ticket_a_out_at?e(P)(e(o).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",Eo,[Go,t("div",Zo,i(e(o).ticket_a_bruto?e(w)(e(o).ticket_a_bruto):0),1)]),t("div",Qo,[Wo,t("div",Xo,i(e(o).ticket_a_tara?e(w)(e(o).ticket_a_tara):0),1)]),t("div",ts,[es,t("div",os,i(e(o).ticket_a_bruto?e(w)(e(o).ticket_a_bruto-e(o).ticket_a_tara):0),1)]),t("div",ss,[ls,t("div",as,i(e(o).ticket_a_no_pol),1)]),t("div",is,[_s,t("div",ns,i(e(o).ticket_a_supir),1)])])):_("",!0),["TBS","TBSK"].indexOf(e(o).jenis)>-1?(s(),a("div",ds,[cs,V(t("input",{type:"text",list:"ticket_b","onUpdate:modelValue":p[14]||(p[14]=r=>e(o).ticket_b_no=r)},null,512),[[E,e(o).ticket_b_no]]),t("datalist",rs,[(s(!0),a(G,null,Z(e(A),r=>(s(),a("option",{value:r.TicketNo},i(r.TicketNo+"-"+r.VehicleNo+"-"+r.NamaSupir),9,us))),256))]),t("p",ps,i(e(T).ticket),1)])):_("",!0),["TBS","TBSK"].indexOf(e(o).jenis)>-1?(s(),a("div",fs,[t("div",vs,[hs,t("div",ks,i(e(o).ticket_b_in_at?e(P)(e(o).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",ms,[bs,t("div",ws,i(e(o).ticket_b_out_at?e(P)(e(o).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",xs,[$s,t("div",ys,i(e(o).ticket_b_bruto?e(w)(e(o).ticket_b_bruto):0),1)]),t("div",gs,[Ts,t("div",As,i(e(o).ticket_b_tara?e(w)(e(o).ticket_b_tara):0),1)]),t("div",Ds,[Cs,t("div",Ps,i(e(o).ticket_b_bruto?e(w)(e(o).ticket_b_bruto-e(o).ticket_b_tara):0),1)]),t("div",js,[Bs,t("div",Ss,i(e(o).ticket_b_no_pol),1)]),t("div",Ns,[Vs,t("div",Ms,i(e(o).ticket_b_supir),1)])])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),a("div",Os,[Hs,y(B,null,{default:nt(()=>[y($,{modelValue:e(o).ticket_b_in_at,"onUpdate:modelValue":p[15]||(p[15]=r=>e(o).ticket_b_in_at=r),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),t("p",Is,i(e(T).ticket_b_in_at),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),a("div",Ks,[Us,y(B,null,{default:nt(()=>[y($,{modelValue:e(o).ticket_b_out_at,"onUpdate:modelValue":p[16]||(p[16]=r=>e(o).ticket_b_out_at=r),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),t("p",Fs,i(e(T).ticket_b_out_at),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),a("div",Ys,[Rs,t("div",null,[y(L,{class:"card-border p-1",type:"text",value:e(o).ticket_b_bruto||0,onInput:p[17]||(p[17]=r=>e(o).ticket_b_bruto=r),show:D.show},null,8,["value","show"])]),t("p",Ls,i(e(T).ticket_b_bruto),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),a("div",zs,[Js,t("div",null,[y(L,{class:"card-border p-1",type:"text",value:e(o).ticket_b_tara||0,onInput:p[18]||(p[18]=r=>e(o).ticket_b_tara=r),show:D.show},null,8,["value","show"])]),t("p",qs,i(e(T).ticket_b_tara),1)])):_("",!0),["CPO","PK"].indexOf(e(o).jenis)>-1?(s(),a("div",Es,[Gs,t("div",Zs,i(e(o).ticket_b_bruto?e(w)(e(o).ticket_b_bruto-e(o).ticket_b_tara):0),1)])):_("",!0)])]),t("div",Qs,[t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:p[19]||(p[19]=r=>D.fnClose())}," Cancel "),e(z)?_("",!0):(s(),a("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:p[20]||(p[20]=wt(r=>et(),["prevent"]))}," Save "))])])])],512)),[[Mt,D.show]])}}},Xs=Kt(Ws,[["__scopeId","data-v-ed312b26"]]);const m=D=>(Ot("data-v-24aed8b9"),D=D(),Ht(),D),tl={class:"box-fixed"},el={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},ol={class:"w-full flex flex-col items-center grow overflow-auto"},sl={class:"w-full flex flex-row flex-wrap"},ll={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},al=m(()=>t("label",{for:""},"U.Jalan Per",-1)),il={class:"card-border"},_l={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},nl=m(()=>t("label",{for:""},"Jenis",-1)),dl={class:"card-border"},cl={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},rl=m(()=>t("label",{for:""},"Supir",-1)),ul={class:"card-border"},pl={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},fl=m(()=>t("label",{for:""},"Kernet",-1)),vl={class:"card-border"},hl={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},kl=m(()=>t("label",{for:""},"No Pol",-1)),ml={class:"card-border"},bl={key:0,class:"w-full flex flex-wrap"},wl={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},xl=m(()=>t("label",{for:""},"Tujuan",-1)),$l={class:"card-border"},yl={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},gl=m(()=>t("label",{for:""},"Tipe",-1)),Tl={class:"card-border"},Al={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Dl=m(()=>t("label",{for:""},"Total Dari U.Jalan",-1)),Cl={class:"card-border"},Pl={key:1,class:"w-full flex flex-wrap"},jl={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Bl=m(()=>t("label",{for:""},"Cost Center Code",-1)),Sl={class:"card-border"},Nl={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},Vl=m(()=>t("label",{for:""},"Cost Center Desc",-1)),Ml={class:"card-border"},Ol={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},Hl=m(()=>t("label",{for:""},"PVR No",-1)),Il={class:"card-border"},Kl={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Ul=m(()=>t("label",{for:""},"PVR Total",-1)),Fl={class:"card-border"},Yl={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},Rl=m(()=>t("label",{for:""},"PV",-1)),Ll={class:"card-border"},zl={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Jl=m(()=>t("label",{for:""},"PV Amount",-1)),ql={class:"card-border"},El={key:2,class:"w-full p-1"},Gl=m(()=>t("label",{for:""},"Peralihan",-1)),Zl={class:"card-border"},Ql={key:3,class:"w-full flex flex-col flex-wrap p-1"},Wl=m(()=>t("label",{for:""},"Tiket A",-1)),Xl={class:"card-border"},ta={key:4,class:"w-full flex flex-wrap"},ea={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},oa=m(()=>t("label",{for:""},"In At",-1)),sa={class:"card-border disabled"},la={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},aa=m(()=>t("label",{for:""},"Out At",-1)),ia={class:"card-border disabled"},_a={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},na=m(()=>t("label",{for:""},"Bruto",-1)),da={class:"card-border disabled"},ca={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ra=m(()=>t("label",{for:""},"Tara",-1)),ua={class:"card-border disabled"},pa={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},fa=m(()=>t("label",{for:""},"Netto",-1)),va={class:"card-border disabled"},ha={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ka=m(()=>t("label",{for:""},"No Pol",-1)),ma={class:"card-border disabled"},ba={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},wa=m(()=>t("label",{for:""},"Supir",-1)),xa={class:"card-border disabled"},$a={key:5,class:"w-full flex flex-col flex-wrap p-1"},ya=m(()=>t("label",{for:""},"Tiket B",-1)),ga={class:"card-border"},Ta={key:6,class:"w-full flex flex-wrap"},Aa={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Da=m(()=>t("label",{for:""},"In At",-1)),Ca={class:"card-border disabled"},Pa={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},ja=m(()=>t("label",{for:""},"Out At",-1)),Ba={class:"card-border disabled"},Sa={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Na=m(()=>t("label",{for:""},"Bruto ",-1)),Va={class:"card-border disabled"},Ma={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Oa=m(()=>t("label",{for:""},"Tara ",-1)),Ha={class:"card-border disabled"},Ia={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ka=m(()=>t("label",{for:""},"Netto ",-1)),Ua={class:"card-border disabled"},Fa={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ya=m(()=>t("label",{for:""},"No Pol",-1)),Ra={class:"card-border disabled"},La={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},za=m(()=>t("label",{for:""},"Supir",-1)),Ja={class:"card-border disabled"},qa={key:7,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Ea=m(()=>t("label",{for:""},"In At",-1)),Ga={class:"card-border"},Za={key:8,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Qa=m(()=>t("label",{for:""},"Out At",-1)),Wa={class:"card-border"},Xa={key:9,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ti=m(()=>t("label",{for:""},"Bruto",-1)),ei={class:"card-border"},oi={key:10,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},si=m(()=>t("label",{for:""},"Tara",-1)),li={class:"card-border"},ai={key:11,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ii=m(()=>t("label",{for:""},"Netto",-1)),_i={class:"card-border"},ni={class:"w-full flex items-center justify-end"},di={class:"w-full flex flex-wrap p-3 items-center"},ci=m(()=>t("div",null," Di Validasi oleh : ",-1)),ri={key:0,class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white text-xs"},ui={key:0},pi={key:1},fi={__name:"trx_trp_validasi",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]}},setup(D){const k=D,{$moment:P}=xt(),{pointFormat:w}=bt(),l=g({...{id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",val:0,val_by:{username:""},val_at:"",val1:0,val1_by:{username:""},val1_at:"",cost_center_code:"",cost_center_desc:"",pvr_id:"",pvr_no:"",pvr_total:"",pvr_had_detail:""}}),o=pt("token"),tt=async()=>{C().loading_full=!0;const U=new FormData;let x="post",F=k.id;F==0||(U.append("id",F),U.append("_method","PUT"));const{data:M,error:et,status:ot}=await R("/trx_trp_validasi",{method:x,headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:U,retry:0});if(C().loading_full=!1,ot.value==="error"){Y().trigger(et);return}l.value.val=M.value.val,l.value.val_user=M.value.val_user,l.value.val_by=M.value.val_by,l.value.val_at=M.value.val_at,l.value.val1=M.value.val1,l.value.val1_user=M.value.val1_user,l.value.val1_by=M.value.val1_by,l.value.val1_at=M.value.val1_at;let K=k.p_data.map(Q=>Q.id).indexOf(k.id);K>=-1&&k.p_data.splice(K,1,{...l.value}),k.fnClose()},T=async()=>{C().loading_full=!0;const{data:U,error:x,status:F}=await R("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{id:k.id},retry:0});if(C().loading_full=!1,F.value==="error"){Y().trigger(x);return}l.value=U.value.data};return q(()=>k.show,(U,x)=>{U==!0&&T()},{immediate:!0}),(U,x)=>{const F=St;return V((s(),a("section",tl,[t("div",null,[y(F,{title:"Form Transaction Validation",fn:D.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",el,[t("div",ol,[t("div",sl,[t("div",ll,[al,t("div",il,i(e(l).tanggal?e(P)(e(l).tanggal).format("DD-MM-YYYY"):""),1)]),t("div",_l,[nl,t("div",dl,i(e(l).jenis),1)]),t("div",cl,[rl,t("div",ul,i(e(l).supir),1)]),t("div",pl,[fl,t("div",vl,i(e(l).kernet),1)]),t("div",hl,[kl,t("div",ml,i(e(l).kernet),1)]),e(l).jenis!=""?(s(),a("div",bl,[t("div",wl,[xl,t("div",$l,i(e(l).xto),1)]),t("div",yl,[gl,t("div",Tl,i(e(l).tipe),1)]),t("div",Al,[Dl,t("div",Cl,i(e(w)(e(l).amount||0)),1)])])):_("",!0),e(l).jenis!=""?(s(),a("div",Pl,[t("div",jl,[Bl,t("div",Sl,i(e(l).cost_center_code),1)]),t("div",Nl,[Vl,t("div",Ml,i(e(l).cost_center_code),1)]),t("div",Ol,[Hl,t("div",Il,i(e(l).pvr_no),1)]),t("div",Kl,[Ul,t("div",Fl,i(e(w)(e(l).pvr_total||0)),1)]),t("div",Yl,[Rl,t("div",Ll,i(e(l).pv_no),1)]),t("div",zl,[Jl,t("div",ql,i(e(w)(e(l).pv_total||0)),1)])])):_("",!0),e(l).jenis=="TBS"?(s(),a("div",El,[Gl,t("div",Zl,i(e(l).transition_to),1)])):_("",!0),e(l).jenis!=""&&e(l).jenis!="TBSK"?(s(),a("div",Ql,[Wl,t("div",Xl,i(e(l).ticket_a_no),1)])):_("",!0),e(l).jenis!=""&&e(l).jenis!="TBSK"?(s(),a("div",ta,[t("div",ea,[oa,t("div",sa,i(e(l).ticket_a_in_at?e(P)(e(l).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",la,[aa,t("div",ia,i(e(l).ticket_a_out_at?e(P)(e(l).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",_a,[na,t("div",da,i(e(l).ticket_a_bruto?e(w)(e(l).ticket_a_bruto):0),1)]),t("div",ca,[ra,t("div",ua,i(e(l).ticket_a_tara?e(w)(e(l).ticket_a_tara):0),1)]),t("div",pa,[fa,t("div",va,i(e(l).ticket_a_bruto?e(w)(e(l).ticket_a_bruto-e(l).ticket_a_tara):0),1)]),t("div",ha,[ka,t("div",ma,i(e(l).ticket_a_no_pol),1)]),t("div",ba,[wa,t("div",xa,i(e(l).ticket_a_supir),1)])])):_("",!0),["TBS","TBSK"].indexOf(e(l).jenis)>-1?(s(),a("div",$a,[ya,t("div",ga,i(e(l).ticket_b_no),1)])):_("",!0),["TBS","TBSK"].indexOf(e(l).jenis)>-1?(s(),a("div",Ta,[t("div",Aa,[Da,t("div",Ca,i(e(l).ticket_b_in_at?e(P)(e(l).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",Pa,[ja,t("div",Ba,i(e(l).ticket_b_out_at?e(P)(e(l).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),t("div",Sa,[Na,t("div",Va,i(e(l).ticket_b_bruto?e(w)(e(l).ticket_b_bruto):0),1)]),t("div",Ma,[Oa,t("div",Ha,i(e(l).ticket_b_tara?e(w)(e(l).ticket_b_tara):0),1)]),t("div",Ia,[Ka,t("div",Ua,i(e(l).ticket_b_bruto?e(w)(e(l).ticket_b_bruto-e(l).ticket_b_tara):0),1)]),t("div",Fa,[Ya,t("div",Ra,i(e(l).ticket_b_no_pol),1)]),t("div",La,[za,t("div",Ja,i(e(l).ticket_b_supir),1)])])):_("",!0),["CPO","PK"].indexOf(e(l).jenis)>-1?(s(),a("div",qa,[Ea,t("div",Ga,i(e(l).ticket_b_in_at?e(P)(e(l).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)])):_("",!0),["CPO","PK"].indexOf(e(l).jenis)>-1?(s(),a("div",Za,[Qa,t("div",Wa,i(e(l).ticket_b_out_at?e(P)(e(l).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)])):_("",!0),["CPO","PK"].indexOf(e(l).jenis)>-1?(s(),a("div",Xa,[ti,t("div",ei,i(e(w)(e(l).ticket_b_bruto||0)),1)])):_("",!0),["CPO","PK"].indexOf(e(l).jenis)>-1?(s(),a("div",oi,[si,t("div",li,i(e(w)(e(l).ticket_b_tara||0)),1)])):_("",!0),["CPO","PK"].indexOf(e(l).jenis)>-1?(s(),a("div",ai,[ii,t("div",_i,i(e(w)(e(l).ticket_b_netto||0)),1)])):_("",!0)])]),t("div",ni,[t("div",di,[ci,e(l).val||e(l).val1?(s(),a("div",ri,[e(l).val?(s(),a("div",ui," App 1 : "+i(e(l).val_by.username)+" ( "+i(e(l).val_at?e(P)(e(l).val_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):_("",!0),e(l).val1?(s(),a("div",pi," App 2 : "+i(e(l).val1_by.username)+" ( "+i(e(l).val1_at?e(P)(e(l).val1_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):_("",!0)])):_("",!0)]),t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:x[0]||(x[0]=M=>D.fnClose())}," Cancel "),t("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:x[1]||(x[1]=wt(M=>tt(),["prevent"]))}," Validasi ")])])])],512)),[[Mt,D.show]])}}},vi=Kt(fi,[["__scopeId","data-v-24aed8b9"]]),hi={class:"w-full h-full flex flex-col"},ki={class:"w-full flex grow flex-col overflow-auto h-0"},mi={class:"w-full flex justify-between"},bi={class:"grow flex"},wi={class:"flex"},xi=t("span",{class:"text-xs"},"Mode",-1),$i={action:"#",class:"w-full flex p-1"},yi={class:"grow"},gi=t("div",{class:"font-bold"}," Keyword ",-1),Ti={class:"pl-1"},Ai=t("div",{class:"font-bold"}," Sort By ",-1),Di=It('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),Ci=[Di],Pi={class:"pl-1"},ji=t("div",{class:"font-bold"}," Sort Order ",-1),Bi=t("option",{value:"asc"},"Asc",-1),Si=t("option",{value:"desc"},"Desc",-1),Ni=[Bi,Si],Vi={class:"flex items-end pl-1"},Mi={class:"w-full flex justify-center items-center grow h-0 p-1"},Oi={key:0,class:""},Hi={class:"tacky"},Ii={class:"sticky top-0 !z-[2]"},Ki={key:0},Ui={key:1},Fi={key:2},Yi={key:3},Ri={key:4},Li={key:5},zi={key:6},Ji={key:7},qi={key:8},Ei={key:9},Gi={key:10},Zi={key:11},Qi={key:12},Wi={key:13},Xi={key:14},t_={key:15},e_={key:16},o_={key:17},s_={key:18},l_={key:19},a_={key:20},i_={key:21},__={key:22},n_={key:23},d_={key:24},c_={key:25},r_={key:26},u_={key:27},p_={key:28},f_={key:29},v_={key:30},h_={key:31},k_={key:32},m_={key:33},b_={key:34},w_={key:35},x_={key:36},$_={key:37},y_=["onClick"],g_={key:0},T_={class:"flex items-center justify-center"},A_={key:1},D_={class:"flex items-center justify-center"},C_={key:2},P_={class:"flex items-center justify-center"},j_={key:3,class:"bold"},B_={key:4},S_={key:5},N_={key:6},V_={key:7},M_={key:8},O_={key:9},H_={key:10},I_={key:11},K_={key:12},U_={key:13},F_={key:14},Y_={key:15},R_={key:16},L_={key:17},z_={key:18},J_={key:19},q_={key:20},E_={key:21},G_={key:22},Z_={key:23},Q_={key:24},W_={key:25},X_={key:26},tn={key:27},en={key:28},on={key:29},sn={key:30},ln={key:31},an={key:32},_n={key:33},nn={key:34},dn={key:35},cn={key:36},rn={key:37},un={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},pn={class:"relative",style:{width:"95%",height:"90%"}},fn={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},vn=["src"],hn={key:1,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},kn={class:"relative",style:{width:"95%",height:"90%"}},mn={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},bn={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},wn={class:"w-full p-1"},xn={class:"w-full p-1 bg-gray-200"},$n=t("div",{class:"w-full text-blue-600 font-bold"}," Set Date For Load Data ",-1),yn={class:"w-full grid grid-cols-2 grid-rows-1 gap-1"},gn={class:"flex flex-col flex-wrap p-1"},Tn=t("label",{for:""},"From",-1),An={class:"grow"},Dn={class:"flex flex-col flex-wrap p-1"},Cn=t("label",{for:""},"To",-1),Pn={class:"grow"},jn={class:"w-full p-1"},Bn={class:"w-full p-1 bg-gray-200"},Sn=t("div",{class:"w-full text-blue-600 font-bold grid-"}," Set Show Column Field ",-1),Nn={class:"w-full flex flex-wrap"},Vn=["onClick"],Mn={class:"w-full flex justify-end"},Wn={__name:"index",async setup(D){let k,P;const{$moment:w}=xt(),{pointFormat:H}=bt(),l={};l._TimeZoneOffset=new Date().getTimezoneOffset(),l.sort="tanggal:desc";const o=pt("token"),tt=pt("role"),T=f=>f.includes(tt.value),{data:U}=([k,P]=he(async()=>xe(async()=>{C().loading_full=!0;let f=[];const[d,N]=await Promise.all([R("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},retry:0})]);return d.status.value!=="error"&&(f=d.data.value.data),d.status.value==="error"?(Y().trigger(d.error),{trx_trps:f}):(C().loading_full=!1,{trx_trps:f})},"$pFLmKcrKj9")),k=await k,P(),k),x=g(U.value.trx_trps||[]),F=g([]),M=g([]),et=g([]),ot=g([]),K=g(!1),Q=async(f,d="")=>{C().loading_full=!0;let N=S.value.from?w(S.value.from).format("Y-MM-DD"):"",J=S.value.to?w(S.value.to).format("Y-MM-DD"):"";const{data:O,error:st,status:X}=await R("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{jenis:f,online_status:K.value,from:N,to:J,transition_to:d},retry:0});if(C().loading_full=!1,X.value==="error"){Y().trigger(st);return}F.value=O.value.list_ujalan,M.value=O.value.list_cost_center,et.value=O.value.list_ticket,ot.value=O.value.list_pv},A=g(""),z=g({field:"tanggal",by:"desc"}),j=g(-1),b=g({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),dt=()=>{l.like="",A.value!=""&&(l.like=`id:%${A.value}%,xto:%${A.value}%,jenis:%${A.value}%,pv_no:%${A.value}%,ticket_a_no:%${A.value}%,ticket_b_no:%${A.value}%,no_pol:%${A.value}%,supir:%${A.value}%,kernet:%${A.value}%,cost_center_code:%${A.value}%,cost_center_desc:%${A.value}%,pvr_id:%${A.value}%,pvr_no:%${A.value}%,tanggal:%${A.value}%,transition_to:%${A.value}%`),l.sort="",z.value.field&&(l.sort=z.value.field+":"+z.value.by)},n=g(null),p=async()=>{C().loading_full=!0,b.value.may_get_data=!1,l.page=b.value.page,l.page==1&&(x.value=[]),l.first_row&&delete l.first_row,l.page>1&&(l.first_row=JSON.stringify(x.value[0]));const{data:f,error:d,status:N}=await R("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:l,retry:0});if(C().loading_full=!1,b.value.may_get_data=!0,N.value==="error"){Y().trigger(d);return}b.value.page==1?(x.value=f.value.data,n.value&&(n.value.scrollTop=0)):b.value.page>1&&(x.value=[...x.value,...f.value.data]),f.value.data.length==0&&(b.value.is_last_record=!0)},v=async()=>{if(!b.value.may_get_data)return;let f=n.value;if(f.scrollLeft!=b.value.scrollLeft){b.value.scrollLeft=f.scrollLeft;return}b.value.is_last_record||!(Math.round(f.scrollTop)+f.clientHeight>=f.scrollHeight-1)||(b.value.page++,await p())},$=()=>{b.value.page=1,b.value.is_last_record=!1,dt(),p()};ke();const B=g(!1),L=g(0),r=()=>{L.value=0,B.value=!0},{display:I}=mt();me(mt());const Ut=()=>{j.value==-1?I({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(L.value=x.value[j.value].id,B.value=!0)},ft=g(!1),$t=g(0),Ft=()=>{j.value==-1?I({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):($t.value=x.value[j.value].id,ft.value=!0)},yt=g({}),it=g(!1),Yt=async()=>{it.value&&(it.value=!1)},Rt=()=>{j.value==-1?I({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(yt.value={id:x.value[j.value].id},it.value=!0)},Lt=async()=>{C().loading_full=!0;const f=new FormData;f.append("id",x.value[j.value].id),f.append("_method","DELETE");const{data:d,error:N,status:J}=await R("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(C().loading_full=!1,J.value==="error"){Y().trigger(N);return}x.value.splice(j.value,1),j.value=-1,it.value=!1},{downloadFile:zt,printHtml:Jt}=ne(),vt=g(!1),gt=g(""),Tt=async()=>{if(vt.value==!0){vt.value=!1;return}if(j.value==-1){I({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}C().loading_full=!0;const{data:f,error:d,status:N}=await R("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},params:{id:x.value[j.value].id},retry:0});if(C().loading_full=!1,N.value==="error"){Y().trigger(d);return}Jt(f.value.html,318)},qt=()=>{zt(gt.value)},At=f=>f.pv_id<=0||["CPO","PK"].indexOf(f.jenis)>-1&&(f.ticket_a_id<=0||f.ticket_b_bruto<=0||f.ticket_b_tara<=0||f.ticket_b_netto<=0||f.ticket_b_in_at==""||f.ticket_b_out_at=="")||f.jenis=="TBS"&&(f.ticket_a_id<=0||f.ticket_b_id<=0)||f.jenis=="TBSK"&&f.ticket_b_id<=0?0:1,ct=g(!1),S=g({from:new Date().setDate(new Date().getDate()-3),to:new Date}),Dt=f=>{f=="from"?S.value.from-S.value.to>0&&(S.value.from=S.value.to):S.value.to-S.value.from<0&&(S.value.to=S.value.from)},Ct=f=>{f=="select"?W.value=W.value.map(d=>(d.checked=1,d)):W.value=W.value.map(d=>(d.checked=0,d))},W=g([{checked:1,name:"Status"},{checked:1,name:"App 1"},{checked:1,name:"App 2"},{checked:1,name:"ID"},{checked:1,name:"U.Jalan Per"},{checked:1,name:"No Pol"},{checked:1,name:"Tujuan"},{checked:1,name:"Tipe"},{checked:1,name:"Jenis"},{checked:1,name:"Amount"},{checked:1,name:"Cost Center Code"},{checked:1,name:"Cost Center Desc"},{checked:1,name:"PVR No"},{checked:1,name:"PVR Total"},{checked:1,name:"PVR Completed"},{checked:1,name:"PV No"},{checked:1,name:"PV Total"},{checked:1,name:"Peralihan"},{checked:1,name:"Ticket A No"},{checked:1,name:"Ticket A Bruto"},{checked:1,name:"Ticket A Tara"},{checked:1,name:"Ticket A Netto"},{checked:1,name:"Ticket A Supir"},{checked:1,name:"Ticket A No Pol"},{checked:1,name:"Ticket A In At"},{checked:1,name:"Ticket A Out At"},{checked:1,name:"Ticket B No"},{checked:1,name:"Ticket B Bruto"},{checked:1,name:"Ticket B Tara"},{checked:1,name:"Ticket B Netto"},{checked:1,name:"Ticket B Supir"},{checked:1,name:"Ticket B No Pol"},{checked:1,name:"Ticket B In At"},{checked:1,name:"Ticket B Out At"},{checked:1,name:"Supir"},{checked:1,name:"Kernet"},{checked:1,name:"Created At"},{checked:1,name:"Updated At"}]),u=f=>{let d=W.value.map(N=>N.name).indexOf(f);return W.value[d].checked},Et=async()=>{C().loading_full=!0;const f=new FormData;f.append("id",x.value[j.value].id),f.append("online_status",K.value);const{data:d,error:N,status:J}=await R("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(C().loading_full=!1,J.value==="error"){Y().trigger(N);return}let O=x.value[j.value];O.pvr_id=d.value.pvr_id,O.pvr_no=d.value.pvr_no,O.pvr_total=d.value.pvr_total,O.pvr_had_detail=d.value.pvr_had_detail,O.updated_at=d.value.updated_at,x.value.splice(j.value,1,{...O}),j.value=-1,I({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Gt=async()=>{C().loading_full=!0;const f=new FormData;f.append("online_status",K.value);const{data:d,error:N,status:J}=await R("/trx_trp_do_update_pv",{method:"post",headers:{Authorization:`Bearer ${o.value}`,Accept:"application/json"},body:f,retry:0});if(C().loading_full=!1,J.value==="error"){Y().trigger(N);return}d.value.data.forEach(O=>{let st=x.value.map(X=>X.id).indexOf(O.id);if(st!==-1){let X={pv_id:d.value.pv_id,pv_no:d.value.pv_no,pv_total:d.value.pv_total,updated_at:d.value.updated_at};x.value.splice(st,1,{...X})}}),I({show:!0,status:"Success",message:"Update PV Done"})};return(f,d)=>{const N=se,J=le,O=ae,st=ie,X=_e,Zt=de,Qt=ce,Wt=re,ht=ue,kt=pe,Xt=fe,te=Xs,ee=vi,Pt=$e,jt=Vt("vue-date-picker"),Bt=Nt;return s(),a("div",hi,[y(N,{title:"List Transaction"}),t("div",ki,[t("div",mi,[t("div",bi,[t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:d[0]||(d[0]=c=>r())},[y(J)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:d[1]||(d[1]=c=>Ut())},[y(O)]),T(["PabrikTransport"])?_("",!0):(s(),a("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:d[2]||(d[2]=c=>Rt())},[y(st)])),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:d[3]||(d[3]=c=>Ft())},[y(X)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:d[4]||(d[4]=c=>Tt())},[y(Zt)]),t("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:d[5]||(d[5]=c=>ct.value=!0)},[y(Qt)])]),t("div",wi,[t("button",{type:"button",name:"button",class:"m-1 text-sm whitespace-nowrap",onClick:d[6]||(d[6]=c=>Et())}," Gen/Update PVR "),t("button",{type:"button",name:"button",class:"m-1 text-sm whitespace-nowrap",onClick:d[7]||(d[7]=c=>Gt())}," Update PV "),t("div",{class:"m-1 card-border cursor-pointer",onClick:d[8]||(d[8]=c=>K.value=!e(K))},[xi,be(" : "),t("span",{class:ut(["font-bold",e(K)?"text-green-600":"text-red-600"])},i(e(K)?"ONLINE":"OFFLINE"),3)])])]),t("form",$i,[t("div",yi,[gi,V(t("input",{class:"",type:"text","onUpdate:modelValue":d[9]||(d[9]=c=>we(A)?A.value=c:null),name:"search",placeholder:"Keyword"},null,512),[[E,e(A)]])]),t("div",Ti,[Ai,V(t("select",{class:"","onUpdate:modelValue":d[10]||(d[10]=c=>e(z).field=c)},Ci,512),[[at,e(z).field]])]),t("div",Pi,[ji,V(t("select",{class:"","onUpdate:modelValue":d[11]||(d[11]=c=>e(z).by=c)},Ni,512),[[at,e(z).by]])]),t("div",Vi,[t("button",{class:"",type:"submit",name:"button",onClick:d[12]||(d[12]=wt(c=>$(),["prevent"]))},[y(Wt,{class:"text-2xl"})])])]),t("div",Mi,[e(x).length==0?(s(),a("div",Oi," Maaf Tidak Ada Record ")):(s(),a("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:n,onScroll:v},[t("table",Hi,[t("thead",null,[t("tr",Ii,[u("Status")?(s(),a("th",Ki,"Status")):_("",!0),u("App 1")?(s(),a("th",Ui,"App 1")):_("",!0),u("App 2")?(s(),a("th",Fi,"App 2")):_("",!0),u("ID")?(s(),a("th",Yi,"ID")):_("",!0),u("U.Jalan Per")?(s(),a("th",Ri,"U.Jalan Per")):_("",!0),u("No Pol")?(s(),a("th",Li,"No Pol")):_("",!0),u("Tujuan")?(s(),a("th",zi,"Tujuan")):_("",!0),u("Tipe")?(s(),a("th",Ji,"Tipe")):_("",!0),u("Jenis")?(s(),a("th",qi,"Jenis")):_("",!0),u("Amount")?(s(),a("th",Ei,"Amount")):_("",!0),u("Cost Center Code")?(s(),a("th",Gi,"Cost Center Code")):_("",!0),u("Cost Center Desc")?(s(),a("th",Zi,"Cost Center Desc")):_("",!0),u("PVR No")?(s(),a("th",Qi,"PVR No")):_("",!0),u("PVR Total")?(s(),a("th",Wi,"PVR Total")):_("",!0),u("PVR Completed")?(s(),a("th",Xi,"PVR Completed")):_("",!0),u("PV No")?(s(),a("th",t_,"PV No")):_("",!0),u("PV Total")?(s(),a("th",e_,"PV Total")):_("",!0),u("Peralihan")?(s(),a("th",o_,"Peralihan")):_("",!0),u("Ticket A No")?(s(),a("th",s_,"Ticket A No")):_("",!0),u("Ticket A Bruto")?(s(),a("th",l_,"Ticket A Bruto")):_("",!0),u("Ticket A Tara")?(s(),a("th",a_,"Ticket A Tara")):_("",!0),u("Ticket A Netto")?(s(),a("th",i_,"Ticket A Netto")):_("",!0),u("Ticket A Supir")?(s(),a("th",__,"Ticket A Supir")):_("",!0),u("Ticket A No Pol")?(s(),a("th",n_,"Ticket A No Pol")):_("",!0),u("Ticket A In At")?(s(),a("th",d_,"Ticket A In At")):_("",!0),u("Ticket A Out At")?(s(),a("th",c_,"Ticket A Out At")):_("",!0),u("Ticket B No")?(s(),a("th",r_,"Ticket B No")):_("",!0),u("Ticket B Bruto")?(s(),a("th",u_,"Ticket B Bruto")):_("",!0),u("Ticket B Tara")?(s(),a("th",p_,"Ticket B Tara")):_("",!0),u("Ticket B Netto")?(s(),a("th",f_,"Ticket B Netto")):_("",!0),u("Ticket B Supir")?(s(),a("th",v_,"Ticket B Supir")):_("",!0),u("Ticket B No Pol")?(s(),a("th",h_,"Ticket B No Pol")):_("",!0),u("Ticket B In At")?(s(),a("th",k_,"Ticket B In At")):_("",!0),u("Ticket B Out At")?(s(),a("th",m_,"Ticket B Out At")):_("",!0),u("Supir")?(s(),a("th",b_,"Supir")):_("",!0),u("Kernet")?(s(),a("th",w_,"Kernet")):_("",!0),u("Created At")?(s(),a("th",x_,"Created At")):_("",!0),u("Updated At")?(s(),a("th",$_,"Updated At")):_("",!0)])]),t("tbody",null,[(s(!0),a(G,null,Z(e(x),(c,rt)=>(s(),a("tr",{key:rt,onClick:oe=>j.value=rt,class:ut(e(j)==rt?"active":"")},[u("Status")?(s(),a("td",g_,[t("div",T_,[t("div",{class:ut(["text-white text-xs px-2 py-1 rounded-lg",At(c)?"bg-green-600":"bg-red-600"])},i(At(c)?"Done":"Not Done"),3)])])):_("",!0),u("App 1")?(s(),a("td",A_,[t("div",D_,[c.val?(s(),lt(kt,{key:1})):(s(),lt(ht,{key:0}))])])):_("",!0),u("App 2")?(s(),a("td",C_,[t("div",P_,[c.val1?(s(),lt(kt,{key:1})):(s(),lt(ht,{key:0}))])])):_("",!0),u("ID")?(s(),a("td",j_,i(c.id),1)):_("",!0),u("U.Jalan Per")?(s(),a("td",B_,i(c.tanggal?e(w)(c.tanggal).format("DD-MM-Y"):""),1)):_("",!0),u("No Pol")?(s(),a("td",S_,i(c.no_pol),1)):_("",!0),u("Tujuan")?(s(),a("td",N_,i(c.xto),1)):_("",!0),u("Tipe")?(s(),a("td",V_,i(c.tipe),1)):_("",!0),u("Jenis")?(s(),a("td",M_,i(c.jenis),1)):_("",!0),u("Amount")?(s(),a("td",O_,i(e(H)(c.amount)),1)):_("",!0),u("Cost Center Code")?(s(),a("td",H_,i(c.cost_center_code),1)):_("",!0),u("Cost Center Desc")?(s(),a("td",I_,i(c.cost_center_desc),1)):_("",!0),u("PVR No")?(s(),a("td",K_,i(c.pvr_no),1)):_("",!0),u("PVR Total")?(s(),a("td",U_,i(e(H)(c.pvr_total)),1)):_("",!0),u("PVR Completed")?(s(),a("td",F_,[c.pvr_had_detail?(s(),lt(kt,{key:1})):(s(),lt(ht,{key:0}))])):_("",!0),u("PV No")?(s(),a("td",Y_,i(c.pv_no),1)):_("",!0),u("PV Total")?(s(),a("td",R_,i(e(H)(c.pv_total)),1)):_("",!0),u("Peralihan")?(s(),a("td",L_,i(c.transition_to),1)):_("",!0),u("Ticket A No")?(s(),a("td",z_,i(c.ticket_a_no),1)):_("",!0),u("Ticket A Bruto")?(s(),a("td",J_,i(e(H)(c.ticket_a_bruto)),1)):_("",!0),u("Ticket A Tara")?(s(),a("td",q_,i(e(H)(c.ticket_a_tara)),1)):_("",!0),u("Ticket A Netto")?(s(),a("td",E_,i(e(H)(c.ticket_a_netto)),1)):_("",!0),u("Ticket A Supir")?(s(),a("td",G_,i(c.ticket_a_supir),1)):_("",!0),u("Ticket A No Pol")?(s(),a("td",Z_,i(c.ticket_a_no_pol),1)):_("",!0),u("Ticket A In At")?(s(),a("td",Q_,i(c.ticket_a_in_at?e(w)(c.ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),u("Ticket A Out At")?(s(),a("td",W_,i(c.ticket_a_out_at?e(w)(c.ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),u("Ticket B No")?(s(),a("td",X_,i(c.ticket_b_no),1)):_("",!0),u("Ticket B Bruto")?(s(),a("td",tn,i(e(H)(c.ticket_b_bruto)),1)):_("",!0),u("Ticket B Tara")?(s(),a("td",en,i(e(H)(c.ticket_b_tara)),1)):_("",!0),u("Ticket B Netto")?(s(),a("td",on,i(e(H)(c.ticket_b_netto)),1)):_("",!0),u("Ticket B Supir")?(s(),a("td",sn,i(c.ticket_b_supir),1)):_("",!0),u("Ticket B No Pol")?(s(),a("td",ln,i(c.ticket_b_no_pol),1)):_("",!0),u("Ticket B In At")?(s(),a("td",an,i(c.ticket_b_in_at?e(w)(c.ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),u("Ticket B Out At")?(s(),a("td",_n,i(c.ticket_b_out_at?e(w)(c.ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),u("Supir")?(s(),a("td",nn,i(c.supir),1)):_("",!0),u("Kernet")?(s(),a("td",dn,i(c.kernet),1)):_("",!0),u("Created At")?(s(),a("td",cn,i(c.created_at?e(w)(c.created_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0),u("Updated At")?(s(),a("td",rn,i(c.updated_at?e(w)(c.updated_at).format("DD-MM-Y HH:mm:ss"):""),1)):_("",!0)],10,y_))),128))])])],544))])]),y(Xt,{type:"delete",show:e(it),data:e(yt),fnClose:Yt,fnConfirm:Lt},null,8,["show","data"]),y(te,{show:e(B),fnClose:()=>{B.value=!1},fnLoadDBData:Q,id:e(L),p_data:e(x),list_ujalan:e(F),list_ticket:e(et),list_pv:e(ot),list_cost_center:e(M),online_status:e(K)},null,8,["show","fnClose","id","p_data","list_ujalan","list_ticket","list_pv","list_cost_center","online_status"]),y(ee,{show:e(ft),fnClose:()=>{ft.value=!1},id:e($t),p_data:e(x)},null,8,["show","fnClose","id","p_data"]),e(vt)?(s(),a("div",un,[t("div",pn,[t("div",fn,[y(Pt,{style:{color:"black",cursor:"pointer"},onClick:d[13]||(d[13]=c=>Tt())})]),t("iframe",{ref:"iframe",width:"100%",height:"100%",src:e(gt).dataBase64},null,8,vn),t("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:d[14]||(d[14]=c=>qt())})])])):_("",!0),e(ct)?(s(),a("div",hn,[t("div",kn,[t("div",mn,[y(Pt,{style:{color:"black",cursor:"pointer"},onClick:d[15]||(d[15]=c=>ct.value=!1)})]),t("div",bn,[t("div",wn,[t("div",xn,[$n,t("div",yn,[t("div",gn,[Tn,t("div",An,[y(Bt,null,{default:nt(()=>[y(jt,{modelValue:e(S).from,"onUpdate:modelValue":d[16]||(d[16]=c=>e(S).from=c),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:d[17]||(d[17]=c=>Dt("from"))},null,8,["modelValue"])]),_:1})])]),t("div",Dn,[Cn,t("div",Pn,[y(Bt,null,{default:nt(()=>[y(jt,{modelValue:e(S).to,"onUpdate:modelValue":d[18]||(d[18]=c=>e(S).to=c),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:d[19]||(d[19]=c=>Dt("to"))},null,8,["modelValue"])]),_:1})])])])])]),t("div",jn,[t("div",Bn,[Sn,t("div",Nn,[(s(!0),a(G,null,Z(e(W),(c,rt)=>(s(),a("div",{class:ut(["p-2 m-1 font-bold cursor-pointer",c.checked?"bg-green-600 text-white":"bg-gray-400 text-black"]),onClick:oe=>c.checked=!c.checked},i(c.name),11,Vn))),256))]),t("div",Mn,[t("button",{class:"bg-white font-bold mr-2",onClick:d[20]||(d[20]=c=>Ct("select"))}," Select All "),t("button",{class:"bg-white font-bold",onClick:d[21]||(d[21]=c=>Ct("invert"))}," Invert All ")])])])]),t("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:d[22]||(d[22]=c=>ct.value=!1)})])])):_("",!0)])}}};export{Wn as default};
