import x from"./PDFJsView.ffc1cc45.js";import{r as c,j as w,o as i,c as f,a as n,t as k,k as s,l as d,D as F,m as _,M as g}from"./entry.ee76e376.js";const B={class:"w-full flex flex-col flex-wrap p-1 justify-center items-center border-solid border-gray-300 border-[1px]"},P={class:"w-full"},D={for:""},S={key:0,class:"w-full flex justify-center items-center border-[1px] border-gray-300 mb-1"},V=["src"],q={__name:"AttachmentSingle",props:{value:{type:[String],required:!0,default:""},label:{type:String,required:!0,default:"File"}},emits:["setFile","setPreview"],setup(p,{emit:r}){const m=p;c(!1);const u=c(null),e=c(null),y=l=>{var t=l.target.files;if(t.length>0){let a=new FileReader;a.onload=function(o){var h;let v=(h=o.target)==null?void 0:h.result;e.value=v,r("setPreview",v)},a.readAsDataURL(t[0]),r("setFile",t[0])}},b=()=>{e.value="",r("setPreview","");let l=u.value;l&&(l.value="",r("setFile",""))};return w(()=>m.show,(l,t)=>{},{immediate:!0}),w(()=>m.value,(l,t)=>{if(e.value=l,l==""){let a=u.value;a&&(a.value="")}},{immediate:!0,deep:!0}),(l,t)=>{const a=x;return i(),f("div",B,[n("div",P,[n("label",D,k(p.label),1)]),s(e)?(i(),f("div",S,[s(e).match(/image/)?(i(),f("img",{key:0,src:s(e),alt:"",class:"max-w-full max-h-full"},null,8,V)):d("",!0),s(e).match(/application\/pdf/)?(i(),F(a,{key:1,pdfBase64:s(e)},null,8,["pdfBase64"])):d("",!0)])):d("",!0),_(n("button",{type:"button",class:"bg-gray-600 w-36 text-white",onClick:t[0]||(t[0]=o=>b())},"Clear",512),[[g,s(e)]]),_(n("input",{class:"w-full",onChange:t[1]||(t[1]=o=>y(o)),ref_key:"photo_input",ref:u,type:"file",name:"photo",value:""},null,544),[[g,!s(e)]])])}}};export{q as default};
