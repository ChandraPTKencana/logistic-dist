import{G as y,r as p,S as v,R as D,g as I,o as j,c as k,x as B}from"./entry.3859af41.js";const S=["value"],F=y({__name:"InputPointFormat",props:{value:{type:[Number,String],required:!0,default:0}},emits:["input","nextBlur"],setup(c,{emit:i}){const l=c;p(!0);const n=p(0),g=e=>{e=e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,"");let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.join(",")},u=e=>{e=e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,"");let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.length>1&&(t[1]=t[1].replace(/0+$/,"")),t.join(",")},s=e=>e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,""),f=e=>{let t=typeof e=="object"?e.target.value:e;t=t||l.value,parseInt(t)<0?(n.value="-"+u(t),i("input",Number(s(t))*-1)):(n.value=u(t),i("input",Number(s(t))))};v(()=>{a(l.value,!0)}),D(e=>e?new Intl.NumberFormat("id-ID",{minimumFractionDigits:2}).format(e):0);const m=/[a-zA-Z <>?/\\|:;'"\[\]{}=+=_()*&^%$#@!~`]/;let o=!1;const a=(e,t=!1)=>{if(e=="-"){n.value="-";return}parseInt(e)<0?o=!0:o=!1;let r=t?parseInt(e):e;e.toString().length>1&&(r=r.toString().replace(/^0/g,"")),n.value=(o?"-":"")+g(r)},d=["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Tab"],b=e=>{e.ctrlKey==!1&&!d.includes(e.key)&&e.key.match(m)&&e.preventDefault(),e.key=="0"&&(e.target.value===0||e.target.value==="0")&&e.preventDefault()},w=e=>{e.target.select(),e.target.setSelectionRange(0,99999)};return I(()=>l.value,(e,t)=>{a(e,!0)},{immediate:!0,deep:!0}),(e,t)=>(j(),k("input",{type:"text",value:B(n),onKeydown:t[0]||(t[0]=r=>b(r)),onKeyup:t[1]||(t[1]=r=>a(r.target.value)),onBlur:t[2]||(t[2]=r=>(f(r),e.$emit("nextBlur",r))),onFocus:t[3]||(t[3]=r=>w(r))},null,40,S))}});export{F as _};
