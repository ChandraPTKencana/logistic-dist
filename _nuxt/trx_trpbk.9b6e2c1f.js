import{_ as ot}from"./HeaderPopup.vue.75317d7a.js";import{_ as lt}from"./client-only.54530c7e.js";import{_ as at}from"./InputPointFormat.vue.832affaf.js";import{r as V,h as st,z as it,K as D,I as C,M as _t,n as w,v as nt,o as d,c as r,a as o,b as y,m as e,w as H,E as dt,t as i,C as M,q as S,F as h,D as g,G as k,x as B,s as rt,H as ct,y as $,p as ut,e as pt}from"./entry.9bfb7e63.js";import{u as vt}from"./useUtils.4001deaf.js";import{u as F}from"./useMyFetch.18476d33.js";import{_ as ft}from"./_plugin-vue_export-helper.c27b6911.js";import"./Times.c32cdb9b.js";const _=m=>(ut("data-v-4a60a1e3"),m=m(),pt(),m),bt={class:"box-fixed"},kt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},mt={class:"w-full flex flex-col items-center grow overflow-auto"},wt={class:"w-full flex flex-row flex-wrap"},xt={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},ht=_(()=>o("label",{for:""},"U.Jalan Per",-1)),gt={key:0,class:"grow"},yt={key:1,class:"grow"},jt={class:"text-red-500"},Tt={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Dt=_(()=>o("label",{for:""},"Jenis",-1)),Ct=["disabled"],St=_(()=>o("option",{value:"TBS"},"TBS",-1)),Bt=_(()=>o("option",{value:"TBSK"},"TBSK",-1)),Nt=_(()=>o("option",{value:"CPO"},"CPO",-1)),Vt=_(()=>o("option",{value:"PK"},"PK",-1)),Pt=[St,Bt,Nt,Vt],Mt={class:"text-red-500"},Ot={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},At=_(()=>o("label",{for:""},"Supir",-1)),Kt=["disabled"],It={id:"supir"},Ut=["value"],Ht={class:"text-red-500"},$t={class:"w-6/12 sm:w-3/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ft=_(()=>o("label",{for:""},"Kernet",-1)),Yt=["disabled"],qt={id:"kernet"},Lt=["value"],zt={class:"text-red-500"},Jt={class:"w-6/12 sm:w-3/12 md:w-2/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Et=_(()=>o("label",{for:""},"No Pol",-1)),Rt=["disabled"],Gt={id:"vehicle"},Qt=["value"],Wt={class:"text-red-500"},Xt={key:0,class:"w-full flex flex-wrap"},Zt={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},te=_(()=>o("label",{for:""},"Tujuan",-1)),ee=["disabled"],oe={class:"text-red-500"},le={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},ae=_(()=>o("label",{for:""},"Tipe",-1)),se=["disabled"],ie=["value","selected"],_e={class:"text-red-500"},ne={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},de=_(()=>o("label",{for:""},"Total Dari U.Jalan",-1)),re={class:"card-border disabled"},ce={key:1,class:"w-full flex flex-wrap"},ue={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},pe=_(()=>o("label",{for:""},"Cost Center Code",-1)),ve=["disabled"],fe={id:"cost_center"},be=["value"],ke={class:"text-red-500"},me={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},we=_(()=>o("label",{for:""},"Cost Center Desc",-1)),xe={class:"card-border disabled"},he={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},ge=_(()=>o("label",{for:""},"PVR No",-1)),ye={class:"card-border disabled"},je={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Te=_(()=>o("label",{for:""},"PVR Total",-1)),De={class:"card-border disabled"},Ce={class:"w-6/12 sm:w-8/12 flex flex-col flex-wrap p-1"},Se=_(()=>o("label",{for:""},"PV",-1)),Be=["disabled"],Ne={id:"pv"},Ve=["value"],Pe=_(()=>o("div",null,null,-1)),Me={class:"text-red-500"},Oe={class:"w-6/12 sm:w-4/12 flex flex-col flex-wrap p-1"},Ae=_(()=>o("label",{for:""},"PV Amount",-1)),Ke={class:"card-border disabled"},Ie=_(()=>o("label",{for:""},"Peralihan",-1)),Ue=_(()=>o("option",{value:""},null,-1)),He=["value"],$e={class:"text-red-500"},Fe={key:3,class:"w-full flex flex-col flex-wrap p-1"},Ye=_(()=>o("label",{for:""},"Tiket A",-1)),qe={id:"ticket_a"},Le=["value"],ze={class:"text-red-500"},Je={key:4,class:"w-full flex flex-wrap"},Ee={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},Re=_(()=>o("label",{for:""},"In At",-1)),Ge={class:"card-border disabled"},Qe={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},We=_(()=>o("label",{for:""},"Out At",-1)),Xe={class:"card-border disabled"},Ze={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},to=_(()=>o("label",{for:""},"Bruto",-1)),eo={class:"card-border disabled"},oo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},lo=_(()=>o("label",{for:""},"Tara",-1)),ao={class:"card-border disabled"},so={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},io=_(()=>o("label",{for:""},"Netto",-1)),_o={class:"card-border disabled"},no={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},ro=_(()=>o("label",{for:""},"No Pol",-1)),co={class:"card-border disabled"},uo={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},po=_(()=>o("label",{for:""},"Supir",-1)),vo={class:"card-border disabled"},fo={key:5,class:"w-full flex flex-col flex-wrap p-1"},bo=_(()=>o("label",{for:""},"Tiket B",-1)),ko={id:"ticket_b"},mo=["value"],wo={class:"text-red-500"},xo={key:6,class:"w-full flex flex-wrap"},ho={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},go=_(()=>o("label",{for:""},"In At",-1)),yo={class:"card-border disabled"},jo={class:"w-6/12 sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col flex-wrap p-1"},To=_(()=>o("label",{for:""},"Out At",-1)),Do={class:"card-border disabled"},Co={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},So=_(()=>o("label",{for:""},"Bruto ",-1)),Bo={class:"card-border disabled"},No={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Vo=_(()=>o("label",{for:""},"Tara ",-1)),Po={class:"card-border disabled"},Mo={class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Oo=_(()=>o("label",{for:""},"Netto ",-1)),Ao={class:"card-border disabled"},Ko={class:"w-3/12 sm:w-2/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Io=_(()=>o("label",{for:""},"No Pol",-1)),Uo={class:"card-border disabled"},Ho={class:"w-full sm:w-4/12 md:w-4/12 lg:w-4/12 flex flex-col flex-wrap p-1"},$o=_(()=>o("label",{for:""},"Supir",-1)),Fo={class:"card-border disabled"},Yo={key:7,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col p-1"},qo=_(()=>o("label",{for:""},"In At",-1)),Lo={class:"text-red-500"},zo={key:8,class:"w-full sm:w-6/12 md:w-3/12 lg:w-2/12 flex flex-col p-1"},Jo=_(()=>o("label",{for:""},"Out At",-1)),Eo={class:"text-red-500"},Ro={key:9,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Go=_(()=>o("label",{for:""},"Bruto",-1)),Qo={class:"text-red-500"},Wo={key:10,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Xo=_(()=>o("label",{for:""},"Tara",-1)),Zo={class:"text-red-500"},tl={key:11,class:"w-3/12 sm:w-2/12 md:w-1/12 lg:w-1/12 flex flex-col flex-wrap p-1"},el=_(()=>o("label",{for:""},"Netto",-1)),ol={class:"card-border disabled"},ll={class:"w-full flex items-center justify-end"},al={__name:"trx_trpbk",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnLoadDBData:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},list_ticket:{type:Array,required:!0,default:[]},list_pv:{type:Array,required:!0,default:[]},list_cost_center:{type:Array,required:!0,default:[]},online_status:{type:Boolean,required:!0,default:!1}},setup(m){const p=m,{$moment:j}=ct(),{pointFormat:x}=vt(),O={id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,pv_id:-1,pv_no:"",pv_total:0,ticket_a_id:-1,ticket_a_no:"",ticket_a_bruto:0,ticket_a_tara:0,ticket_a_netto:0,ticket_a_supir:"",ticket_a_no_pol:"",ticket_a_in_at:"",ticket_a_out_at:"",ticket_b_id:-1,ticket_b_no:"",ticket_b_bruto:0,ticket_b_tara:0,ticket_b_netto:0,ticket_b_supir:"",ticket_b_no_pol:"",ticket_b_in_at:"",ticket_b_out_at:"",supir:"",kernet:"",no_pol:"",cost_center_code:"",cost_center_desc:"",pvr_id:"",pvr_no:"",pvr_total:0,pvr_had_detail:"",transition_to:""};let c={...O};const t=V({...O}),A=st("token"),f=V({}),L=a=>{let s=a.target.value;if(!s){t.value.cost_center_code="",t.value.cost_center_desc="";return}p.list_cost_center.filter(u=>u.CostCenter==s).length==0&&(t.value.cost_center_code="112",t.value.cost_center_desc="Transport")},z=a=>{t.value.ticket_a_no="",t.value.ticket_b_id="",t.value.ticket_b_bruto="",t.value.ticket_b_tara="",t.value.ticket_b_netto="",t.value.ticket_b_in_at="",t.value.ticket_b_out_at="",t.value.ticket_b_supir="-",t.value.ticket_b_no_pol="-",t.value.ticket_b_no="",t.value.transition_to=a.target.value=="TBS"?t.value.transition_to:"",p.fnLoadDBData(a.target.value,t.value.transition_to)},J=a=>{t.value.jenis=="TBS"&&p.fnLoadDBData(t.value.jenis,a.target.value)},{display:E}=it(),R=async()=>{if(t.value.pv_no&&parseInt(t.value.pv_total)!=parseInt(t.value.amount)){E({show:!0,status:"Failed",message:"Total dari Ujalan dan PV tidak cocok"});return}B().loading_full=!0,f.value={};const a=new FormData;if(a.append("tanggal",j(t.value.tanggal).format("Y-MM-DD")),a.append("jenis",t.value.jenis),a.append("id_uj",t.value.id_uj),a.append("xto",t.value.xto),a.append("cost_center_code",t.value.cost_center_code),a.append("online_status",p.online_status),a.append("transition_to",t.value.transition_to),t.value.pv_no){let l=p.list_pv.filter(T=>T.VoucherNo==t.value.pv_no);l.length==0&&t.value.pv_no==c.pv_no?a.append("pv_id",c.pv_id):a.append("pv_id",l[0].VoucherID)}if(t.value.ticket_a_no){let l=K.value.filter(T=>T.TicketNo==t.value.ticket_a_no);l.length==0&&t.value.ticket_a_no==c.ticket_a_no?a.append("ticket_a_id",c.ticket_a_id):a.append("ticket_a_id",l[0].TicketID)}if(t.value.ticket_b_no){let l=I.value.filter(T=>T.TicketNo==t.value.ticket_b_no);l.length==0&&t.value.ticket_b_no==c.ticket_b_no?a.append("ticket_b_id",c.ticket_b_id):a.append("ticket_b_id",l[0].TicketID)}a.append("ticket_a_no",t.value.ticket_a_no),a.append("ticket_b_no",t.value.ticket_b_no),a.append("ticket_b_bruto",t.value.ticket_b_bruto),a.append("ticket_b_tara",t.value.ticket_b_tara),t.value.ticket_b_in_at&&a.append("ticket_b_in_at",j(t.value.ticket_b_in_at).format("Y-MM-DD HH:mm:ss")),t.value.ticket_b_out_at&&a.append("ticket_b_out_at",j(t.value.ticket_b_out_at).format("Y-MM-DD HH:mm:ss")),a.append("supir",t.value.supir),a.append("kernet",t.value.kernet),a.append("no_pol",t.value.no_pol);let s="post",n=p.id;n==0||(a.append("id",n),a.append("_method","PUT"));const{data:u,error:b,status:N}=await F("/trx_trp",{method:s,headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:a,retry:0});if(B().loading_full=!1,N.value==="error"){$().trigger(b,f);return}if(t.value.ticket_a_netto=t.ticket_a_bruto-t.ticket_a_tara,t.value.ticket_b_netto=t.ticket_b_bruto-t.ticket_b_tara,t.value.pvr_id=u.value.pvr_id,t.value.pvr_no=u.value.pvr_no,t.value.pvr_total=u.value.pvr_total,t.value.pvr_had_detail=u.value.pvr_had_detail,t.value.updated_at=u.value.updated_at,p.id<=0)t.value.id=u.value.id,t.value.created_at=u.value.created_at,p.p_data.unshift(t.value);else{let l=p.p_data.map(T=>T.id).indexOf(p.id);l>=-1&&p.p_data.splice(l,1,{...t.value})}p.fnClose()},G=D(()=>{let a=t.value.jenis=="TBSK"?"TBS":t.value.jenis;return[...new Set(P.value.filter(s=>s.jenis==a).map(s=>s.xto))]}),Q=D(()=>{let a=t.value.jenis=="TBSK"?"TBS":t.value.jenis;return P.value.filter(s=>s.xto==t.value.xto&&s.jenis==a)}),W=D(()=>[...new Set(U.value.filter(a=>a.role=="Supir"))]),X=D(()=>[...new Set(U.value.filter(a=>a.role=="Kernet"))]),K=D(()=>{let a=[];return t.value.jenis=="CPO"?a=["cpo"]:t.value.jenis=="PK"?a=["kernel"]:a=["mtbs"],p.list_ticket.filter(s=>a.indexOf(s.ProductName.toLowerCase())>-1)}),I=D(()=>{let a=[];return t.value.jenis=="TBSK"||t.value.transition_to!=""?a=["tbs"]:t.value.jenis=="TBS"&&(a=["rtbs"]),p.list_ticket.filter(s=>a.indexOf(s.ProductName.toLowerCase())>-1)}),Z=D(()=>!1),tt=async()=>{B().loading_full=!0;const{data:a,error:s,status:n}=await F("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:{id:p.id},retry:0});if(B().loading_full=!1,n.value==="error"){$().trigger(s);return}t.value=a.value.data,c={...a.value.data},p.fnLoadDBData(t.value.jenis,t.value.transition_to)},P=V([]),Y=V([]),U=V([]),et=async()=>{B().loading_full=!0;const{data:a,error:s,status:n}=await F("/trx_load_for_local",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},retry:0});if(B().loading_full=!1,n.value==="error"){$().trigger(s);return}P.value=a.value.list_ujalan,Y.value=a.value.list_vehicle,U.value=a.value.list_employee};C(()=>p.show,(a,s)=>{a==!0&&(et(),t.value={...O},f.value={},p.id!=0&&tt())},{immediate:!0});let v={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""};C(()=>t.value.ticket_a_no,(a,s)=>{if(a==""||a){if(a){let n=K.value.filter(u=>u.TicketNo==t.value.ticket_a_no);n.length>0?v={id:n[0].TicketID,bruto:n[0].Bruto,tara:n[0].Tara,netto:n[0].Netto,supir:n[0].NamaSupir,no_pol:n[0].VehicleNo,in_at:n[0].DateTimeIn,out_at:n[0].DateTimeOut}:t.value.ticket_a_no==c.ticket_a_no&&(v={id:c.ticket_a_id,bruto:c.ticket_a_bruto,tara:c.ticket_a_tara,netto:c.ticket_a_netto,supir:c.ticket_a_supir,no_pol:c.ticket_a_no_pol,in_at:c.ticket_a_in_at,out_at:c.ticket_a_out_at})}a==""&&(v={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),t.value.ticket_a_id=v.id,t.value.ticket_a_bruto=v.bruto,t.value.ticket_a_tara=v.tara,t.value.ticket_a_netto=v.netto,t.value.ticket_a_in_at=v.in_at,t.value.ticket_a_out_at=v.out_at,t.value.ticket_a_supir=v.supir,t.value.ticket_a_no_pol=v.no_pol}},{deep:!0,immediate:!0}),C(()=>t.value.ticket_b_no,(a,s)=>{if(["TBS","TBSK"].indexOf(t.value.jenis)>-1&&(a==""||a)){if(a){let n=I.value.filter(u=>u.TicketNo==t.value.ticket_b_no);n.length>0?v={id:n[0].TicketID,bruto:n[0].Bruto,tara:n[0].Tara,netto:n[0].Netto,supir:n[0].NamaSupir,no_pol:n[0].VehicleNo,in_at:n[0].DateTimeIn,out_at:n[0].DateTimeOut}:t.value.ticket_b_no==c.ticket_b_no&&(v={id:c.ticket_b_id,bruto:c.ticket_b_bruto,tara:c.ticket_b_tara,netto:c.ticket_b_netto,supir:c.ticket_b_supir,no_pol:c.ticket_b_no_pol,in_at:c.ticket_b_in_at,out_at:c.ticket_b_out_at})}a==""&&(v={id:-1,bruto:0,tara:0,netto:0,supir:"-",no_pol:"-",in_at:"",out_at:""}),t.value.ticket_b_id=v.id,t.value.ticket_b_bruto=v.bruto,t.value.ticket_b_tara=v.tara,t.value.ticket_b_netto=v.netto,t.value.ticket_b_in_at=v.in_at,t.value.ticket_b_out_at=v.out_at,t.value.ticket_b_supir=v.supir,t.value.ticket_b_no_pol=v.no_pol}},{deep:!0,immediate:!0}),C(()=>t.value.pv_no,(a,s)=>{let n=0;if(a==""||a){let u=p.list_pv.filter(b=>b.VoucherNo==t.value.pv_no);u.length>0?n=u[0].total_amount:t.value.pv_no==c.pv_no&&(n=c.pv_total),t.value.pv_total=n}},{deep:!0,immediate:!0}),C(()=>t.value.cost_center_code,(a,s)=>{let n="";if(a==""||a){let u=p.list_cost_center.filter(b=>b.CostCenter==t.value.cost_center_code);u.length>0?n=u[0].Description:t.value.cost_center_code==c.cost_center_code&&(n=c.cost_center_desc),t.value.cost_center_desc=n}},{deep:!0,immediate:!0});const q=(a,s)=>{let n=0,u="";if(a==""||a){let b=P.value.filter(N=>N.id==t.value.id_uj);b.length>0?(n=b[0].harga,u=b[0].tipe):t.value.id_uj==c.id_uj&&(n=c.amount,u=c.tipe),t.value.tipe=u,t.value.amount=n}};return C(()=>t.value.xto,(a,s)=>{p.show&&q(a)},{deep:!0,immediate:!0}),C(()=>t.value.id_uj,(a,s)=>{p.show&&q(a)},{deep:!0,immediate:!0}),(a,s)=>{const n=ot,u=_t("vue-date-picker"),b=lt,N=at;return w((d(),r("section",bt,[o("div",null,[y(n,{title:"Form Transaction",fn:m.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),o("form",kt,[o("div",mt,[o("div",wt,[o("div",xt,[ht,e(t).pvr_no==""?(d(),r("div",gt,[y(b,null,{default:H(()=>[y(u,{modelValue:e(t).tanggal,"onUpdate:modelValue":s[0]||(s[0]=l=>e(t).tanggal=l),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1})])):(d(),r("div",yt,[o("div",{class:dt(["card-border",e(t).pvr_no!=""?"unselectable":""])},i(e(t).tanggal?e(j)(e(t).tanggal).format("DD-MM-YYYY"):""),3)])),o("p",jt,i(e(f).tanggal),1)]),o("div",Tt,[Dt,w(o("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).jenis=l),onChange:s[2]||(s[2]=l=>z(l)),disabled:e(t).pvr_no!=""},Pt,40,Ct),[[M,e(t).jenis]]),o("p",Mt,i(e(f).jenis),1)]),o("div",Ot,[At,w(o("input",{type:"text",list:"supir","onUpdate:modelValue":s[3]||(s[3]=l=>e(t).supir=l),disabled:e(t).pvr_no!=""},null,8,Kt),[[S,e(t).supir]]),o("datalist",It,[(d(!0),r(h,null,g(e(W),l=>(d(),r("option",{value:l.name},i(l.name),9,Ut))),256))]),o("p",Ht,i(e(f).supir),1)]),o("div",$t,[Ft,w(o("input",{type:"text",list:"kernet","onUpdate:modelValue":s[4]||(s[4]=l=>e(t).kernet=l),disabled:e(t).pvr_no!=""},null,8,Yt),[[S,e(t).kernet]]),o("datalist",qt,[(d(!0),r(h,null,g(e(X),l=>(d(),r("option",{value:l.name},i(l.name),9,Lt))),256))]),o("p",zt,i(e(f).kernet),1)]),o("div",Jt,[Et,w(o("input",{type:"text",list:"vehicle","onUpdate:modelValue":s[5]||(s[5]=l=>e(t).no_pol=l),disabled:e(t).pvr_no!=""},null,8,Rt),[[S,e(t).no_pol]]),o("datalist",Gt,[(d(!0),r(h,null,g(e(Y),l=>(d(),r("option",{value:l.no_pol},i(l.no_pol),9,Qt))),256))]),o("p",Wt,i(e(f).no_pol),1)]),e(t).jenis!=""?(d(),r("div",Xt,[o("div",Zt,[te,w(o("select",{"onUpdate:modelValue":s[6]||(s[6]=l=>e(t).xto=l),disabled:e(t).pvr_no!=""},[(d(!0),r(h,null,g(e(G),l=>(d(),r("option",null,i(l),1))),256))],8,ee),[[M,e(t).xto]]),o("p",oe,i(e(f).xto),1)]),o("div",le,[ae,w(o("select",{"onUpdate:modelValue":s[7]||(s[7]=l=>e(t).id_uj=l),disabled:e(t).pvr_no!=""},[(d(!0),r(h,null,g(e(Q),l=>(d(),r("option",{value:l.id,selected:l.id==e(t).id_uj},i(l.tipe),9,ie))),256))],8,se),[[M,e(t).id_uj]]),o("p",_e,i(e(f).id_uj),1)]),o("div",ne,[de,o("div",re,i(e(x)(e(t).amount)),1)])])):k("",!0),e(t).jenis!=""?(d(),r("div",ce,[o("div",ue,[pe,w(o("input",{list:"cost_center","onUpdate:modelValue":s[8]||(s[8]=l=>e(t).cost_center_code=l),onBlur:s[9]||(s[9]=l=>L(l)),disabled:e(t).pvr_no!=""},null,40,ve),[[S,e(t).cost_center_code]]),o("datalist",fe,[(d(!0),r(h,null,g(m.list_cost_center,l=>(d(),r("option",{value:l.CostCenter},i(l.CostCenter+"-"+l.Description),9,be))),256))]),o("p",ke,i(e(f).cost_center_code),1)]),o("div",me,[we,o("div",xe,i(e(t).cost_center_desc),1)]),o("div",he,[ge,o("div",ye,i(e(t).pvr_no),1)]),o("div",je,[Te,o("div",De,i(e(x)(e(t).pvr_total||0)),1)]),o("div",Ce,[Se,w(o("input",{type:"text",list:"pv","onUpdate:modelValue":s[10]||(s[10]=l=>e(t).pv_no=l),disabled:e(t).pvr_no!=""},null,8,Be),[[S,e(t).pv_no]]),o("datalist",Ne,[(d(!0),r(h,null,g(m.list_pv,l=>(d(),r("option",{value:l.VoucherNo},i(l.VoucherNo+"-"+l.AssociateName),9,Ve))),256))]),Pe,o("p",Me,i(e(f).pv),1)]),o("div",Oe,[Ae,o("div",Ke,i(e(x)(e(t).pv_total)),1)])])):k("",!0),e(t).jenis=="TBS"?(d(),r("div",{key:2,class:"w-full p-1",onChange:s[12]||(s[12]=l=>J(l))},[Ie,w(o("select",{"onUpdate:modelValue":s[11]||(s[11]=l=>e(t).transition_to=l)},[Ue,(d(!0),r(h,null,g(e(B)().list_pabrik,l=>(d(),r("option",{value:l},i(l),9,He))),256))],512),[[M,e(t).transition_to]]),o("p",$e,i(e(f).transition_to),1)],32)):k("",!0),e(t).jenis!=""&&e(t).jenis!="TBSK"?(d(),r("div",Fe,[Ye,w(o("input",{type:"text",list:"ticket_a","onUpdate:modelValue":s[13]||(s[13]=l=>e(t).ticket_a_no=l)},null,512),[[S,e(t).ticket_a_no]]),o("datalist",qe,[(d(!0),r(h,null,g(e(K),l=>(d(),r("option",{value:l.TicketNo},i(l.TicketNo+"-"+l.VehicleNo+"-"+l.NamaSupir),9,Le))),256))]),o("p",ze,i(e(f).ticket),1)])):k("",!0),e(t).jenis!=""&&e(t).jenis!="TBSK"?(d(),r("div",Je,[o("div",Ee,[Re,o("div",Ge,i(e(t).ticket_a_in_at?e(j)(e(t).ticket_a_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),o("div",Qe,[We,o("div",Xe,i(e(t).ticket_a_out_at?e(j)(e(t).ticket_a_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),o("div",Ze,[to,o("div",eo,i(e(t).ticket_a_bruto?e(x)(e(t).ticket_a_bruto):0),1)]),o("div",oo,[lo,o("div",ao,i(e(t).ticket_a_tara?e(x)(e(t).ticket_a_tara):0),1)]),o("div",so,[io,o("div",_o,i(e(t).ticket_a_bruto?e(x)(e(t).ticket_a_bruto-e(t).ticket_a_tara):0),1)]),o("div",no,[ro,o("div",co,i(e(t).ticket_a_no_pol),1)]),o("div",uo,[po,o("div",vo,i(e(t).ticket_a_supir),1)])])):k("",!0),["TBS","TBSK"].indexOf(e(t).jenis)>-1?(d(),r("div",fo,[bo,w(o("input",{type:"text",list:"ticket_b","onUpdate:modelValue":s[14]||(s[14]=l=>e(t).ticket_b_no=l)},null,512),[[S,e(t).ticket_b_no]]),o("datalist",ko,[(d(!0),r(h,null,g(e(I),l=>(d(),r("option",{value:l.TicketNo},i(l.TicketNo+"-"+l.VehicleNo+"-"+l.NamaSupir),9,mo))),256))]),o("p",wo,i(e(f).ticket),1)])):k("",!0),["TBS","TBSK"].indexOf(e(t).jenis)>-1?(d(),r("div",xo,[o("div",ho,[go,o("div",yo,i(e(t).ticket_b_in_at?e(j)(e(t).ticket_b_in_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),o("div",jo,[To,o("div",Do,i(e(t).ticket_b_out_at?e(j)(e(t).ticket_b_out_at).format("DD-MM-Y HH:mm:ss"):"-"),1)]),o("div",Co,[So,o("div",Bo,i(e(t).ticket_b_bruto?e(x)(e(t).ticket_b_bruto):0),1)]),o("div",No,[Vo,o("div",Po,i(e(t).ticket_b_tara?e(x)(e(t).ticket_b_tara):0),1)]),o("div",Mo,[Oo,o("div",Ao,i(e(t).ticket_b_bruto?e(x)(e(t).ticket_b_bruto-e(t).ticket_b_tara):0),1)]),o("div",Ko,[Io,o("div",Uo,i(e(t).ticket_b_no_pol),1)]),o("div",Ho,[$o,o("div",Fo,i(e(t).ticket_b_supir),1)])])):k("",!0),["CPO","PK"].indexOf(e(t).jenis)>-1?(d(),r("div",Yo,[qo,y(b,null,{default:H(()=>[y(u,{modelValue:e(t).ticket_b_in_at,"onUpdate:modelValue":s[15]||(s[15]=l=>e(t).ticket_b_in_at=l),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),o("p",Lo,i(e(f).ticket_b_in_at),1)])):k("",!0),["CPO","PK"].indexOf(e(t).jenis)>-1?(d(),r("div",zo,[Jo,y(b,null,{default:H(()=>[y(u,{modelValue:e(t).ticket_b_out_at,"onUpdate:modelValue":s[16]||(s[16]=l=>e(t).ticket_b_out_at=l),type:"datetime",format:"dd-MM-yyyy HH:mm","enable-time-picker":!0,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),o("p",Eo,i(e(f).ticket_b_out_at),1)])):k("",!0),["CPO","PK"].indexOf(e(t).jenis)>-1?(d(),r("div",Ro,[Go,o("div",null,[y(N,{class:"card-border p-1",type:"text",value:e(t).ticket_b_bruto||0,onInput:s[17]||(s[17]=l=>e(t).ticket_b_bruto=l),show:m.show},null,8,["value","show"])]),o("p",Qo,i(e(f).ticket_b_bruto),1)])):k("",!0),["CPO","PK"].indexOf(e(t).jenis)>-1?(d(),r("div",Wo,[Xo,o("div",null,[y(N,{class:"card-border p-1",type:"text",value:e(t).ticket_b_tara||0,onInput:s[18]||(s[18]=l=>e(t).ticket_b_tara=l),show:m.show},null,8,["value","show"])]),o("p",Zo,i(e(f).ticket_b_tara),1)])):k("",!0),["CPO","PK"].indexOf(e(t).jenis)>-1?(d(),r("div",tl,[el,o("div",ol,i(e(t).ticket_b_bruto?e(x)(e(t).ticket_b_bruto-e(t).ticket_b_tara):0),1)])):k("",!0)])]),o("div",ll,[o("button",{type:"button",name:"button",class:"w-36 m-1",onClick:s[19]||(s[19]=l=>m.fnClose())}," Cancel "),e(Z)?k("",!0):(d(),r("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:s[20]||(s[20]=rt(l=>R(),["prevent"]))}," Save "))])])])],512)),[[nt,m.show]])}}},pl=ft(al,[["__scopeId","data-v-4a60a1e3"]]);export{pl as default};
