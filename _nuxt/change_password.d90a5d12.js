import{_ as m}from"./HeaderCustom.vue.d185745f.js";import{G as v,H as h,r as d,u as x,I as g,J as b,D as i,o as y,c as C,b as k,a as s,n as p,s as u,x as a,t as c,z as S,E as P,N as V}from"./entry.9ff93f6a.js";import{u as $}from"./useMyFetch.64042c18.js";import"./_plugin-vue_export-helper.c27b6911.js";const A={class:"w-full h-full flex flex-col"},B={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},D={class:"w-full align-items-center justify-content-center grow overflow-auto"},N={class:"w-full flex flex-col flex-wrap p-1"},U=s("label",{for:""},"Old Password",-1),j={class:"text-red-500"},E={class:"w-full flex flex-col flex-wrap p-1"},M=s("label",{for:""},"New Password",-1),z={class:"text-red-500"},F={class:"w-full flex flex-col flex-wrap p-1"},H=s("label",{for:""},"Confirm Password",-1),R={class:"text-red-500"},T={class:"w-full flex items-center justify-end"},K=v({__name:"change_password",setup(q){h(),d(!1);const f=x("token"),r=d({});g(),b(),i().loading_full=!1;const e=d({old_password:"",password:"",password_confirmation:""}),w=async()=>{i().loading_full=!0,r.value={};const l=new FormData;l.append("old_password",e.value.old_password),l.append("password",e.value.password),l.append("password_confirmation",e.value.password_confirmation),l.append("_method","PUT");let o="post";const{data:n,error:t,status:_}=await $("/change_password",{method:o,headers:{Authorization:`Bearer ${f.value}`,Accept:"application/json"},body:l,retry:0});if(i().loading_full=!1,_.value==="error"){P().trigger(t,r);return}else V().display({show:!0,status:"Success",message:n.value.message})};return(l,o)=>{const n=m;return y(),C("div",A,[k(n,{title:"Change Password",back:!0}),s("form",B,[s("div",D,[s("div",N,[U,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[0]||(o[0]=t=>a(e).old_password=t)},null,512),[[u,a(e).old_password]]),s("p",j,c(a(r).old_password),1)]),s("div",E,[M,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>a(e).password=t)},null,512),[[u,a(e).password]]),s("p",z,c(a(r).password),1)]),s("div",F,[H,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[2]||(o[2]=t=>a(e).password_confirmation=t)},null,512),[[u,a(e).password_confirmation]]),s("p",R,c(a(r).password_confirmation),1)])]),s("div",T,[s("button",{type:"button",name:"button",class:"w-36 m-1",onClick:o[3]||(o[3]=t=>l.$router.go(-1))}," Cancel "),s("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:o[4]||(o[4]=S(t=>w(),["prevent"]))}," Save ")])])])}}});export{K as default};
