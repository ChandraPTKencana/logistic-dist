import{_ as Xe}from"./Header.38062acc.js";import{_ as et}from"./Plus.922d66f7.js";import{_ as tt}from"./Edit.fa01debe.js";import{_ as ot}from"./Delete.efa2c38f.js";import{_ as at}from"./Signature.b8573121.js";import{u as lt,_ as st}from"./useDownload.50991baa.js";import{_ as nt}from"./Cog.93096877.js";import{_ as rt}from"./client-only.497d905a.js";import{u as it,_ as dt}from"./useUtils.a3d797fe.js";import{_ as we}from"./_plugin-vue_export-helper.c27b6911.js";import{o as p,c as S,a as e,r as n,f as ne,g as $e,H as re,h as q,v as ut,b as i,F as xe,n as _t,q as ie,N as B,G as H,k as o,t as g,m as De,w as k,d as de,x as _,y as M,p as ct,e as pt,D as ft,B as vt,I as mt,J as bt,j as ge,i as ye,l as ke,E as ht,O as xt,s as gt}from"./entry.2135c634.js";import{_ as Ce,a as yt}from"./Check.f1c3fd1b.js";import{_ as kt}from"./TableView.aeac9ad0.js";import{_ as Te}from"./PopupMini.vue.28d70169.js";import{_ as wt,a as $t}from"./trx_trp_validasi.92e27dce.js";import{_ as Dt}from"./HeaderPopup.vue.76b2ff62.js";import{u as A}from"./useMyFetch.09ba3bb5.js";import{_ as Ct}from"./Times.93c113bc.js";import"./InputPointFormat.vue.272a7cb9.js";const Tt={name:"MaterialSymbolsImage"},Mt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},At=e("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm1-4h12l-3.75-5l-3 4L9 13z"},null,-1),St=[At];function jt(w,b,E,Y,s,j){return p(),S("svg",Mt,St)}const Vt=we(Tt,[["render",jt]]);const I=w=>(ct("data-v-da2458a3"),w=w(),pt(),w),Pt={class:"box-fixed"},Bt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},It={class:"w-full flex flex-col items-center grow overflow-auto"},Ft={class:"w-full flex flex-row flex-wrap"},Nt={class:"w-full grid grid-cols-1 lg:grid-cols-2 p-1 gap-1 relative"},Ot={class:"relative w-full"},Yt=["onClick"],zt=["src"],Ut={class:"w-full flex items-center justify-end"},Ht={class:"w-full flex flex-wrap p-3 items-center text-xs"},Et=I(()=>e("label",{for:""},"U.jalan Per",-1)),Lt={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},qt=I(()=>e("label",{for:""},"Jenis",-1)),Jt={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},Kt=I(()=>e("label",{for:""},"Supir",-1)),Rt={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},Gt={key:0},Zt=I(()=>e("label",{for:""},"Kernet",-1)),Qt={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},Wt=I(()=>e("label",{for:""},"No Pol",-1)),Xt={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},eo=I(()=>e("label",{for:""},"Tujuan",-1)),to={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},oo=I(()=>e("label",{for:""},"Tipe",-1)),ao={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},lo=I(()=>e("label",{for:""},"Total Dari U.Jalan",-1)),so={class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white"},no={__name:"trx_absen",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},p_data:{type:Array,required:!0,default:[]},index:{type:Number,required:!1,default:0}},setup(w){const b=w,{pointFormat:E}=it(),s=n({...{id:-1,tanggal:new Date,id_uj:-1,xto:"",tipe:"",jenis:"",amount:0,trx_absens:[]}}),j=ne("token"),$=async()=>{_().loading_full=!0;const{data:v,error:x,status:V}=await A("/trx_trp",{method:"get",headers:{Authorization:`Bearer ${j.value}`,Accept:"application/json"},params:{id:b.p_data[b.index].id},retry:0});if(_().loading_full=!1,V.value==="error"){M().trigger(x);return}s.value=v.value.data,s.value.trx_absens=s.value.trx_absens.map(m=>(m.checked=0,m))};$e(()=>b.show,(v,x)=>{v==!0&&$()},{immediate:!0});const{display:C}=re(),J=n({}),F=n(!1),W=async()=>{F.value&&(F.value=!1)},d=()=>{let v=s.value.trx_absens.filter(x=>x.checked==1).length;v<=0?C({show:!0,status:"Failed",message:"Silahkan Pilih Gambar Terlebih Dahulu"}):(J.value={"jumlah gambar yang akan di hapus":v},F.value=!0)},K=async()=>{_().loading_full=!0;const v=new FormData;v.append("id",b.p_data[b.index].id),v.append("ids",JSON.stringify(s.value.trx_absens.filter(N=>N.checked))),v.append("_method","DELETE");const{data:x,error:V,status:m}=await A("/trx_trp_absen",{method:"post",headers:{Authorization:`Bearer ${j.value}`,Accept:"application/json"},body:v,retry:0});if(_().loading_full=!1,m.value==="error"){M().trigger(V);return}b.p_data[b.index].trx_absens=s.value.trx_absens.filter(N=>N.checked==0),F.value=!1,b.fnClose()};return(v,x)=>{const V=Dt,m=Ce,N=Te;return p(),S(xe,null,[q(e("section",Pt,[e("div",null,[i(V,{title:"Form Check Absen",fn:w.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",Bt,[e("div",It,[e("div",Ft,[e("div",Nt,[(p(!0),S(xe,null,_t(o(s).trx_absens,r=>(p(),S("div",Ot,[e("div",{class:ie(["w-7 h-7 ring-1 ring-black absolute right-3 top-3 border-2 border-white flex items-center justify-center text-white",r.checked?"bg-red-600":"bg-transparent"]),onClick:P=>r.checked=!r.checked},[r.checked?(p(),B(m,{key:0,class:"text-xl"})):H("",!0)],10,Yt),e("img",{src:r.gambar,class:"max-w-full max-h-full w-full"},null,8,zt)]))),256))])])]),e("div",Ut,[e("div",Ht,[e("div",null,[Et,e("div",Lt,g(o(s).tanggal),1)]),e("div",null,[qt,e("div",Jt,g(o(s).jenis),1)]),e("div",null,[Kt,e("div",Rt,g(o(s).supir),1)]),o(s).kernet?(p(),S("div",Gt,[Zt,e("div",Qt,g(o(s).kernet),1)])):H("",!0),e("div",null,[Wt,e("div",Xt,g(o(s).no_pol),1)]),e("div",null,[eo,e("div",to,g(o(s).xto),1)]),e("div",null,[oo,e("div",ao,g(o(s).tipe),1)]),e("div",null,[lo,e("div",so,g(o(E)(o(s).amount||0)),1)])]),e("button",{type:"button",name:"button",class:"w-36 m-1 bg-red-600 text-white rounded-sm",onClick:x[0]||(x[0]=De(r=>d(),["prevent"]))}," Delete "),e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:x[1]||(x[1]=r=>w.fnClose())}," Cancel ")])])])],512),[[ut,w.show]]),i(N,{type:"delete",show:o(F),data:o(J),fnClose:W,fnConfirm:K,info_type:"custome"},{info:k(()=>[de(" Ada "+g(o(s).trx_absens.filter(r=>r.checked).length)+" Gambar yang akan di hapus. ",1)]),_:1},8,["show","data"])],64)}}},ro=we(no,[["__scopeId","data-v-da2458a3"]]),io={class:"w-full h-full flex flex-col"},uo={class:"w-full flex grow flex-col overflow-auto h-0"},_o={class:"w-full flex justify-between flex-wrap"},co={class:"grow flex"},po={class:"flex"},fo=e("span",{class:"text-xs"},"Mode",-1),vo={action:"#",class:"w-full flex p-1"},mo=e("div",{class:"font-bold"}," Tgl Dari ",-1),bo={class:"text-red-500"},ho=e("div",{class:"font-bold"}," Tgl Sampai ",-1),xo={class:"text-red-500"},go={class:"grow"},yo=e("div",{class:"font-bold"}," Keyword ",-1),ko={class:"pl-1"},wo=e("div",{class:"font-bold"}," Sort By ",-1),$o=xt('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),Do=[$o],Co={class:"pl-1"},To=e("div",{class:"font-bold"}," Sort Order ",-1),Mo=e("option",{value:"asc"},"Asc",-1),Ao=e("option",{value:"desc"},"Desc",-1),So=[Mo,Ao],jo={class:"flex items-end pl-1"},Vo={class:"grow mb-5"},Po={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},Bo={class:"relative",style:{width:"95%",height:"90%"}},Io={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},Fo=["src"],No={key:1,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},Oo={class:"relative",style:{width:"95%",height:"90%"}},Yo={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},zo={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},Uo={class:"w-full p-1"},Ho={class:"w-full p-1 bg-gray-200"},Eo=e("div",{class:"w-full text-blue-600 font-bold"}," Set Date For Load Data ",-1),Lo={class:"w-full grid grid-cols-2 grid-rows-1 gap-1"},qo={class:"flex flex-col flex-wrap p-1"},Jo=e("label",{for:""},"From",-1),Ko={class:"grow"},Ro={class:"flex flex-col flex-wrap p-1"},Go=e("label",{for:""},"To",-1),Zo={class:"grow"},ba={__name:"index",async setup(w){let b,E;const{$moment:Y}=gt(),s={};s._TimeZoneOffset=new Date().getTimezoneOffset(),s.sort="tanggal:desc";const j=n({}),$=n({from:"",to:""}),C=ne("token"),J=ne("role"),F=l=>l.includes(J.value),{data:W}=([b,E]=ft(async()=>ht(async()=>{_().loading_full=!0;let l=[];const[t,h]=await Promise.all([A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},retry:0})]);return t.status.value!=="error"&&(l=t.data.value.data),t.status.value==="error"?(M().trigger(t.error),{trx_trps:l}):(_().loading_full=!1,{trx_trps:l})},"$pFLmKcrKj9")),b=await b,E(),b),d=n(W.value.trx_trps||[]),K=n([]),v=n([]),x=n([]),V=n([]),m=n(!1),N=async(l,t="")=>{_().loading_full=!0;let h=f.value.from?Y(f.value.from).format("Y-MM-DD"):"",T=f.value.to?Y(f.value.to).format("Y-MM-DD"):"";const{data:u,error:O,status:y}=await A("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},params:{jenis:l,online_status:m.value,from:h,to:T,transition_to:t},retry:0});if(_().loading_full=!1,y.value==="error"){M().trigger(O);return}K.value=u.value.list_ujalan,v.value=u.value.list_cost_center,x.value=u.value.list_ticket,V.value=u.value.list_pv},r=n(""),P=n({field:"tanggal",by:"desc"}),c=n(-1),D=n({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),Me=()=>{s.like="",r.value!=""&&(s.like=`id:%${r.value}%,xto:%${r.value}%,jenis:%${r.value}%,pv_no:%${r.value}%,ticket_a_no:%${r.value}%,ticket_b_no:%${r.value}%,no_pol:%${r.value}%,supir:%${r.value}%,kernet:%${r.value}%,cost_center_code:%${r.value}%,cost_center_desc:%${r.value}%,pvr_id:%${r.value}%,pvr_no:%${r.value}%,tanggal:%${r.value}%,transition_to:%${r.value}%`),s.sort="",P.value.field&&(s.sort=P.value.field+":"+P.value.by),s.date_from=$.value.from?Y($.value.from).format("YYYY-MM-DD"):"",s.date_to=$.value.to?Y($.value.to).format("YYYY-MM-DD"):""},ue=async()=>{_().loading_full=!0,j.value={},D.value.may_get_data=!1,s.page=D.value.page,s.page==1&&(d.value=[]),s.first_row&&delete s.first_row,s.page>1&&(s.first_row=JSON.stringify(d.value[0]));const{data:l,error:t,status:h}=await A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},params:s,retry:0});if(_().loading_full=!1,D.value.may_get_data=!0,h.value==="error"){M().trigger(t,j);return}D.value.page==1?d.value=l.value.data:D.value.page>1&&(d.value=[...d.value,...l.value.data]),l.value.data.length==0&&(D.value.is_last_record=!0)},Ae=()=>{D.value.page=1,D.value.is_last_record=!1,Me(),ue()};vt();const R=n(!1),X=n(0),Se=()=>{X.value=0,R.value=!0},{display:z}=re();mt(re());const je=()=>{c.value==-1?z({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(X.value=d.value[c.value].id,R.value=!0)},ee=n(!1),_e=n(0),Ve=()=>{c.value==-1?z({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(_e.value=d.value[c.value].id,ee.value=!0)},te=n(!1),ce=n(0),Pe=l=>{ce.value=l,te.value=!0},oe=n(!1),pe=n({}),L=n(!1),U=n(""),Be=async()=>{L.value&&(L.value=!1)},Ie=()=>{c.value==-1?z({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(U.value="",pe.value={id:d.value[c.value].id},L.value=!0)};$e(()=>U.value,l=>{l.trim().length>0?oe.value=!0:oe.value=!1},{immediate:!1});const Fe=async()=>{_().loading_full=!0;const l=new FormData;l.append("id",d.value[c.value].id),l.append("deleted_reason",U.value),l.append("_method","DELETE");const{data:t,error:h,status:T}=await A("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},body:l,retry:0});if(_().loading_full=!1,T.value==="error"){M().trigger(h);return}d.value.splice(c.value,1),c.value=-1,L.value=!1},{downloadFile:Ne,printHtml:Oe}=lt(),ae=n(!1),fe=n(""),ve=async()=>{if(ae.value==!0){ae.value=!1;return}if(c.value==-1){z({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}_().loading_full=!0;const{data:l,error:t,status:h}=await A("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},params:{id:d.value[c.value].id},retry:0});if(_().loading_full=!1,h.value==="error"){M().trigger(t);return}Oe(l.value.html,318)},Ye=()=>{Ne(fe.value)},me=l=>l.pv_id<=0||["CPO","PK"].indexOf(l.jenis)>-1&&(l.ticket_a_id<=0||l.ticket_b_bruto<=0||l.ticket_b_tara<=0||l.ticket_b_netto<=0||l.ticket_b_in_at==""||l.ticket_b_out_at=="")||l.jenis=="TBS"&&(l.ticket_a_id<=0||l.ticket_b_id<=0)||l.jenis=="TBSK"&&l.ticket_b_id<=0?0:1,G=n(!1),f=n({from:new Date().setDate(new Date().getDate()-3),to:new Date}),be=l=>{l=="from"?f.value.from-f.value.to>0&&(f.value.from=f.value.to):f.value.to-f.value.from<0&&(f.value.to=f.value.from)},ze=async()=>{_().loading_full=!0;const l=new FormData;l.append("id",d.value[c.value].id),l.append("online_status",m.value);const{data:t,error:h,status:T}=await A("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},body:l,retry:0});if(_().loading_full=!1,T.value==="error"){M().trigger(h);return}let u=d.value[c.value];u.pvr_id=t.value.pvr_id,u.pvr_no=t.value.pvr_no,u.pvr_total=t.value.pvr_total,u.pvr_had_detail=t.value.pvr_had_detail,u.updated_at=t.value.updated_at,d.value.splice(c.value,1,{...u}),c.value=-1,z({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Ue=async()=>{_().loading_full=!0;const l=new FormData;l.append("online_status",m.value);const{data:t,error:h,status:T}=await A("/trx_trp_do_update_pv",{method:"post",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},body:l,retry:0});if(_().loading_full=!1,T.value==="error"){M().trigger(h);return}t.value.data.forEach(u=>{let O=d.value.map(y=>y.id).indexOf(u.id);if(O!==-1){let y=d.value[O];y.pv_id=u.pv_id,y.pv_no=u.pv_no,y.pv_total=u.pv_total,y.pv_datetime=u.pv_datetime,y.updated_at=u.updated_at,d.value.splice(O,1,{...y})}}),z({show:!0,status:"Success",message:"Update PV Done"})},He=n([{key:"status",label:"Status"},{key:"app1",label:"App 1"},{key:"app2",label:"App 2"},{key:"id",label:"ID"},{key:"absen",label:"Absen"},{key:"tanggal",label:"U.Jalan Per",dateformat:"DD-MM-Y"},{key:"no_pol",label:"No Pol"},{key:"xto",label:"Tujuan"},{key:"tipe",label:"Tipe"},{key:"jenis",label:"Jenis"},{key:"amount",label:"Amount",class:" justify-end"},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"default",class:" justify-start"},{key:"cost_center_desc",label:"Desc"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No"},{key:"pvr_total",label:"Total"},{key:"pvr_completed",label:"Completed"}]},{key:"pv",label:"PV",childs:[{key:"pv_datetime",label:"Date",dateformat:"DD-MM-Y"},{key:"pv_no",label:"No"},{key:"pv_total",label:"Total"}]},{key:"transition_to",label:"Peralihan"},{key:"ticket_a",label:"Ticket A",childs:[{key:"ticket_a_no",label:"No"},{key:"ticket_a_bruto",label:"Bruto"},{key:"ticket_a_tara",label:"Tara"},{key:"ticket_a_netto",label:"Netto"},{key:"ticket_a_supir",label:"Supir"},{key:"ticket_a_no_pol",label:"No Pol"},{key:"ticket_a_in_at",label:"In At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"ticket_a_out_at",label:"Out At",dateformat:"DD-MM-Y HH:mm:ss"}]},{key:"ticket_b",label:"Ticket B",childs:[{key:"ticket_b_no",label:"No"},{key:"ticket_b_bruto",label:"Bruto"},{key:"ticket_b_tara",label:"Tara"},{key:"ticket_b_netto",label:"Netto"},{key:"ticket_b_supir",label:"Supir"},{key:"ticket_b_no_pol",label:"No Pol"},{key:"ticket_b_in_at",label:"In At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"ticket_b_out_at",label:"Out At",dateformat:"DD-MM-Y HH:mm:ss"}]},{key:"supir",label:"Supir"},{key:"kernet",label:"Kernet"},{key:"created_at",label:"Created At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"updated_at",label:"Updated At",dateformat:"DD-MM-Y HH:mm:ss"}]);return(l,t)=>{const h=Xe,T=et,u=tt,O=ot,y=at,Ee=st,Le=nt,Z=bt("vue-date-picker"),Q=rt,qe=dt,Je=Vt,le=yt,se=Ce,Ke=kt,Re=Te,Ge=wt,Ze=$t,Qe=ro,he=Ct;return p(),S("div",io,[i(h,{title:"List Transaction"}),e("div",uo,[e("div",_o,[e("div",co,[e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:t[0]||(t[0]=a=>Se())},[i(T)]),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:t[1]||(t[1]=a=>je())},[i(u)]),F(["PabrikTransport"])?H("",!0):(p(),S("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[2]||(t[2]=a=>Ie())},[i(O)])),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:t[3]||(t[3]=a=>Ve())},[i(y)]),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:t[4]||(t[4]=a=>ve())},[i(Ee)]),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:t[5]||(t[5]=a=>G.value=!0)},[i(Le)])]),e("div",po,[e("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:t[6]||(t[6]=a=>ze())}," Gen/Update PVR "),e("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:t[7]||(t[7]=a=>Ue())}," Update PV "),e("div",{class:"m-1 card-border cursor-pointer",onClick:t[8]||(t[8]=a=>m.value=!o(m))},[fo,de(" : "),e("span",{class:ie(["font-bold",o(m)?"text-green-600":"text-red-600"])},g(o(m)?"ONLINE":"OFFLINE"),3)])])]),e("form",vo,[e("div",null,[mo,i(Q,null,{default:k(()=>[i(Z,{modelValue:o($).from,"onUpdate:modelValue":t[9]||(t[9]=a=>o($).from=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),e("p",bo,g(o(j).date_from),1)]),e("div",null,[ho,i(Q,null,{default:k(()=>[i(Z,{modelValue:o($).to,"onUpdate:modelValue":t[10]||(t[10]=a=>o($).to=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),e("p",xo,g(o(j).date_to),1)]),e("div",go,[yo,q(e("input",{class:"",type:"text","onUpdate:modelValue":t[11]||(t[11]=a=>ye(r)?r.value=a:null),name:"search",placeholder:"Keyword"},null,512),[[ge,o(r)]])]),e("div",ko,[wo,q(e("select",{class:"","onUpdate:modelValue":t[12]||(t[12]=a=>o(P).field=a)},Do,512),[[ke,o(P).field]])]),e("div",Co,[To,q(e("select",{class:"","onUpdate:modelValue":t[13]||(t[13]=a=>o(P).by=a)},So,512),[[ke,o(P).by]])]),e("div",jo,[e("button",{class:"",type:"submit",name:"button",onClick:t[14]||(t[14]=De(a=>Ae(),["prevent"]))},[i(qe,{class:"text-2xl"})])])]),i(Ke,{thead:o(He),selected:o(c),onSetSelected:t[15]||(t[15]=a=>c.value=a),tbody:o(d),fnCallData:ue,scrolling:o(D),onSetScrollingPage:t[16]||(t[16]=a=>o(D).page=a)},{status:k(({item:a})=>[e("div",{class:ie(["text-white text-xs px-2 py-1 rounded-lg",me(a)?"bg-green-600":"bg-red-600"])},g(me(a)?"Done":"Not Done"),3)]),absen:k(({item:a,index:We})=>[a.trx_absens&&a.trx_absens.length>0?(p(),B(Je,{key:0,class:"cursor-pointer",onClick:Qo=>Pe(We)},null,8,["onClick"])):H("",!0)]),app1:k(({item:a})=>[a.val?(p(),B(se,{key:1})):(p(),B(le,{key:0}))]),app2:k(({item:a})=>[a.val1?(p(),B(se,{key:1})):(p(),B(le,{key:0}))]),pvr_completed:k(({item:a})=>[a.pvr_had_detail?(p(),B(se,{key:1})):(p(),B(le,{key:0}))]),_:2},1032,["thead","selected","tbody","scrolling"])]),i(Re,{type:"delete",show:o(L),data:o(pe),fnClose:Be,fnConfirm:Fe,enabledOk:o(oe)},{footer:k(()=>[de(" Masukkan Alasan Penghapusan: "),e("div",Vo,[q(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=a=>ye(U)?U.value=a:null)},null,512),[[ge,o(U)]])])]),_:1},8,["show","data","enabledOk"]),i(Ge,{show:o(R),fnClose:()=>{R.value=!1},fnLoadDBData:N,id:o(X),p_data:o(d),list_ujalan:o(K),list_ticket:o(x),list_pv:o(V),list_cost_center:o(v),online_status:o(m)},null,8,["show","fnClose","id","p_data","list_ujalan","list_ticket","list_pv","list_cost_center","online_status"]),i(Ze,{show:o(ee),fnClose:()=>{ee.value=!1},id:o(_e),p_data:o(d)},null,8,["show","fnClose","id","p_data"]),i(Qe,{show:o(te),fnClose:()=>{te.value=!1},index:o(ce),p_data:o(d)},null,8,["show","fnClose","index","p_data"]),o(ae)?(p(),S("div",Po,[e("div",Bo,[e("div",Io,[i(he,{style:{color:"black",cursor:"pointer"},onClick:t[18]||(t[18]=a=>ve())})]),e("iframe",{ref:"iframe",width:"100%",height:"100%",src:o(fe).dataBase64},null,8,Fo),e("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:t[19]||(t[19]=a=>Ye())})])])):H("",!0),o(G)?(p(),S("div",No,[e("div",Oo,[e("div",Yo,[i(he,{style:{color:"black",cursor:"pointer"},onClick:t[20]||(t[20]=a=>G.value=!1)})]),e("div",zo,[e("div",Uo,[e("div",Ho,[Eo,e("div",Lo,[e("div",qo,[Jo,e("div",Ko,[i(Q,null,{default:k(()=>[i(Z,{modelValue:o(f).from,"onUpdate:modelValue":t[21]||(t[21]=a=>o(f).from=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:t[22]||(t[22]=a=>be("from"))},null,8,["modelValue"])]),_:1})])]),e("div",Ro,[Go,e("div",Zo,[i(Q,null,{default:k(()=>[i(Z,{modelValue:o(f).to,"onUpdate:modelValue":t[23]||(t[23]=a=>o(f).to=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:t[24]||(t[24]=a=>be("to"))},null,8,["modelValue"])]),_:1})])])])])])]),e("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:t[25]||(t[25]=a=>G.value=!1)})])])):H("",!0)])}}};export{ba as default};
