import{r as _,f as Q,g as ut,h as _t,i as T,j as we,s as dt,x as v,c as h,b as x,a as k,k as W,v as vt,l as o,m as Z,n as D,d as p,G as mt,t as g,w as d,q as pt,y as $,o as u,z as b,A as re,B as se,I as ct,_ as ie,H as yt}from"./entry.450f3054.js";import ft from"./Header.3dc61caf.js";import xt from"./Plus.aceb4550.js";import kt from"./Edit.ddf9bcb4.js";import bt from"./Eyes.c50466d9.js";import gt from"./Delete.1b0a5eae.js";import ht from"./Void.d9224b28.js";import wt from"./Signature.54a7be06.js";import Dt from"./SignatureOff.813f67c8.js";import Pt from"./PrinterEye.56a9cf6d.js";import qt from"./Table2Column.47e9d8b3.js";import At from"./Line.1b5b48df.js";import $t from"./Check.135d567f.js";import Ot from"./TableView.b8d39085.js";import{u as c}from"./useUtils.f22d17c7.js";import{u as O}from"./useMyFetch.e6f412ed.js";import{u as De}from"./useDownload.174f4da2.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Search.9e5665ed.js";import"./Adjust.8911ee8f.js";import"./TableHeaderEye.63c29d45.js";import"./Times.db8d9a46.js";import"./ClearAll.b4097dec.js";import"./client-only.9cf9a7f5.js";import"./ClearEach.b22ebb3f.js";import"./CaretLeftDoubleBold.ffca02f1.js";import"./CaretLeftBold.47720b67.js";import"./CaretRightBold.fe0f82fc.js";import"./CaretRightDoubleBold.46a35741.js";const Ct=se(()=>ie(()=>import("./PopupMini.68525c9f.js"),["./PopupMini.68525c9f.js","./PopupMini.vue.3116d504.js","./Times.db8d9a46.js","./_plugin-vue_export-helper.c27b6911.js","./entry.450f3054.js","./entry.c5f8f180.css","./Exclamation.820a3739.js"],import.meta.url).then(S=>S.default||S)),Tt=se(()=>ie(()=>import("./extra_money_trx.ed130e37.js"),["./extra_money_trx.ed130e37.js","./HeaderPopup.vue.a23d4aa3.js","./Times.db8d9a46.js","./_plugin-vue_export-helper.c27b6911.js","./entry.450f3054.js","./entry.c5f8f180.css","./client-only.9cf9a7f5.js","./WidthMiniList.vue.19ee4937.js","./WidthMiniPart.vue.81270f82.js","./AttachmentSingleV1.c9c53ad6.js","./PDFJsView.2f32e4c3.js","./PDFJsView.4e9fad9f.css","./AttachmentSingleV1.caa9907d.css","./useUtils.f22d17c7.js","./useMyFetch.e6f412ed.js"],import.meta.url).then(S=>S.default||S)),St=se(()=>ie(()=>import("./extra_money_trx_validasi.1a6521da.js"),["./extra_money_trx_validasi.1a6521da.js","./HeaderPopup.vue.a23d4aa3.js","./Times.db8d9a46.js","./_plugin-vue_export-helper.c27b6911.js","./entry.450f3054.js","./entry.c5f8f180.css","./WidthMiniPart.vue.81270f82.js","./AttachmentSingleV1.c9c53ad6.js","./PDFJsView.2f32e4c3.js","./PDFJsView.4e9fad9f.css","./AttachmentSingleV1.caa9907d.css","./CaretTop.ba6e8076.js","./CaretDown.89b2add0.js","./useUtils.f22d17c7.js","./useMyFetch.e6f412ed.js"],import.meta.url).then(S=>S.default||S)),jt={class:"w-full h-full flex flex-col"},Et={class:"w-full flex grow flex-col overflow-auto h-0"},Mt={class:"w-full flex justify-between flex-wrap"},Vt={class:"grow flex"},Ut={class:"m-1"},Bt=ct('<option value="undone">Undone</option><option value="done">Done</option><option value="deleted">Trash</option><option value="all">All</option><option value="req_deleted">Req Delete</option>',5),Ft=[Bt],It=k("span",{class:"text-xs ml-1"}," Excel ",-1),Nt={class:"flex"},zt=k("span",{class:"text-xs"},"Mode",-1),Rt={class:"grow mb-5"},Lt=k("b",null,"tidak dapat dibatalkan lagi",-1),Yt={class:"grow mb-5"},Ht=k("b",null,"tidak dapat dibatalkan lagi",-1),Gt={class:"grow mb-5"},Da={__name:"trx",async setup(S){let H,ue;const{$moment:_e}=yt(),{pointFormat:X}=c(),G=t=>t.deleted==1?"!bg-red-400":t.pvr_id>0&&t.req_deleted==1?"!bg-yellow-300":t.pv_id>0?"!bg-blue-300":"",ee=t=>(t.map(e=>{e.class_h=G(e)}),t),P=_("undone");Q(()=>P.value,t=>{be.value.map(e=>{let m=["deleted_by_username","deleted_at","deleted_reason","req_deleted_by_username","req_deleted_at","req_deleted_reason"].indexOf(e.key)>-1;return["all","deleted","req_deleted"].indexOf(t)>-1?m&&(e.tbl_show=1):m&&(e.tbl_show=0),e}),ce()},{immediate:!1});const f={};f._TimeZoneOffset=new Date().getTimezoneOffset(),f.sort="tanggal:desc";const de=_({}),J=_({from:"",to:""}),q=ut("token"),{data:Pe}=([H,ue]=_t(async()=>pt(async()=>{v().loading_full=!0;let t=[];const[e,m]=await Promise.all([O("/extra_money_trxs",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:{filter_status:P},retry:0})]);return e.status.value!=="error"&&(t=ee(e.data.value.data)),e.status.value==="error"?($().trigger(e.error),{extra_money_trxs:t}):(v().loading_full=!1,{extra_money_trxs:t})},{lazy:!0,server:!1,default:()=>({extra_money_trxs:[]})},"$M1coKGGJnq")),H=await H,ue(),H),n=_([]);Q(()=>{var t;return(t=Pe.value)==null?void 0:t.extra_money_trxs},t=>{t&&(n.value=[...t])},{immediate:!0});const ve=_([]),E=_(!1),qe=async()=>{v().loading_full=!0;const{data:t,error:e,status:m}=await O("/extra_money_trx_load_sqlsrv",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:{online_status:E.value},retry:0});if(v().loading_full=!1,m.value==="error"){$().trigger(e);return}ve.value=t.value.list_cost_center},te=_({field:"tanggal",by:"desc"}),l=_(-1),i=T(()=>n.value[l.value]),C=_({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),me=()=>{f.like="";let t=JSON.parse(JSON.stringify(v()._tv.global_keyword));t!=""&&(f.like=`id:%${t}%,tanggal:%${t}%,no_pol:%${t}%,employee_name:%${t}%,employee_rek_no:%${t}%,employee_rek_name:%${t}%,kernet:%${t}%,extra_money_xto:%${t}%,extra_money_jenis:%${t}%,extra_money_desc:%${t}%,pv_no:%${t}%,pvr_no:%${t}%,extra_money_transition_target:%${t}%,cost_center_code:%${t}%`),f.sort="",te.value.field&&(f.sort=te.value.field+":"+te.value.by),f.date_from=J.value.from?_e(J.value.from).format("YYYY-MM-DD"):"",f.date_to=J.value.to?_e(J.value.to).format("YYYY-MM-DD"):"",f.filter_model=JSON.stringify(v()._tv.filter_model)},pe=async()=>{v().loading_full=!0,de.value={},C.value.may_get_data=!1,f.page=C.value.page,f.page==1&&(n.value=[]),f.first_row&&delete f.first_row,f.page>1&&(f.first_row=JSON.stringify(n.value[0])),f.filter_status=P.value;const{data:t,error:e,status:m}=await O("/extra_money_trxs",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:f,retry:0});if(v().loading_full=!1,C.value.may_get_data=!0,m.value==="error"){$().trigger(e,de);return}C.value.page==1?n.value=ee(t.value.data):C.value.page>1&&(n.value=[...n.value,...ee(t.value.data)]),t.value.data.length==0&&(C.value.is_last_record=!0),v()._tv.filter_box=!1},ce=()=>{l.value=-1,C.value.page=1,C.value.is_last_record=!1,me(),pe()},K=_(!1),ae=_(0),Ae=()=>{ae.value=0,K.value=!0},{display:A}=we();dt(we());const F=_(1),$e=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(ae.value=n.value[l.value].id,F.value=-1,K.value=!0)},I=_(!1),N=_(0),Oe=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(N.value=n.value[l.value].id,F.value=1,I.value=!0)},Ce=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(N.value=n.value[l.value].id,F.value=0,I.value=!0)},Te=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(N.value=n.value[l.value].id,F.value=-1,I.value=!0)},le=_(!1),ye=_({}),z=_(!1),U=_(""),Se=async()=>{z.value&&(z.value=!1)},je=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(U.value="",ye.value={id:n.value[l.value].id,"no pol":n.value[l.value].no_pol,tujuan:n.value[l.value].extra_money.xto},z.value=!0)};Q(()=>U.value,t=>{t.trim().length>0?le.value=!0:le.value=!1},{immediate:!1});const Ee=async()=>{v().loading_full=!0;const t=new FormData;t.append("id",n.value[l.value].id),t.append("deleted_reason",U.value),t.append("_method","DELETE");const{data:e,error:m,status:w}=await O("/extra_money_trx",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:t,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}let r={...n.value[l.value]};r.deleted=e.value.deleted,r.deleted_user=e.value.deleted_user,r.deleted_at=e.value.deleted_at,r.deleted_by=e.value.deleted_by,r.deleted_reason=e.value.deleted_reason,r.class_h=G(r),P.value!="all"?n.value.splice(l.value,1):n.value.splice(l.value,1,{...r}),l.value=-1,z.value=!1},ne=_(!1),fe=_({}),R=_(!1),B=_(""),Me=async()=>{R.value&&(R.value=!1)},Ve=()=>{l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(B.value="",fe.value={id:n.value[l.value].id,"no pol":n.value[l.value].no_pol,tujuan:n.value[l.value].extra_money.xto},R.value=!0)},xe=_({}),L=_(!1),Ue=_(""),Be=async()=>{L.value&&(L.value=!1)},Y=_(""),Fe=()=>{var t;l.value==-1?A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(Ue.value="",Y.value="",xe.value={id:n.value[l.value].id,"no pol":n.value[l.value].no_pol,tujuan:n.value[l.value].extra_money.xto,permintaan:(t=n.value[l.value].req_deleted_by)==null?void 0:t.username,alasan:n.value[l.value].req_deleted_reason},L.value=!0)},Ie=async()=>{v().loading_full=!0;const t=new FormData;t.append("id",n.value[l.value].id),t.append("_method","DELETE"),t.append("reason_adder",Y.value);const{data:e,error:m,status:w}=await O("/extra_money_trx_approve_req_delete",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:t,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}let r={...n.value[l.value]};r.deleted=e.value.deleted,r.deleted_user=e.value.deleted_user,r.deleted_at=e.value.deleted_at,r.deleted_by=e.value.deleted_by,r.deleted_reason=e.value.deleted_reason,r.class_h=G(r),P.value!="all"?n.value.splice(l.value,1):n.value.splice(l.value,1,{...r}),l.value=-1,L.value=!1};Q(()=>B.value,t=>{t.trim().length>0?ne.value=!0:ne.value=!1},{immediate:!1});const Ne=async()=>{v().loading_full=!0;const t=new FormData;t.append("id",n.value[l.value].id),t.append("req_deleted_reason",B.value),t.append("_method","DELETE");const{data:e,error:m,status:w}=await O("/extra_money_trx_req_delete",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:t,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}let r={...n.value[l.value]};r.req_deleted=e.value.req_deleted,r.req_deleted_user=e.value.req_deleted_user,r.req_deleted_by=e.value.req_deleted_by,r.req_deleted_at=e.value.req_deleted_at,r.req_deleted_reason=e.value.req_deleted_reason,r.class_h=G(r),P.value!="all"?n.value.splice(l.value,1):n.value.splice(l.value,1,{...r}),l.value=-1,R.value=!1},{printHtml:ke}=De(),ze=async()=>{if(l.value==-1){A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}v().loading_full=!0;const{data:t,error:e,status:m}=await O("/extra_money_trx_preview_file",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:{id:n.value[l.value].id},retry:0});if(v().loading_full=!1,m.value==="error"){$().trigger(e);return}ke(t.value.html,318)},Re=async()=>{if(l.value==-1){A({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}v().loading_full=!0;const{data:t,error:e,status:m}=await O("/extra_money_trx_preview_file_bt",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:{id:n.value[l.value].id},retry:0});if(v().loading_full=!1,m.value==="error"){$().trigger(e);return}ke(t.value.html,318)},Le=async()=>{v().loading_full=!0;const t=new FormData;t.append("online_status",E.value);const{data:e,error:m,status:w}=await O("/extra_money_trx_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:t,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}e.value.forEach(r=>{let j=n.value.map(y=>y.id).indexOf(r.id);if(j!==-1){let y=n.value[j];y.pvr_id=r.pvr_id,y.pvr_no=r.pvr_no,y.pvr_total=r.pvr_total,y.pvr_complete=r.pvr_complete,y.updated_at=r.updated_at,n.value.splice(j,1,{...y})}}),A({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Ye=async()=>{v().loading_full=!0;const t=new FormData;t.append("online_status",E.value);const{data:e,error:m,status:w}=await O("/extra_money_trx_do_gen_pv",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:t,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}e.value.forEach(r=>{let j=n.value.map(y=>y.id).indexOf(r.id);if(j!==-1){let y=n.value[j];y.pv_id=r.pv_id,y.pv_no=r.pv_no,y.pv_total=r.pv_total,y.pv_datetime=r.pv_datetime,y.pv_complete=r.pv_complete,y.updated_at=r.updated_at,n.value.splice(j,1,{...y})}}),A({show:!0,status:"Success",message:"Generate Or Update PV Done"})},{downloadFile:He,viewFile:Jt}=De(),Ge=async(t="")=>{me(),v().loading_full=!0,f.filter_status=P.value;const{data:e,error:m,status:w}=await O("/extra_money_trxs/reportExcel",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:f,retry:0});if(v().loading_full=!1,w.value==="error"){$().trigger(m);return}He(e.value)},be=_([{key:"no",label:"No",isai:!0},{key:"val",label:"APP",childs:[{key:"val1",label:"Kasir",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val2",label:"Mandor",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val3",label:"KTU/W",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val4",label:"Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val5",label:"SPV Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val6",label:"MGR Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]}]},{key:"id",label:"ID",filter_on:1,type:"number"},{key:"tanggal",label:"Tanggal",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"no_pol",label:"No Pol",freeze:1,filter_on:1,type:"string"},{key:"employee_name",label:"Nama Pekerja",filter_on:1,type:"string"},{key:"employee_rek_no",label:"No rek Pekerja",type:"string"},{key:"employee_rek_name",label:"Nama Rek Pekerja",type:"string"},{key:"prev_trx_trp_id",label:"ID Trip Sumber",type:"string",filter_on:1},{key:"trx_trp_id",label:"ID Trip Dibayar",type:"string",filter_on:1},{key:"note",label:"Note",filter_on:1,type:"string"},{key:"payment_method_name",label:"Payment Method Name",type:"string"},{key:"extra_money_xto",label:"Tujuan",filter_on:1,type:"string"},{key:"extra_money_jenis",label:"Jenis",filter_on:1,type:"string"},{key:"extra_money_desc",label:"Desc",filter_on:1,type:"string"},{key:"extra_money_nominal",label:"Nominal",class:" justify-end",type:"number"},{key:"extra_money_qty",label:"Qty",class:" justify-end",type:"number"},{key:"extra_money_total",label:"Total",class:" justify-end",type:"number"},{key:"extra_money_transition_target",label:"Pengalihan",filter_on:1,type:"select",select_item:v().list_pabrik},{key:"extra_money_transition_type",label:"Tipe Pengalihan",type:"select",select_item:[{k:"From",v:"Dari"},{k:"To",v:"Ke"}]},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"string",class:" justify-start",filter_on:1},{key:"cost_center_desc",label:"Desc",filter_on:1,type:"string"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No",filter_on:1,type:"string"},{key:"pvr_total",label:"Total",filter_on:1,type:"number"},{key:"pvr_complete",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"pv",label:"PV",childs:[{key:"pv_datetime",label:"Date",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"pv_no",label:"No",filter_on:1,type:"string"},{key:"pv_total",label:"Total",filter_on:1,type:"number"},{key:"pv_complete",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"created_at",label:"Created At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"updated_at",label:"Updated At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"deleted_by_username",label:"Deleted By",tbl_show:0},{key:"deleted_at",label:"Deleted At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1,tbl_show:0},{key:"deleted_reason",label:"Deleted Reason",tbl_show:0,type:"string",filter_on:1},{key:"req_deleted_by_username",label:"Req Deleted By",tbl_show:0},{key:"req_deleted_at",label:"Req Delete At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1,tbl_show:0},{key:"req_deleted_reason",label:"Req Delete Reason",tbl_show:0,type:"string",filter_on:1}]),Je=T(()=>["undone","all"].indexOf(P.value)>-1&&c().checkPermission("extra_money_trx.create")),Ke=T(()=>l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&[void 0,0].indexOf(i.value.val6)>-1&&[void 0,""].indexOf(i.value.pvr_id)>-1&&c().checkPermission("extra_money_trx.modify")),Qe=T(()=>l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&([void 0,""].indexOf(i.value.pvr_id)>-1&&(c().checkPermission("extra_money_trx.val1")&&[void 0,0].indexOf(i.value.val1)>-1||c().checkPermission("extra_money_trx.val2")&&[void 0,0].indexOf(i.value.val2)>-1)||i.value.pvr_id>-1&&(c().checkPermission("extra_money_trx.val3")&&[void 0,0].indexOf(i.value.val3)>-1||c().checkPermission("extra_money_trx.val4")&&[void 0,0].indexOf(i.value.val4)>-1||c().checkPermission("extra_money_trx.val5")&&[void 0,0].indexOf(i.value.val5)>-1||c().checkPermission("extra_money_trx.val6")&&[void 0,0].indexOf(i.value.val6)>-1))),We=T(()=>l.value>-1&&i.value.deleted==0&&i.value.req_deleted==0&&(i.value.val1==1&&c().checkPermission("extra_money_trx.unval1")||i.value.val2==1&&c().checkPermission("extra_money_trx.unval2")||i.value.val3==1&&c().checkPermission("extra_money_trx.unval3")||i.value.val4==1&&c().checkPermission("extra_money_trx.unval4")||i.value.val5==1&&c().checkPermission("extra_money_trx.unval5")||i.value.val6==1&&c().checkPermission("extra_money_trx.unval6"))),Ze=T(()=>c().checkPermission("extra_money_trx.remove")&&l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&[void 0,""].indexOf(i.value.pvr_id)>-1),Xe=T(()=>c().checkPermission("extra_money_trx.request_remove")&&l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&i.value.pvr_id!=""),et=T(()=>c().checkPermission("extra_money_trx.approve_request_remove")&&l.value>-1&&i.value.deleted==0&&i.value.req_deleted==1),tt=T(()=>c().checkPermission("extra_money_trx.preview_file")&&l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&i.value.val1==1),at=T(()=>l.value>-1&&[void 0,0].indexOf(i.value.deleted)>-1&&[void 0,0].indexOf(i.value.req_deleted)>-1&&i.value.payment_method_id==2&&i.value.received_payment==1&&i.value.duitku_employee_disburseId!=""&&c().checkPermission("extra_money_trx.preview_file"));return(t,e)=>{const m=ft,w=xt,r=kt,j=bt,y=gt,ge=ht,lt=wt,nt=Dt,he=Pt,ot=qt,M=At,V=$t,rt=Ot,oe=Ct,st=Tt,it=St;return u(),h("div",jt,[x(m,{title:"List Transaction"}),k("div",Et,[k("div",Mt,[k("div",Vt,[k("div",Ut,[W(k("select",{class:"","onUpdate:modelValue":e[0]||(e[0]=a=>Z(P)?P.value=a:null)},Ft,512),[[vt,o(P)]])]),o(Je)?(u(),h("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[1]||(e[1]=a=>Ae())},[x(w)])):D("",!0),o(Ke)?(u(),h("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[2]||(e[2]=a=>$e())},[x(r)])):D("",!0),o(l)>-1?(u(),h("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[3]||(e[3]=a=>Te())},[x(j)])):D("",!0),o(Ze)?(u(),h("button",{key:3,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[4]||(e[4]=a=>je())},[x(y)])):D("",!0),o(Xe)?(u(),h("button",{key:4,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[5]||(e[5]=a=>Ve())},[x(ge)])):D("",!0),o(et)?(u(),h("button",{key:5,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[6]||(e[6]=a=>Fe())},[x(ge)])):D("",!0),o(Qe)?(u(),h("button",{key:6,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[7]||(e[7]=a=>Oe())},[x(lt)])):D("",!0),o(We)?(u(),h("button",{key:7,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[8]||(e[8]=a=>Ce())},[x(nt)])):D("",!0),o(tt)?(u(),h("button",{key:8,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[9]||(e[9]=a=>ze())},[x(he)])):D("",!0),o(at)?(u(),h("button",{key:9,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[10]||(e[10]=a=>Re())},[x(he)])):D("",!0),k("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:e[11]||(e[11]=a=>Ge())},[x(ot),p(),It])]),k("div",Nt,[("useUtils"in t?t.useUtils:o(c))().checkPermission("extra_money_trx.generate_pvr")?(u(),h("button",{key:0,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[12]||(e[12]=a=>Le())}," Gen/Update PVR ")):D("",!0),("useUtils"in t?t.useUtils:o(c))().checkPermission("extra_money_trx.generate_pv")?(u(),h("button",{key:1,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[13]||(e[13]=a=>Ye())}," Gen/Update PV ")):D("",!0),("useUtils"in t?t.useUtils:o(c))().checkPermissions(["extra_money_trx.generate_pvr","extra_money_trx.generate_pv","extra_money_trx.get_pv"])?(u(),h("div",{key:2,class:"m-1 card-border cursor-pointer",onClick:e[14]||(e[14]=a=>E.value=!o(E))},[zt,p(" : "),k("span",{class:mt(["font-bold",o(E)?"text-green-600":"text-red-600"])},g(o(E)?"ONLINE":"OFFLINE"),3)])):D("",!0)])]),x(rt,{thead:o(be),selected:o(l),onSetSelected:e[15]||(e[15]=a=>l.value=a),tbody:o(n),fnCallData:pe,scrolling:o(C),onSetScrollingPage:e[16]||(e[16]=a=>o(C).page=a),onDoFilter:e[17]||(e[17]=a=>ce())},{val1:d(({item:a})=>[a.val1?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),val2:d(({item:a})=>[a.val2?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),val3:d(({item:a})=>[a.val3?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),val4:d(({item:a})=>[a.val4?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),val5:d(({item:a})=>[a.val5?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),val6:d(({item:a})=>[a.val6?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),payment_method_name:d(({item:a})=>{var s;return[p(g((s=a.payment_method)==null?void 0:s.name),1)]}),employee_name:d(({item:a})=>{var s;return[p(g((s=a.employee)==null?void 0:s.name),1)]}),employee_rek_no:d(({item:a})=>{var s;return[p(g((s=a.employee)==null?void 0:s.rek_no),1)]}),employee_rek_name:d(({item:a})=>{var s;return[p(g((s=a.employee)==null?void 0:s.rek_name),1)]}),extra_money_transition_target:d(({item:a})=>{var s;return[p(g((s=a.extra_money)==null?void 0:s.transition_target),1)]}),extra_money_transition_type:d(({item:a})=>{var s;return[p(g((s=a.extra_money)==null?void 0:s.transition_type),1)]}),extra_money_xto:d(({item:a})=>{var s;return[p(g((s=a.extra_money)==null?void 0:s.xto),1)]}),extra_money_jenis:d(({item:a})=>{var s;return[p(g((s=a.extra_money)==null?void 0:s.jenis),1)]}),extra_money_desc:d(({item:a})=>{var s;return[p(g((s=a.extra_money)==null?void 0:s.description),1)]}),extra_money_nominal:d(({item:a})=>{var s;return[p(" Rp. "+g(o(X)(((s=a.extra_money)==null?void 0:s.nominal)||0)),1)]}),extra_money_qty:d(({item:a})=>{var s;return[p(g(o(X)(((s=a.extra_money)==null?void 0:s.qty)||0)),1)]}),extra_money_total:d(({item:a})=>{var s;return[p(" Rp. "+g(o(X)(((s=a.extra_money)==null?void 0:s.total)||0)),1)]}),pvr_complete:d(({item:a})=>[a.pvr_complete?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),pv_complete:d(({item:a})=>[a.pv_complete?(u(),b(V,{key:1})):(u(),b(M,{key:0}))]),deleted_by_username:d(({item:a})=>{var s;return[p(g((s=a.deleted_by)==null?void 0:s.username),1)]}),req_deleted_by_username:d(({item:a})=>{var s;return[p(g((s=a.req_deleted_by)==null?void 0:s.username),1)]}),_:2},1032,["thead","selected","tbody","scrolling"])]),x(oe,{type:"delete",show:o(z),data:o(ye),fnClose:Se,fnConfirm:Ee,enabledOk:o(le)},{footer:d(()=>[p(" Masukkan Alasan Penghapusan: "),k("div",Rt,[W(k("textarea",{"onUpdate:modelValue":e[18]||(e[18]=a=>Z(U)?U.value=a:null)},null,512),[[re,o(U)]])])]),_:1},8,["show","data","enabledOk"]),x(oe,{type:"custome",show:o(R),data:o(fe),fnClose:Me,fnConfirm:Ne,enabledOk:o(ne)},{words:d(()=>[p(" Data akan diproses dan "),Lt,p(", yakin untuk melanjutkan ? ")]),footer:d(()=>[p(" Masukkan Alasan Permintaan Penghapusan: "),k("div",Yt,[W(k("textarea",{"onUpdate:modelValue":e[19]||(e[19]=a=>Z(B)?B.value=a:null)},null,512),[[re,o(B)]])])]),_:1},8,["show","data","enabledOk"]),x(oe,{type:"custome",show:o(L),data:o(xe),fnClose:Be,fnConfirm:Ie},{words:d(()=>[p(" Data akan diproses dan "),Ht,p(", apakah Anda menyetujui permintaan penghapusan data berikut? ")]),footer:d(()=>[p(" Alasan Tambahan: "),k("div",Gt,[W(k("textarea",{"onUpdate:modelValue":e[20]||(e[20]=a=>Z(Y)?Y.value=a:null)},null,512),[[re,o(Y)]])])]),_:1},8,["show","data"]),x(st,{show:o(K),fnClose:()=>{K.value=!1},fnLoadDBData:qe,id:o(ae),p_data:o(n),list_cost_center:o(ve),online_status:o(E)},null,8,["show","fnClose","id","p_data","list_cost_center","online_status"]),x(it,{show:o(I),fnClose:()=>{I.value=!1},id:o(N),p_data:o(n),it_state:o(F),onSetID:e[21]||(e[21]=a=>N.value=a),onSetIndex:e[22]||(e[22]=a=>l.value=a)},null,8,["show","fnClose","id","p_data","it_state"])])}}};export{Da as default};
