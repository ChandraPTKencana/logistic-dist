import{_ as D}from"./Times.147f076f.js";import{_ as k}from"./_plugin-vue_export-helper.c27b6911.js";import{o as s,c as r,a,z as U,B as G,C as K,r as V,g as J,A as q,I as z,x as C,f as T,q as d,k as n,K as B,b as e,w as i,d as c,G as m,h as O,v as W,t as Q,P as X,F as Y,y as tt}from"./entry.f4775642.js";import{_ as et}from"./nuxt-link.cbdf0923.js";import{_ as ot,a as st}from"./Loading.vue.f7d5625f.js";import{u as nt}from"./useMyFetch.54f8421a.js";import"./client-only.dd2d3776.js";import"./Loading.40c5cf33.js";const rt={name:"CiHamburgerMd"},at={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},lt=a("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),it=[lt];function ct(w,v,x,o,$,g){return s(),r("svg",at,it)}const _t=k(rt,[["render",ct]]),ut={name:"MaterialSymbolsHome"},dt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},pt=a("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),mt=[pt];function ft(w,v,x,o,$,g){return s(),r("svg",dt,mt)}const ht=k(ut,[["render",ft]]),vt={name:"PhMoney"},xt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},$t=a("path",{fill:"currentColor",d:"M128 88a40 40 0 1 0 40 40a40 40 0 0 0-40-40m0 64a24 24 0 1 1 24-24a24 24 0 0 1-24 24m112-96H16a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h224a8 8 0 0 0 8-8V64a8 8 0 0 0-8-8m-46.35 128H62.35A56.78 56.78 0 0 0 24 145.65v-35.3A56.78 56.78 0 0 0 62.35 72h131.3A56.78 56.78 0 0 0 232 110.35v35.3A56.78 56.78 0 0 0 193.65 184M232 93.37A40.81 40.81 0 0 1 210.63 72H232ZM45.37 72A40.81 40.81 0 0 1 24 93.37V72ZM24 162.63A40.81 40.81 0 0 1 45.37 184H24ZM210.63 184A40.81 40.81 0 0 1 232 162.63V184Z"},null,-1),gt=[$t];function wt(w,v,x,o,$,g){return s(),r("svg",xt,gt)}const kt=k(vt,[["render",wt]]),yt={name:"GridiconsProduct"},bt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Ct=a("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),Tt=[Ct];function Mt(w,v,x,o,$,g){return s(),r("svg",bt,Tt)}const At=k(yt,[["render",Mt]]),St={name:"MaterialSymbolsFileCopy"},Pt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Bt=a("path",{fill:"currentColor",d:"M4 23q-.825 0-1.412-.587T2 21V7h2v14h11v2zm4-4q-.825 0-1.412-.587T6 17V3q0-.825.588-1.412T8 1h7l6 6v10q0 .825-.587 1.413T19 19zm6-11h5l-5-5z"},null,-1),Vt=[Bt];function qt(w,v,x,o,$,g){return s(),r("svg",Pt,Vt)}const zt=k(St,[["render",qt]]),Ht={name:"MaterialSymbolsPerson"},It={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Lt=a("path",{fill:"currentColor",d:"M12 12q-1.65 0-2.825-1.175T8 8q0-1.65 1.175-2.825T12 4q1.65 0 2.825 1.175T16 8q0 1.65-1.175 2.825T12 12m-8 8v-2.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13q1.65 0 3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20z"},null,-1),jt=[Lt];function Ft(w,v,x,o,$,g){return s(),r("svg",It,jt)}const Rt=k(Ht,[["render",Ft]]),Et={class:"w-full h-full flex"},Nt={class:"relative h-full"},Zt={class:"h-full flex flex-col p-2 overflow-hidden"},Dt={class:"grow overflow-auto"},Ut={id:"panel",class:"h-7 text-xs relative"},Gt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},Kt={class:"grow flex flex-col overflow-hidden"},oe=U({__name:"default",setup(w){const v=G(),x=K(),o=V("");J(()=>x.path,(_,t)=>{let h=_.split("/");h=h.filter(M=>M!=""),o.value="/"+h.join("/")},{immediate:!0});const{logUserOut:$}=q(),{authenticated:g}=z(q()),{triggerSidebar:H}=C(),{is_sidebar_open:y}=z(C()),I=T("token"),L=async()=>{C().loading_full=!0;const{data:_,error:t,status:h}=await nt("/logout",{method:"post",headers:{Authorization:`Bearer ${I.value}`,Accept:"application/json"},retry:0});if(C().loading_full=!1,h.value==="error"){tt().trigger(t);return}else $()},j=T("username");T("fullname");const b=V(!1);window.addEventListener("click",_=>{var h;const t=_.target;t instanceof Element&&((h=document==null?void 0:document.getElementById("panel"))!=null&&h.contains(t)||(b.value=!1))});const F=T("role"),f=_=>_.includes(F.value),p=_=>{o.value!=_&&(o.value=_,y.value=!1,v.push(_))};return(_,t)=>{const h=D,M=_t,R=ht,l=et,A=kt,S=At,E=zt,P=Rt,N=ot,Z=st;return s(),r(Y,null,[a("div",Et,[a("nav",{class:d([n(y)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[a("div",Nt,[a("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:t[0]||(t[0]=u=>n(H)(!n(y)))},[n(y)?(s(),B(h,{key:0})):(s(),B(M,{key:1}))]),a("header",Zt,[a("ul",Dt,[a("li",{class:d(n(o)=="/"?"active":"")},[e(l,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=u=>p("/"))},{default:i(()=>[e(R,{class:"mr-1"}),c(" Dashboard ")]),_:1})],2),f(["SuperAdmin","Logistic","PabrikTransport"])?(s(),r("li",{key:0,class:d(n(o)=="/data_ujalan"?"active":"")},[e(l,{to:"/data_ujalan",class:"cursor-pointer",onClick:t[2]||(t[2]=u=>p("/data_ujalan"))},{default:i(()=>[e(A,{class:"mr-1"}),c(" U.Jalan ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikTransport"])?(s(),r("li",{key:1,class:d(n(o)=="/data_trx_trp"?"active":"")},[e(l,{to:"/data_trx_trp",class:"cursor-pointer",onClick:t[3]||(t[3]=u=>p("/data_trx_trp"))},{default:i(()=>[e(S,{class:"mr-1"}),c(" Trx Trp ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikTransport","Logistic"])?(s(),r("li",{key:2,class:d(n(o)=="/data_trx_trp/ticket"?"active":"")},[e(l,{to:"/data_trx_trp/ticket",class:"cursor-pointer",onClick:t[4]||(t[4]=u=>p("/data_trx_trp/ticket"))},{default:i(()=>[e(S,{class:"mr-1"}),c(" Trx Ticket ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikMandor"])?(s(),r("li",{key:3,class:d(n(o)=="/data_trx_trp/ritase"?"active":"")},[e(l,{to:"/data_trx_trp/ritase",class:"cursor-pointer",onClick:t[5]||(t[5]=u=>p("/data_trx_trp/ritase"))},{default:i(()=>[e(S,{class:"mr-1"}),c(" Trx Ritase ")]),_:1})],2)):m("",!0),f(["SuperAdmin","Logistic","PabrikTransport"])?(s(),r("li",{key:4,class:d(n(o)=="/data_standby"?"active":"")},[e(l,{to:"/data_standby",class:"cursor-pointer",onClick:t[6]||(t[6]=u=>p("/data_standby"))},{default:i(()=>[e(A,{class:"mr-1"}),c(" StandBy ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikTransport","PabrikMandor","Logistic"])?(s(),r("li",{key:5,class:d(n(o)=="/data_standby/trx"?"active":"")},[e(l,{to:"/data_standby/trx",class:"cursor-pointer",onClick:t[7]||(t[7]=u=>p("/data_standby/trx"))},{default:i(()=>[e(A,{class:"mr-1"}),c(" StandBy Trx ")]),_:1})],2)):m("",!0),f(["SuperAdmin","Logistic","Finance","Marketing","MIS","Accounting"])?(s(),r("li",{key:6,class:d(n(o)=="/report_trx_trp"?"active":"")},[e(l,{to:"/report_trx_trp",class:"cursor-pointer",onClick:t[8]||(t[8]=u=>p("/report_trx_trp"))},{default:i(()=>[e(E,{class:"mr-1"}),c(" Report Trp ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikTransport"])?(s(),r("li",{key:7,class:d(n(o)=="/vehicle"?"active":"")},[e(l,{to:"/vehicle",class:"cursor-pointer",onClick:t[9]||(t[9]=u=>p("/vehicle"))},{default:i(()=>[e(P,{class:"mr-1"}),c(" Kendaraan ")]),_:1})],2)):m("",!0),f(["SuperAdmin","PabrikTransport"])?(s(),r("li",{key:8,class:d(n(o)=="/employee"?"active":"")},[e(l,{to:"/employee",class:"cursor-pointer",onClick:t[10]||(t[10]=u=>p("/employee"))},{default:i(()=>[e(P,{class:"mr-1"}),c(" Pekerja ")]),_:1})],2)):m("",!0),f(["SuperAdmin"])?(s(),r("li",{key:9,class:d(n(o)=="/user"?"active":"")},[e(l,{to:"/user",class:"cursor-pointer",onClick:t[11]||(t[11]=u=>p("/user"))},{default:i(()=>[e(P,{class:"mr-1"}),c(" User ")]),_:1})],2)):m("",!0)]),a("div",Ut,[O(a("div",Gt,[e(l,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:i(()=>[c(" Change Password ")]),_:1}),n(g)?(s(),B(l,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:L},{default:i(()=>[c(" Logout ")]),_:1})):m("",!0)],512),[[W,n(b)]]),a("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[12]||(t[12]=u=>b.value=!n(b))},Q(n(j)),1)])])])],2),a("div",Kt,[X(_.$slots,"default")])]),e(N),e(Z)],64)}}});export{oe as default};
