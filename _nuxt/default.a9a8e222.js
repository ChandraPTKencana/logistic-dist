import U from"./Times.068b4b36.js";import W from"./Burger.263de27a.js";import G from"./Home.7c7262d3.js";import{_ as J}from"./nuxt-link.64c33254.js";import H from"./Money.fc79b239.js";import K from"./Product.f4821659.js";import Z from"./FileCopy.0405eb47.js";import Q from"./Person.9a3a581d.js";import{_ as X}from"./Alert.vue.d4b5dc20.js";import{_ as Y}from"./Loading.vue.e5d28a01.js";import{f as ee,i as te,j as se,r as V,I as P,g as h,A as L,x as S,h as $,N as re,o as l,c as p,a as y,m as r,J as T,E as d,b as t,w as a,d as i,G as m,n as oe,v as ne,t as le,Z as ae,F as ie,y as ue}from"./entry.1cedbe8d.js";import{u as ce}from"./useMyFetch.82b8d51f.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./client-only.82d925c7.js";import"./Loading.f7071514.js";const pe={class:"w-full h-full flex"},de={class:"relative h-full"},me={class:"h-full flex flex-col p-2 overflow-hidden"},_e={class:"grow overflow-auto"},fe={id:"panel",class:"h-7 text-xs relative"},ve={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ye={class:"grow flex flex-col overflow-hidden"},Be=ee({__name:"default",setup(ke){const O=te(),B=se(),n=V("");P(()=>B.path,(o,e)=>{let f=o.split("/");f=f.filter(g=>g!=""),n.value="/"+f.join("/")},{immediate:!0});const{logUserOut:R}=h(),{authenticated:E}=L(h()),{triggerSidebar:M}=S(),{is_sidebar_open:x}=L(S()),j=$("token"),F=async()=>{S().loading_full=!0;const{data:o,error:e,status:f}=await ce("/logout",{method:"post",headers:{Authorization:`Bearer ${j.value}`,Accept:"application/json"},retry:0});if(S().loading_full=!1,f.value==="error"){ue().trigger(e);return}else R()},N=$("username");$("fullname");const w=V(!1);window.addEventListener("click",o=>{var f;const e=o.target;e instanceof Element&&((f=document==null?void 0:document.getElementById("panel"))!=null&&f.contains(e)||(w.value=!1))}),window.addEventListener("resize",o=>{let e=document.getElementById("side_menu");e&&(window.innerWidth>=640?e.style.left="0px":x.value||(e.style.left="-150px"))}),re(()=>{let o=document.getElementById("side_menu");o&&(window.innerWidth>=640?o.style.left="0px":x.value||(o.style.left="-150px"))});const q=$("role"),_=o=>o.includes(q.value),c=o=>{n.value!=o&&(n.value=o,window.innerWidth<640&&(x.value=!1),O.push(o))},I=V(null);return P(()=>x.value,(o,e)=>{let f=150,g=300/150,v=null,s=I.value;v&&(clearInterval(v),v=null),s&&(v=setInterval(()=>{let k=parseFloat(s.style.left);o?k>=0&&v?(s.style.left="0px",clearInterval(v),v=null):s.style.left=k+g+"px":k<=f*-1&&v?(s.style.left="-150px",clearInterval(v),v=null):s.style.left=k-g+"px"},1))}),(o,e)=>{const f=U,g=W,v=G,s=J,k=H,A=K,b=Z,C=Q,z=X,D=Y;return l(),p(ie,null,[y("div",pe,[y("nav",{id:"side_menu",ref_key:"side_menu",ref:I,class:"bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:left-0 text-white z-10",style:{width:"320px"}},[y("div",de,[y("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:e[0]||(e[0]=u=>r(M)(!r(x)))},[r(x)?(l(),T(f,{key:0})):(l(),T(g,{key:1}))]),y("header",me,[y("ul",_e,[y("li",{class:d(r(n)=="/"?"active":"")},[t(s,{to:"/",class:"cursor-pointer",onClick:e[1]||(e[1]=u=>c("/"))},{default:a(()=>[t(v,{class:"mr-1"}),i(" Dashboard ")]),_:1})],2),_(["SuperAdmin","ViewOnly","Logistic","PabrikTransport"])?(l(),p("li",{key:0,class:d(r(n)=="/data_ujalan"?"active":"")},[t(s,{to:"/data_ujalan",class:"cursor-pointer",onClick:e[2]||(e[2]=u=>c("/data_ujalan"))},{default:a(()=>[t(k,{class:"mr-1"}),i(" U.Jalan ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","PabrikTransport","PabrikMandor"])?(l(),p("li",{key:1,class:d(r(n)=="/data_trx_trp"?"active":"")},[t(s,{to:"/data_trx_trp",class:"cursor-pointer",onClick:e[3]||(e[3]=u=>c("/data_trx_trp"))},{default:a(()=>[t(A,{class:"mr-1"}),i(" Trx Trp ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","PabrikTransport","Logistic"])?(l(),p("li",{key:2,class:d(r(n)=="/data_trx_trp/ticket"?"active":"")},[t(s,{to:"/data_trx_trp/ticket",class:"cursor-pointer",onClick:e[4]||(e[4]=u=>c("/data_trx_trp/ticket"))},{default:a(()=>[t(A,{class:"mr-1"}),i(" Trx Ticket ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","PabrikMandor"])?(l(),p("li",{key:3,class:d(r(n)=="/data_trx_trp/ritase"?"active":"")},[t(s,{to:"/data_trx_trp/ritase",class:"cursor-pointer",onClick:e[5]||(e[5]=u=>c("/data_trx_trp/ritase"))},{default:a(()=>[t(A,{class:"mr-1"}),i(" Trx Ritase ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Logistic","PabrikTransport"])?(l(),p("li",{key:4,class:d(r(n)=="/data_standby"?"active":"")},[t(s,{to:"/data_standby",class:"cursor-pointer",onClick:e[6]||(e[6]=u=>c("/data_standby"))},{default:a(()=>[t(k,{class:"mr-1"}),i(" StandBy ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","PabrikTransport","PabrikMandor","Logistic"])?(l(),p("li",{key:5,class:d(r(n)=="/data_standby/trx"?"active":"")},[t(s,{to:"/data_standby/trx",class:"cursor-pointer",onClick:e[7]||(e[7]=u=>c("/data_standby/trx"))},{default:a(()=>[t(k,{class:"mr-1"}),i(" StandBy Trx ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Logistic","Finance","Marketing","MIS","Accounting"])?(l(),p("li",{key:6,class:d(r(n)=="/report_trx_trp"?"active":"")},[t(s,{to:"/report_trx_trp",class:"cursor-pointer",onClick:e[8]||(e[8]=u=>c("/report_trx_trp"))},{default:a(()=>[t(b,{class:"mr-1"}),i(" Report Trp ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Logistic"])?(l(),p("li",{key:7,class:d(r(n)=="/report/ramp"?"active":"")},[t(s,{to:"/report/ramp",class:"cursor-pointer",onClick:e[9]||(e[9]=u=>c("/report/ramp"))},{default:a(()=>[t(b,{class:"mr-1"}),i(" Report Ramp ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Logistic"])?(l(),p("li",{key:8,class:d(r(n)=="/report/ast_n_driver"?"active":"")},[t(s,{to:"/report/ast_n_driver",class:"cursor-pointer",onClick:e[10]||(e[10]=u=>c("/report/ast_n_driver"))},{default:a(()=>[t(b,{class:"mr-1"}),i(" Report Ast & Driver ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Finance"])?(l(),p("li",{key:9,class:d(r(n)=="/fin_payment_req"?"active":"")},[t(s,{to:"/fin_payment_req",class:"cursor-pointer",onClick:e[11]||(e[11]=u=>c("/fin_payment_req"))},{default:a(()=>[t(b,{class:"mr-1"}),i(" Payment Request ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","PabrikTransport","Logistic"])?(l(),p("li",{key:10,class:d(r(n)=="/vehicle"?"active":"")},[t(s,{to:"/vehicle",class:"cursor-pointer",onClick:e[12]||(e[12]=u=>c("/vehicle"))},{default:a(()=>[t(C,{class:"mr-1"}),i(" Kendaraan ")]),_:1})],2)):m("",!0),_(["SuperAdmin","ViewOnly","Logistic"])?(l(),p("li",{key:11,class:d(r(n)=="/employee"?"active":"")},[t(s,{to:"/employee",class:"cursor-pointer",onClick:e[13]||(e[13]=u=>c("/employee"))},{default:a(()=>[t(C,{class:"mr-1"}),i(" Pekerja ")]),_:1})],2)):m("",!0),_(["SuperAdmin"])?(l(),p("li",{key:12,class:d(r(n)=="/user"?"active":"")},[t(s,{to:"/user",class:"cursor-pointer",onClick:e[14]||(e[14]=u=>c("/user"))},{default:a(()=>[t(C,{class:"mr-1"}),i(" User ")]),_:1})],2)):m("",!0),_(["SuperAdmin"])?(l(),p("li",{key:13,class:d(r(n)=="/permission_group"?"active":"")},[t(s,{to:"/permission_group",class:"cursor-pointer",onClick:e[15]||(e[15]=u=>c("/permission_group"))},{default:a(()=>[t(C,{class:"mr-1"}),i(" Permission Group ")]),_:1})],2)):m("",!0)]),y("div",fe,[oe(y("div",ve,[t(s,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:a(()=>[i(" Change Password ")]),_:1}),r(E)?(l(),T(s,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:F},{default:a(()=>[i(" Logout ")]),_:1})):m("",!0)],512),[[ne,r(w)]]),y("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:e[16]||(e[16]=u=>w.value=!r(w))},le(r(N)),1)])])])],512),y("div",ye,[ae(o.$slots,"default")])]),t(z),t(D)],64)}}});export{Be as default};
