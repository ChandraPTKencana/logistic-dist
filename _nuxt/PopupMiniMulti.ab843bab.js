import C from"./Times.5282973f.js";import{K as D,r as w,j as g,W as I,o as m,c as p,a,b as h,F as y,y as k,x as j,t as _,k as b,C as F,l as O}from"./entry.44d5fc3d.js";import"./_plugin-vue_export-helper.c27b6911.js";const q=function(n,l){n.value.addEventListener("touchstart",v,{passive:!0}),n.value.addEventListener("touchend",x,{passive:!0});let r=-1,o=null,d=0;function v(e){r=f(e.target),o=setInterval(()=>{d+=100},100)}function x(e){clearInterval(o);let t=e.changedTouches[0],s=-1;if(d>400){let i=document.elementFromPoint(t.clientX,t.clientY);s=f(i);let u=l.value[r];l.value.splice(r,1),l.value.splice(s,0,{...u})}d=0,r=-1}function f(e){return e?e.hasAttribute("data-index")?e.dataset.index:e.parentElement?f(e.parentElement):-1:-1}},L={key:0,class:"flex items-center justify-center fixed top-0 left-0 z-10 p-3 w-full h-full bg-black bg-opacity-80"},E={class:"flex items-center max-w-xs w-full h-5/6 relative bg-white border-solid border-gray-600 border-2 p-3 flex-col"},S={class:"absolute -top-7 right-0 py-1 px-2 bg-white border-solid border-2 border-gray-600 border-b-0 rounded-tl-md"},T={class:"w-full grow text-left mt-3 flex flex-col overflow-hidden"},B=a("b",{class:"text-gray-600"},"Selected List:",-1),M=["data-index","onDragstart","onDrop"],N={class:"flex flex-row flex-wrap items-center"},V={class:"p-1"},z={class:"flex w-full justify-between mt-3"},A=["disabled"],G=D({__name:"PopupMiniMulti",props:{show:{type:Boolean,required:!0},data:{type:Object,required:!1,default:""},fnClose:{type:Function,required:!0},fnConfirm:{type:Function,required:!0},fnRemoveFromList:{type:Function,required:!0},enabledOk:{type:Boolean,required:!1,default:!0},multi_key:{type:Array,required:!0}},setup(n){const l=n;let r=null;const o=w(0),d=()=>{r==null&&(o.value=1,r=setInterval(()=>{o.value--,o.value<=0&&(clearInterval(r),r=null)},1e3))},v=w(null);g(()=>l.show,(e,t)=>{e?(d(),setTimeout(()=>{q(v,{value:l.data})},0)):(clearInterval(r),r=null)},{immediate:!0,deep:!0}),g(()=>l.enabledOk,(e,t)=>{e&&l.show&&d()},{immediate:!0,deep:!0}),I(()=>{clearInterval(r),r=null});const x=(e,t)=>{e.dataTransfer.setData("application/json",JSON.stringify(t))},f=(e,t)=>{let s=JSON.parse(e.dataTransfer.getData("application/json")),i=l.data[s];l.data.splice(s,1),l.data.splice(t,0,{...i})};return(e,t)=>{const s=C;return n.show?(m(),p("div",L,[a("div",E,[a("div",S,[h(s,{class:"text-2xl text-black cursor-pointer",onClick:t[0]||(t[0]=i=>n.fnClose())})]),a("div",T,[B,a("div",{class:"w-full grow overflow-auto p-2",ref_key:"to_move",ref:v},[(m(!0),p(y,null,k(n.data,(i,u)=>(m(),p("div",{"data-index":u,class:"w-full flex flex-row flex-wrap items-center bg-blue-500 my-1 text-white rounded justify-between",draggable:"true",onDragstart:c=>x(c,u),onDragover:t[1]||(t[1]=j(()=>{},["prevent"])),onDrop:c=>f(c,u)},[a("div",N,[(m(!0),p(y,null,k(n.multi_key,c=>(m(),p("div",V,_(i[c]),1))),256))]),h(s,{class:"text-2xl cursor-pointer",onClick:c=>n.fnRemoveFromList(u)},null,8,["onClick"])],40,M))),256))],512)]),a("div",z,[a("button",{onClick:t[2]||(t[2]=i=>n.fnClose()),class:"w-full bg-blue-500 border-blue-500 border-solid border-2 p-1 text-white mr-2"}," Tutup "),a("button",{onClick:t[3]||(t[3]=i=>n.fnConfirm()),disabled:!l.enabledOk||b(o)>0,class:F(["w-full border-solid border-2 p-1 text-white",l.enabledOk&&b(o)<=0?"bg-red-600 border-red-600":"bg-slate-600 border-slate-600"])}," Lanjutkan "+_(b(o)>0?b(o):""),11,A)])])])):O("",!0)}}});export{G as default};
