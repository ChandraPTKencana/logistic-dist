import{_ as S}from"./WidthMiniPart.vue.238bd9ba.js";import $ from"./Times.42ecdbb9.js";import{M as B,r as f,i as N,o as n,c as a,G as q,a as s,b as m,n as g,k as h,L as E,l as p,m as M,A as O,F as T,E as V,t as x}from"./entry.dc2b24f1.js";const j={class:"relative"},I={key:0,class:"flex items-center"},z={class:"fixed h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center z-10"},A={class:"grow overflow-y-auto"},D=["onClick"],F={class:"p-1 flex flex-wrap items-center"},J={class:"w-full"},W={class:""},G={class:"ml-1"},P={key:0,class:"w-full"},Q=B({__name:"WidthMiniList",props:{arr:{type:Array,required:!0,default:[]},pure:{type:Object,required:!0,default:[]},disabled:{type:Boolean,required:!1,default:!1},selected:{type:Object,required:!1,default:{_:{},id:"",name:"",title:"",note:""}}},emits:["input","nextBlur","setSelected"],setup(i,{emit:_}){const d=i,c=f(!1),b=f(null),r=f(null),l=f(""),w=()=>{d.disabled||(setTimeout(()=>{c.value=!0},1),setTimeout(()=>{r!=null&&r.value&&(r==null||r.value.focus())},2))};window.addEventListener("click",o=>{var u;const e=o.target;e instanceof Element&&c.value&&((u=b.value)!=null&&u.contains(e)||(c.value=!1))});const k=N(()=>l.value!=""?d.arr.filter(o=>o.id.toString().toLowerCase().includes(l.value.toLowerCase())||o.name.toLowerCase().includes(l.value.toLowerCase())||o.title.toLowerCase().includes(l.value.toLowerCase())):d.arr),C=o=>{_("setSelected",o),c.value=!1},L=()=>{_("setSelected",JSON.parse(JSON.stringify(d.pure)))};return(o,e)=>{const u=S,y=$;return n(),a("div",j,[i.selected.id==""?(n(),a("div",{key:0,class:"card-border cursor-pointer rounded",onClick:e[0]||(e[0]=t=>w())})):(n(),a("div",{key:1,class:q(["card-border cursor-pointer !flex flex-row flex-nowrap rounded",i.disabled?"bg-gray-400 cursor-not-allowed":""])},[s("div",{class:"flex flex-wrap items-center grow",onClick:e[1]||(e[1]=t=>w())},[m(u,{selected:i.selected},null,8,["selected"])]),i.disabled?g("",!0):(n(),a("div",I,[s("button",{type:"button",class:"bg-red-500 text-white border-none",onClick:e[2]||(e[2]=t=>L())},[m(y)])]))],2)),h(s("div",z,[s("div",{ref_key:"search_box",ref:b,class:"w-[320px] h-full ring-1 ring-gray-500 p-2 bg-white flex flex-col relative"},[h(s("input",{ref_key:"search_words",ref:r,type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>M(l)?l.value=t:null),placeholder:"search",class:"max-h-8"},null,512),[[O,p(l)]]),m(y,{class:"absolute right-3 top-4 cursor-pointer",onClick:e[4]||(e[4]=t=>{var v;return l.value="",(v=p(r))==null?void 0:v.focus()})}),s("div",A,[(n(!0),a(T,null,V(p(k),(t,v)=>(n(),a("div",{class:"mt-3 flex border-[1px] border-solid border-gray-400 cursor-pointer",onClick:R=>C(t)},[s("div",F,[s("div",J,[s("span",W," #"+x(t.id),1),s("span",G,x(t.name),1)]),t.title?(n(),a("div",P,x(t.title||""),1)):g("",!0)])],8,D))),256))])],512)],512),[[E,p(c)]])])}}});export{Q as _};
