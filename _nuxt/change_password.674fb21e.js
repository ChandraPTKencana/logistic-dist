import{_ as m}from"./HeaderCustom.vue.10cc2fc0.js";import{M as h,N as v,r as d,g as x,C as g,O as b,x as i,o as y,c as C,b as k,a as s,k as p,A as u,l as a,t as c,D as S,y as P,j as A}from"./entry.a326582a.js";import{u as D}from"./useMyFetch.7138c4a8.js";import"./CaretLeft.04ec6ebb.js";import"./_plugin-vue_export-helper.c27b6911.js";const V={class:"w-full h-full flex flex-col"},$={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},j={class:"w-full align-items-center justify-content-center grow overflow-auto"},B={class:"w-full flex flex-col flex-wrap p-1"},M=s("label",{for:""},"Old Password",-1),N={class:"text-red-500"},U={class:"w-full flex flex-col flex-wrap p-1"},E=s("label",{for:""},"New Password",-1),F={class:"text-red-500"},O={class:"w-full flex flex-col flex-wrap p-1"},R=s("label",{for:""},"Confirm Password",-1),T={class:"text-red-500"},q={class:"w-full flex items-center justify-end"},L=h({__name:"change_password",setup(z){v(),d(!1);const f=x("token"),r=d({});g(),b(),i().loading_full=!1;const e=d({old_password:"",password:"",password_confirmation:""}),w=async()=>{i().loading_full=!0,r.value={};const l=new FormData;l.append("old_password",e.value.old_password),l.append("password",e.value.password),l.append("password_confirmation",e.value.password_confirmation),l.append("_method","PUT");let o="post";const{data:n,error:t,status:_}=await D("/change_password",{method:o,headers:{Authorization:`Bearer ${f.value}`,Accept:"application/json"},body:l,retry:0});if(i().loading_full=!1,_.value==="error"){P().trigger(t,r);return}else A().display({show:!0,status:"Success",message:n.value.message})};return(l,o)=>{const n=m;return y(),C("div",V,[k(n,{title:"Change Password",back:!0}),s("form",$,[s("div",j,[s("div",B,[M,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[0]||(o[0]=t=>a(e).old_password=t)},null,512),[[u,a(e).old_password]]),s("p",N,c(a(r).old_password),1)]),s("div",U,[E,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>a(e).password=t)},null,512),[[u,a(e).password]]),s("p",F,c(a(r).password),1)]),s("div",O,[R,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[2]||(o[2]=t=>a(e).password_confirmation=t)},null,512),[[u,a(e).password_confirmation]]),s("p",T,c(a(r).password_confirmation),1)])]),s("div",q,[s("button",{type:"button",name:"button",class:"w-36 m-1",onClick:o[3]||(o[3]=t=>l.$router.go(-1))}," Cancel "),s("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:o[4]||(o[4]=S(t=>w(),["prevent"]))}," Save ")])])])}}});export{L as default};
