var j=Object.defineProperty;var g=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var h=(r,e,t)=>e in r?j(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e)=>{for(var t in e||(e={}))F.call(e,t)&&h(r,t,e[t]);if(g)for(var t of g(e))O.call(e,t)&&h(r,t,e[t]);return r};import{R as q}from"./pages.b486181e.js";import{d as L,r as y,w as k,C as E,o as m,a as p,b as a,h as _,F as C,j as D,D as S,t as I,u as b,n as T,k as B}from"./vue-vendor.ccf46959.js";import"./entry.9d4c4f80.js";import"./state-vendor.7641a25c.js";const M=function(r,e){r.value.addEventListener("touchstart",v,{passive:!0}),r.value.addEventListener("touchend",x,{passive:!0});let t=-1,o=null,d=0;function v(l){t=f(l.target),o=setInterval(()=>{d+=100},100)}function x(l){clearInterval(o);let n=l.changedTouches[0],s=-1;if(d>400){let i=document.elementFromPoint(n.clientX,n.clientY);s=f(i);let u=e.value[t];e.value.splice(t,1),e.value.splice(s,0,w({},u))}d=0,t=-1}function f(l){return l?l.hasAttribute("data-index")?l.dataset.index:l.parentElement?f(l.parentElement):-1:-1}},N={key:0,class:"flex items-center justify-center fixed top-0 left-0 z-10 p-3 w-full h-full bg-black bg-opacity-80"},V={class:"flex items-center max-w-xs w-full h-5/6 relative bg-white border-solid border-gray-600 border-2 p-3 flex-col"},R={class:"absolute -top-7 right-0 py-1 px-2 bg-white border-solid border-2 border-gray-600 border-b-0 rounded-tl-md"},z={class:"w-full grow text-left mt-3 flex flex-col overflow-hidden"},A=a("b",{class:"text-gray-600"},"Selected List:",-1),J=["data-index","onDragstart","onDrop"],P={class:"flex flex-row flex-wrap items-center"},G={class:"p-1"},U={class:"flex w-full justify-between mt-3"},X=["disabled"],Z=L({__name:"PopupMiniMulti",props:{show:{type:Boolean,required:!0},data:{type:Object,required:!1,default:""},fnClose:{type:Function,required:!0},fnConfirm:{type:Function,required:!0},fnRemoveFromList:{type:Function,required:!0},enabledOk:{type:Boolean,required:!1,default:!0},multi_key:{type:Array,required:!0}},setup(r){const e=r;let t=null;const o=y(0),d=()=>{t==null&&(o.value=1,t=setInterval(()=>{o.value--,o.value<=0&&(clearInterval(t),t=null)},1e3))},v=y(null);k(()=>e.show,(l,n)=>{l?(d(),setTimeout(()=>{M(v,{value:e.data})},0)):(clearInterval(t),t=null)},{immediate:!0,deep:!0}),k(()=>e.enabledOk,(l,n)=>{l&&e.show&&d()},{immediate:!0,deep:!0}),E(()=>{clearInterval(t),t=null});const x=(l,n)=>{l.dataTransfer.setData("application/json",JSON.stringify(n))},f=(l,n)=>{let s=JSON.parse(l.dataTransfer.getData("application/json")),i=e.data[s];e.data.splice(s,1),e.data.splice(n,0,w({},i))};return(l,n)=>{const s=q;return r.show?(m(),p("div",N,[a("div",V,[a("div",R,[_(s,{class:"text-2xl text-black cursor-pointer",onClick:n[0]||(n[0]=i=>r.fnClose())})]),a("div",z,[A,a("div",{class:"w-full grow overflow-auto p-2",ref_key:"to_move",ref:v},[(m(!0),p(C,null,D(r.data,(i,u)=>(m(),p("div",{"data-index":u,class:"w-full flex flex-row flex-wrap items-center bg-blue-500 my-1 text-white rounded justify-between",draggable:"true",onDragstart:c=>x(c,u),onDragover:n[1]||(n[1]=S(()=>{},["prevent"])),onDrop:c=>f(c,u)},[a("div",P,[(m(!0),p(C,null,D(r.multi_key,c=>(m(),p("div",G,I(i[c]),1))),256))]),_(s,{class:"text-2xl cursor-pointer",onClick:c=>r.fnRemoveFromList(u)},null,8,["onClick"])],40,J))),256))],512)]),a("div",U,[a("button",{onClick:n[2]||(n[2]=i=>r.fnClose()),class:"w-full bg-blue-500 border-blue-500 border-solid border-2 p-1 text-white mr-2"}," Tutup "),a("button",{onClick:n[3]||(n[3]=i=>r.fnConfirm()),disabled:!e.enabledOk||b(o)>0,class:T(["w-full border-solid border-2 p-1 text-white",e.enabledOk&&b(o)<=0?"bg-red-600 border-red-600":"bg-slate-600 border-slate-600"])}," Lanjutkan "+I(b(o)>0?b(o):""),11,X)])])])):B("",!0)}}});export{Z as default};
