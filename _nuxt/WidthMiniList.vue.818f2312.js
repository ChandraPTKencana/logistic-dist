import{_ as S}from"./WidthMiniPart.vue.0f7a64f6.js";import $ from"./Times.67ba30c4.js";import{J as B,r as u,G as E,o as n,c as a,a as t,b as _,m as k,M,k as f,n as T,v as V,F as j,y as q,t as m,l as I}from"./entry.1da81da6.js";const N={class:"relative"},A={key:1,class:"card-border cursor-pointer !flex flex-row flex-nowrap"},D={class:"w-full flex flex-row flex-wrap"},F={class:"flex items-center"},O={class:"fixed h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center z-10"},W={class:"grow overflow-y-auto"},z=["onClick"],G={class:"p-1 flex flex-wrap items-center"},J={class:"w-full"},P={class:""},R={class:"ml-1"},U={key:0,class:"w-full"},Y=B({__name:"WidthMiniList",props:{arr:{type:Array,required:!0,default:[]},list:{type:Array,required:!1,default:[]},selected:{type:Object,required:!1,default:{_:{},id:"",name:"",title:""}}},emits:["input","nextBlur","setSelected"],setup(p,{emit:x}){const c=p,i=u(!1),w=u(null),o=u(null),r=u(""),y=()=>{setTimeout(()=>{i.value=!0},1),setTimeout(()=>{o!=null&&o.value&&(o==null||o.value.focus())},2)};window.addEventListener("click",s=>{var d;const e=s.target;e instanceof Element&&i.value&&((d=w.value)!=null&&d.contains(e)||(i.value=!1))});const g=E(()=>r.value!=""?c.arr.filter(s=>s.id.toString().toLowerCase().includes(r.value.toLowerCase())||s.name.toLowerCase().includes(r.value.toLowerCase())||s.title.toLowerCase().includes(r.value.toLowerCase())):c.arr),h={_:{},id:"",name:"",title:""},C=s=>{x("setSelected",s),i.value=!1},L=()=>{let s={...h};Object.keys(c.selected._).forEach(e=>{s._[e]=c.selected._[e],s._[e].val=""}),x("setSelected",{...h})};return(s,e)=>{const d=S,b=$;return n(),a("div",N,[p.selected.id==""?(n(),a("div",{key:0,class:"card-border cursor-pointer",onClick:e[0]||(e[0]=l=>y())})):(n(),a("div",A,[t("div",{class:"flex flex-wrap items-center grow",onClick:e[1]||(e[1]=l=>y())},[t("div",D,[_(d,{selected:p.selected},null,8,["selected"])])]),t("div",F,[t("button",{type:"button",class:"bg-red-500 text-white border-none",onClick:e[2]||(e[2]=l=>L())},[_(b)])])])),k(t("div",O,[t("div",{ref_key:"search_box",ref:w,class:"w-[320px] h-full ring-1 ring-gray-500 p-2 bg-white flex flex-col relative"},[k(t("input",{ref_key:"search_words",ref:o,type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>T(r)?r.value=l:null),placeholder:"search",class:"max-h-8"},null,512),[[V,f(r)]]),_(b,{class:"absolute right-3 top-4 cursor-pointer",onClick:e[4]||(e[4]=l=>{var v;return r.value="",(v=f(o))==null?void 0:v.focus()})}),t("div",W,[(n(!0),a(j,null,q(f(g),(l,v)=>(n(),a("div",{class:"mt-3 flex border-[1px] border-solid border-gray-400 cursor-pointer",onClick:H=>C(l)},[t("div",G,[t("div",J,[t("span",P," #"+m(l.id),1),t("span",R,m(l.name),1)]),l.title?(n(),a("div",U,m(l.title||""),1)):I("",!0)])],8,z))),256))])],512)],512),[[M,f(i)]])])}}});export{Y as _};
