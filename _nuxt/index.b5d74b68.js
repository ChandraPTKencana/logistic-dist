import nt from"./Header.e6379606.js";import rt from"./Plus.7bdc8faf.js";import ot from"./Table2Column.463c1d1d.js";import st from"./Eyes.a59c7ff2.js";import it from"./Delete.f771c746.js";import ut from"./Void.be781ce3.js";import _t from"./Signature.ff4579b1.js";import dt from"./SignatureOff.0d63c9b3.js";import pt from"./PrinterEye.1db547e4.js";import vt from"./Image.bff9bd42.js";import ct from"./Line.cf6b2c32.js";import mt from"./Check.1ee87065.js";import ft from"./TableView.2db9893e.js";import{_ as yt}from"./PopupMini.vue.5ee0094d.js";import kt from"./trx_trp.e1b77e2a.js";import bt from"./trx_trp_validasi.98be1857.js";import gt from"./trx_absen.828b1bcb.js";import{r as _,f as ae,g as xt,h as ht,i as q,j as wt,x as p,c as g,b as f,a as h,k as le,v as Dt,l as r,m as ne,n as x,d as y,E as Pt,t as D,w as c,q as Ct,y as $,o as i,z as k,A as ge,H as $t,G as At}from"./entry.c77d4a55.js";import{u as m}from"./useUtils.5c32143b.js";import{u as A}from"./useMyFetch.37fa0936.js";import{u as xe}from"./useDownload.174f4da2.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Search.4075b227.js";import"./Adjust.66e75071.js";import"./TableHeaderEye.af8cab85.js";import"./Times.0d315ef3.js";import"./ClearAll.51b6f5a7.js";import"./client-only.fcfed5bc.js";import"./ClearEach.6a4d63a5.js";import"./CaretLeftDoubleBold.48d3199f.js";import"./CaretLeftBold.1ae0a02c.js";import"./CaretRightBold.7a87485e.js";import"./CaretRightDoubleBold.fc6cc12f.js";import"./Exclamation.4602c385.js";import"./HeaderPopup.vue.0da03557.js";import"./WidthMiniList.vue.82739f6a.js";import"./WidthMiniPart.vue.f830b76d.js";import"./CaretTop.4740b931.js";import"./CaretDown.13da8578.js";const Tt={class:"w-full h-full flex flex-col"},qt={class:"w-full flex grow flex-col overflow-auto h-0"},Ot={class:"w-full flex justify-between flex-wrap"},St={class:"grow flex"},jt={class:"m-1"},Ut=$t('<option value="pv_not_done">Undone</option><option value="pv_done">Done</option><option value="deleted">Trash</option><option value="all">All</option><option value="req_deleted">Req Delete</option>',5),Nt=[Ut],Mt=h("span",{class:"text-xs ml-1"}," Download ",-1),Bt={class:"flex"},It=h("span",{class:"text-xs"},"Mode",-1),Ft={key:0},Et={class:"w-full flex flex-col items-center justify-center"},Vt={key:2,class:"text-xs"},Rt={key:0},Kt={key:0},zt={class:"grow mb-5"},Yt=h("b",{class:"text-red-500"},"divalidasi",-1),Lt=h("b",null,"tidak dapat dibatalkan lagi",-1),Ht={class:"grow mb-5"},Ma={__name:"index",async setup(Gt){let z,re;const{$moment:oe}=At(),{pointFormat:he}=m();let se=_({clearCheckBox:!1});const H=e=>e.deleted==1?"!bg-red-400":e.pvr_id>0&&e.req_deleted==1?"!bg-yellow-300":e.absen_not_done&&e.absen_not_done.length>0?"!bg-gray-300":e.pv_id>0?"!bg-blue-300":"",G=e=>(e.map(t=>{t.class_h=H(t)}),e),O=_("pv_not_done");ae(()=>O.value,e=>{ke.value.map(t=>{let v=["deleted_by_username","deleted_at","deleted_reason","req_deleted_by_username","req_deleted_at","req_deleted_reason"].indexOf(t.key)>-1;return["all","deleted","req_deleted"].indexOf(e)>-1?v&&(t.tbl_show=1):v&&(t.tbl_show=0),t}),pe()},{immediate:!1});const b={};b._TimeZoneOffset=new Date().getTimezoneOffset(),b.sort="tanggal:desc";const ie=_({}),Y=_({from:"",to:""}),P=xt("token"),{data:we}=([z,re]=ht(async()=>Ct(async()=>{p().loading_full=!0;let e=[];const[t,v]=await Promise.all([A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{filter_status:O},retry:0})]);return t.status.value!=="error"&&(e=G(t.data.value.data)),t.status.value==="error"?($().trigger(t.error),{trx_trps:e}):(p().loading_full=!1,{trx_trps:e})},"$pFLmKcrKj9")),z=await z,re(),z),s=_(we.value.trx_trps||[]),ue=_([]),N=_(!1),De=async()=>{p().loading_full=!0;const{data:e,error:t,status:v}=await A("/trx_load_cost_center",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{online_status:N.value},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(t);return}ue.value=e.value.list_cost_center},J=_({field:"tanggal",by:"desc"}),o=_(-1),u=q(()=>s.value[o.value]),T=_({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),_e=()=>{b.like="";let e=JSON.parse(JSON.stringify(p()._tv.global_keyword));e!=""&&(b.like=`id:%${e}%,xto:%${e}%,jenis:%${e}%,pv_no:%${e}%,ticket_a_no:%${e}%,ticket_b_no:%${e}%,no_pol:%${e}%,supir:%${e}%,kernet:%${e}%,cost_center_code:%${e}%,cost_center_desc:%${e}%,pvr_no:%${e}%,tanggal:%${e}%,transition_target:%${e}%,uj_asst_opt:%${e}%`),b.sort="",J.value.field&&(b.sort=J.value.field+":"+J.value.by),b.date_from=Y.value.from?oe(Y.value.from).format("YYYY-MM-DD"):"",b.date_to=Y.value.to?oe(Y.value.to).format("YYYY-MM-DD"):"",b.filter_model=JSON.stringify(p()._tv.filter_model)},de=async()=>{p().loading_full=!0,ie.value={},T.value.may_get_data=!1,b.page=T.value.page,b.page==1&&(s.value=[]),b.first_row&&delete b.first_row,b.page>1&&(b.first_row=JSON.stringify(s.value[0])),b.filter_status=O.value;const{data:e,error:t,status:v}=await A("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:b,retry:0});if(p().loading_full=!1,T.value.may_get_data=!0,v.value==="error"){$().trigger(t,ie);return}T.value.page==1?s.value=G(e.value.data):T.value.page>1&&(s.value=[...s.value,...G(e.value.data)]),e.value.data.length==0&&(T.value.is_last_record=!0),p()._tv.filter_box=!1},pe=()=>{o.value=-1,T.value.page=1,T.value.is_last_record=!1,_e(),de()},I=_(1),W=_(!1),ve=_(0),Pe=()=>{ve.value=0,I.value=-1,W.value=!0},{display:S}=wt(),F=_(!1),E=_(0),Ce=()=>{o.value==-1?S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=1,F.value=!0)},$e=()=>{o.value==-1?S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=0,F.value=!0)},Ae=()=>{o.value==-1?S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=s.value[o.value].id,I.value=-1,F.value=!0)},Z=_(!1),ce=_(0),Te=e=>{ce.value=e,Z.value=!0},Q=_(!1),me=_({}),V=_(!1),M=_(""),qe=async()=>{V.value&&(V.value=!1)},Oe=()=>{o.value==-1?S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(M.value="",me.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},V.value=!0)};ae(()=>M.value,e=>{e.trim().length>0?Q.value=!0:Q.value=!1},{immediate:!1});const Se=async()=>{p().loading_full=!0;const e=new FormData;e.append("id",s.value[o.value].id),e.append("deleted_reason",M.value),e.append("_method","DELETE");const{data:t,error:v,status:C}=await A("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,C.value==="error"){$().trigger(v);return}let l={...s.value[o.value]};l.deleted=t.value.deleted,l.deleted_user=t.value.deleted_user,l.deleted_at=t.value.deleted_at,l.deleted_by=t.value.deleted_by,l.deleted_reason=t.value.deleted_reason,l.class_h=H(l),O.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,V.value=!1},X=_(!1),fe=_({}),R=_(!1),B=_(""),je=async()=>{R.value&&(R.value=!1)},Ue=()=>{o.value==-1?S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(B.value="",fe.value={id:s.value[o.value].id,"no pol":s.value[o.value].no_pol,tujuan:s.value[o.value].xto},R.value=!0)};ae(()=>B.value,e=>{e.trim().length>0?X.value=!0:X.value=!1},{immediate:!1});const Ne=async()=>{p().loading_full=!0;const e=new FormData;e.append("id",s.value[o.value].id),e.append("req_deleted_reason",B.value),e.append("_method","DELETE");const{data:t,error:v,status:C}=await A("/trx_trp_req_delete",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,C.value==="error"){$().trigger(v);return}let l={...s.value[o.value]};l.req_deleted=t.value.req_deleted,l.req_deleted_user=t.value.req_deleted_user,l.req_deleted_by=t.value.req_deleted_by,l.req_deleted_at=t.value.req_deleted_at,l.req_deleted_reason=t.value.req_deleted_reason,l.class_h=H(l),O.value!="all"?s.value.splice(o.value,1):s.value.splice(o.value,1,{...l}),o.value=-1,R.value=!1},ee=_([]),L=_(!1),Me=async()=>{p().loading_full=!0;const e=new FormData;e.append("ids",JSON.stringify(ee.value)),e.append("_method","PUT");const{data:t,error:v,status:C}=await A("/trx_trp_validasis",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,C.value==="error"){$().trigger(v);return}L.value=!1,t.value.val_lists.forEach(l=>{let w=s.value.map(n=>n.id).indexOf(l.id);if(w>-1){let n=s.value[w];n.val=l.val,n.val_by=l.val_by,n.val_at=l.val_at,n.val1=l.val1,n.val1_by=l.val1_by,n.val1_at=l.val1_at,n.val2=l.val2,n.val2_by=l.val2_by,n.val2_at=l.val2_at,n.val3=l.val3,n.val3_by=l.val3_by,n.val3_at=l.val3_at,n.val4=l.val4,n.val4_by=l.val4_by,n.val4_at=l.val4_at,n.val5=l.val5,n.val5_by=l.val5_by,n.val5_at=l.val5_at,n.val6=l.val6,n.val6_by=l.val6_by,n.val6_at=l.val6_at,n.updated_at=l.updated_at,s.value.splice(w,1,{...n})}}),se.value.clearCheckBox=!0},{printHtml:ye}=xe(),Be=async()=>{if(o.value==-1){S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:e,error:t,status:v}=await A("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(t);return}ye(e.value.html,318)},Ie=async()=>{if(o.value==-1){S({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}p().loading_full=!0;const{data:e,error:t,status:v}=await A("/trx_trp_preview_file_bt",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:{id:s.value[o.value].id},retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(t);return}ye(e.value.html,318)},Fe=async()=>{p().loading_full=!0;const e=new FormData;e.append("online_status",N.value);const{data:t,error:v,status:C}=await A("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,C.value==="error"){$().trigger(v);return}t.value.forEach(l=>{let w=s.value.map(n=>n.id).indexOf(l.id);if(w!==-1){let n=s.value[w];n.pvr_id=l.pvr_id,n.pvr_no=l.pvr_no,n.pvr_total=l.pvr_total,n.pvr_had_detail=l.pvr_had_detail,n.updated_at=l.updated_at,s.value.splice(w,1,{...n})}}),S({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Ee=async()=>{p().loading_full=!0;const e=new FormData;e.append("online_status",N.value);const{data:t,error:v,status:C}=await A("/trx_trp_do_gen_pv",{method:"post",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},body:e,retry:0});if(p().loading_full=!1,C.value==="error"){$().trigger(v);return}t.value.forEach(l=>{let w=s.value.map(n=>n.id).indexOf(l.id);if(w!==-1){let n=s.value[w];n.pv_id=l.pv_id,n.pv_no=l.pv_no,n.pv_total=l.pv_total,n.pv_datetime=l.pv_datetime,n.pv_complete=l.pv_complete,n.updated_at=l.updated_at,s.value.splice(w,1,{...n})}}),S({show:!0,status:"Success",message:"Generate Or Update PV Done"})},ke=_([{key:"cb",label:"",checkbox:"id"},{key:"no",label:"No",isai:!0},{key:"val",label:"APP",childs:[{key:"val",label:"Kasir",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val1",label:"Mandor",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val2",label:"KTU/W",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val3",label:"Marketing",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val4",label:"Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val5",label:"SPV Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"val6",label:"MGR Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]}]},{key:"id",label:"ID",filter_on:1,type:"number",sort:{priority:2,type:"desc"}},{key:"absen",label:"Absen"},{key:"tanggal",label:"U.Jalan Per",type:"date",dateformat:"DD-MM-Y",filter_on:1,sort:{priority:1,type:"desc"}},{key:"no_pol",label:"No Pol",freeze:1,filter_on:1,type:"string"},{key:"uj_xto",label:"Tujuan",filter_on:1,type:"string"},{key:"uj_asst_opt",label:"Info",filter_on:1,type:"select",select_item:["DENGAN KERNET","TANPA KERNET"]},{key:"uj_tipe",label:"Tipe",filter_on:1,type:"string"},{key:"jenis",label:"Jenis",filter_on:1,type:"select",select_item:["TBS","TBSK","CPO","PK","LAIN","TUNGGU"]},{key:"uj_harga",label:"Amount",class:" justify-end",filter_on:1,type:"number"},{key:"transition",label:"Peralihan",childs:[{key:"transition_type",label:"Type",type:"select",filter_on:1,select_item:["To","From"]},{key:"transition_target",label:"Target",type:"select",filter_on:1,select_item:p().list_pabrik}]},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"string",class:" justify-start",filter_on:1},{key:"cost_center_desc",label:"Desc",filter_on:1,type:"string"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No",filter_on:1,type:"string"},{key:"pvr_total",label:"Total",filter_on:1,type:"number"},{key:"pvr_had_detail",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"pv",label:"PV",childs:[{key:"pv_datetime",label:"Date",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"pv_no",label:"No",filter_on:1,type:"string"},{key:"pv_total",label:"Total",filter_on:1,type:"number"},{key:"pv_complete",label:"Completed",filter_on:1,type:"select",select_item:[{k:"1",v:"Completed"},{k:"0",v:"Uncompleted"}]}]},{key:"supir",label:"Supir",filter_on:1,type:"string"},{key:"supir_rek_no",label:"No Rek Supir",filter_on:1,type:"string"},{key:"supir_rek_name",label:"Nama Rek Supir",filter_on:1,type:"string"},{key:"kernet",label:"Kernet",filter_on:1,type:"string"},{key:"kernet_rek_no",label:"No Rek Kernet",filter_on:1,type:"string"},{key:"kernet_rek_name",label:"Nama Rek Kernet",filter_on:1,type:"string"},{key:"payment_method_name",label:"Payment Method Name",type:"string"},{key:"received_payment",label:"Sudah Dibayarkan?",type:"string"},{key:"duitku_supir_disburseId",label:"ID Duitku Supir",type:"string"},{key:"duitku_supir_inv_res_desc",label:"Ket Inquery Duitku Supir",type:"string"},{key:"duitku_supir_trf_res_desc",label:"Ket Pengiriman Duitku Supir",type:"string"},{key:"duitku_kernet_disburseId",label:"ID Duitku Kernet",type:"string"},{key:"duitku_kernet_inv_res_desc",label:"Ket Inquery Duitku Kernet",type:"string"},{key:"duitku_kernet_trf_res_desc",label:"Ket Pengiriman Duitku Kernet",type:"string"},{key:"created_at",label:"Created At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"updated_at",label:"Updated At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"deleted_by_username",label:"Deleted By",tbl_show:0},{key:"deleted_at",label:"Deleted At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"deleted_reason",label:"Deleted Reason",tbl_show:0,type:"string",filter_on:1},{key:"req_deleted_by_username",label:"Req Deleted By",tbl_show:0},{key:"req_deleted_at",label:"Req Delete At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:0,type:"datetime",filter_on:1},{key:"req_deleted_reason",label:"Req Delete Reason",tbl_show:0,type:"string",filter_on:1}]),Ve=q(()=>["pv_not_done","all"].indexOf(O.value)>-1&&m().checkPermission("trp_trx.create")),Re=q(()=>o.value>-1&&m().checkPermission("trp_trx.view"));q(()=>o.value>-1&&[void 0,0].indexOf(u.value.deleted)>-1&&[void 0,0].indexOf(u.value.req_deleted)>-1&&[void 0,0].indexOf(u.value.val4)>-1&&[void 0,""].indexOf(u.value.pvr_id)>-1&&m().checkPermission("trp_trx.modify"));const Ke=q(()=>o.value>-1&&[void 0,0].indexOf(u.value.deleted)>-1&&[void 0,0].indexOf(u.value.req_deleted)>-1&&([void 0,""].indexOf(u.value.pvr_id)>-1&&m().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2"])||u.value.val3==0&&m().checkPermissions(["trp_trx.val3"])||u.value.val4==0&&m().checkPermissions(["trp_trx.val4"])||u.value.val5==0&&m().checkPermissions(["trp_trx.val5"])||u.value.val6==0&&m().checkPermissions(["trp_trx.val6"]))),ze=q(()=>o.value>-1&&[void 0,0].indexOf(u.value.deleted)>-1&&[void 0,0].indexOf(u.value.req_deleted)>-1&&(u.value.val1==1&&m().checkPermissions(["trp_trx.unval1"])||u.value.val2==1&&m().checkPermissions(["trp_trx.unval2"])||u.value.val3==1&&m().checkPermissions(["trp_trx.unval3"])||u.value.val4==1&&m().checkPermissions(["trp_trx.unval4"])||u.value.val5==1&&m().checkPermissions(["trp_trx.unval5"])||u.value.val6==1&&m().checkPermissions(["trp_trx.unval6"]))),Ye=q(()=>o.value>-1&&[void 0,0].indexOf(u.value.deleted)>-1&&[void 0,0].indexOf(u.value.req_deleted)>-1&&[void 0,""].indexOf(u.value.pvr_id)>-1&&m().checkPermission("trp_trx.remove")),Le=q(()=>o.value>-1&&[void 0,0].indexOf(u.value.deleted)>-1&&[void 0,0].indexOf(u.value.req_deleted)>-1&&u.value.pvr_id!=""&&m().checkPermission("trp_trx.request_remove")),He=q(()=>o.value>-1&&u.value.val==1&&m().checkPermission("trp_trx.preview_file")),Ge=q(()=>o.value>-1&&u.value.payment_method_id==2&&u.value.received_payment==1&&m().checkPermission("trp_trx.preview_file")),{downloadFile:Je,viewFile:Jt}=xe(),We=async()=>{_e(),p().loading_full=!0;const{data:e,error:t,status:v}=await A("/trx_trp/report_raw_excel",{method:"get",headers:{Authorization:`Bearer ${P.value}`,Accept:"application/json"},params:b,retry:0});if(p().loading_full=!1,v.value==="error"){$().trigger(t);return}Je(e.value)};return(e,t)=>{const v=nt,C=rt,l=ot,w=st,n=it,Ze=ut,K=_t,Qe=dt,be=pt,Xe=vt,j=ct,U=mt,et=ft,te=yt,tt=kt,at=bt,lt=gt;return i(),g("div",Tt,[f(v,{title:"List Transaction"}),h("div",qt,[h("div",Ot,[h("div",St,[h("div",jt,[le(h("select",{class:"","onUpdate:modelValue":t[0]||(t[0]=a=>ne(O)?O.value=a:null)},Nt,512),[[Dt,r(O)]])]),r(Ve)?(i(),g("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[1]||(t[1]=a=>Pe())},[f(C)])):x("",!0),h("button",{type:"button",name:"button",class:"m-1 text-2xl flex items-center",onClick:t[2]||(t[2]=a=>We())},[f(l),y(),Mt]),r(Re)?(i(),g("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[3]||(t[3]=a=>Ae())},[f(w)])):x("",!0),r(Ye)?(i(),g("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[4]||(t[4]=a=>Oe())},[f(n)])):x("",!0),r(Le)?(i(),g("button",{key:3,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[5]||(t[5]=a=>Ue())},[f(Ze)])):x("",!0),r(Ke)?(i(),g("button",{key:4,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[6]||(t[6]=a=>Ce())},[f(K)])):x("",!0),r(ze)?(i(),g("button",{key:5,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[7]||(t[7]=a=>$e())},[f(Qe)])):x("",!0),r(He)?(i(),g("button",{key:6,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[8]||(t[8]=a=>Be())},[f(be)])):x("",!0),r(Ge)?(i(),g("button",{key:7,type:"button",name:"button",class:"m-1 text-2xl",onClick:t[9]||(t[9]=a=>Ie())},[f(be)])):x("",!0),r(ee).length>0&&("useUtils"in e?e.useUtils:r(m))().checkPermissions(["trp_trx.val","trp_trx.val1","trp_trx.val2","trp_trx.val3","trp_trx.val4","trp_trx.val5","trp_trx.val6"])?(i(),g("button",{key:8,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap grid grid-cols-2",onClick:t[10]||(t[10]=a=>L.value=!0)},[f(K),f(K),f(K),f(K)])):x("",!0)]),h("div",Bt,[("useUtils"in e?e.useUtils:r(m))().checkPermission("trp_trx.generate_pvr")?(i(),g("button",{key:0,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:t[11]||(t[11]=a=>Fe())}," Gen/Update PVR ")):x("",!0),("useUtils"in e?e.useUtils:r(m))().checkPermission("trp_trx.generate_pv")?(i(),g("button",{key:1,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:t[12]||(t[12]=a=>Ee())}," Gen/Update PV ")):x("",!0),("useUtils"in e?e.useUtils:r(m))().checkPermissions(["trp_trx.generate_pvr","trp_trx.generate_pv","trp_trx.get_pv"])?(i(),g("div",{key:2,class:"m-1 card-border cursor-pointer",onClick:t[13]||(t[13]=a=>N.value=!r(N))},[It,y(" : "),h("span",{class:Pt(["font-bold",r(N)?"text-green-600":"text-red-600"])},D(r(N)?"ONLINE":"OFFLINE"),3)])):x("",!0)])]),f(et,{thead:r(ke),selected:r(o),onSetSelected:t[14]||(t[14]=a=>o.value=a),tbody:r(s),fnCallData:de,scrolling:r(T),onSetScrollingPage:t[15]||(t[15]=a=>r(T).page=a),onDoFilter:t[16]||(t[16]=a=>pe()),onSetCheckbox:t[17]||(t[17]=a=>ee.value=a),deep_state:r(se)},{id:c(({item:a})=>[y(D(a.id),1),a.potongan&&a.potongan.length>0?(i(),g("span",Ft,"*")):x("",!0)]),absen:c(({item:a,index:d})=>[a.trx_absens&&a.trx_absens.length>0?(i(),k(Xe,{key:0,class:"cursor-pointer",onClick:Wt=>Te(d)},null,8,["onClick"])):x("",!0)]),val:c(({item:a})=>[a.val?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),val1:c(({item:a})=>[h("div",Et,[a.val1?(i(),k(U,{key:1})):(i(),k(j,{key:0})),a.absen_not_done&&a.absen_not_done.length>0?(i(),g("div",Vt,D(a.absen_not_done.join(",")),1)):x("",!0)])]),val2:c(({item:a})=>[a.val2?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),val3:c(({item:a})=>[a.val3?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),val4:c(({item:a})=>[a.val4?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),val5:c(({item:a})=>[a.val5?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),val6:c(({item:a})=>[a.val6?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),uj_xto:c(({item:a})=>{var d;return[y(D((d=a.uj)==null?void 0:d.xto),1)]}),uj_asst_opt:c(({item:a})=>{var d;return[y(D((d=a.uj)==null?void 0:d.asst_opt),1)]}),uj_tipe:c(({item:a})=>{var d;return[y(D((d=a.uj)==null?void 0:d.tipe),1)]}),uj_harga:c(({item:a})=>{var d;return[y(D(r(he)((d=a.uj)==null?void 0:d.harga)),1)]}),payment_method_name:c(({item:a})=>{var d;return[y(D((d=a.payment_method)==null?void 0:d.name),1)]}),received_payment:c(({item:a})=>[y(D(a.received_payment?"Ya":"Tidak"),1)]),pvr_had_detail:c(({item:a})=>[a.pvr_had_detail?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),pv_complete:c(({item:a})=>[a.pv_complete?(i(),k(U,{key:1})):(i(),k(j,{key:0}))]),deleted_by_username:c(({item:a})=>{var d;return[y(D((d=a.deleted_by)==null?void 0:d.username),1)]}),req_deleted_by_username:c(({item:a})=>{var d;return[y(D((d=a.req_deleted_by)==null?void 0:d.username),1)]}),supir:c(({item:a})=>[y(D(a.supir)+" ",1),a.potongan&&a.potongan.length>0&&a.potongan.map(d=>d.potongan_mst.employee_id).indexOf(a.supir_id)>-1?(i(),g("span",Rt," * ")):x("",!0)]),kernet:c(({item:a})=>[y(D(a.kernet)+" ",1),a.potongan&&a.potongan.length>0&&a.potongan.map(d=>d.potongan_mst.employee_id).indexOf(a.kernet_id)>-1?(i(),g("span",Kt," * ")):x("",!0)]),_:2},1032,["thead","selected","tbody","scrolling","deep_state"])]),f(te,{type:"delete",show:r(V),data:r(me),fnClose:qe,fnConfirm:Se,enabledOk:r(Q)},{footer:c(()=>[y(" Masukkan Alasan Penghapusan: "),h("div",zt,[le(h("textarea",{"onUpdate:modelValue":t[18]||(t[18]=a=>ne(M)?M.value=a:null)},null,512),[[ge,r(M)]])])]),_:1},8,["show","data","enabledOk"]),f(te,{type:"custome",show:r(L),fnClose:()=>L.value=!1,fnConfirm:Me},{words:c(()=>[y(" Ticket akan "),Yt,y(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),f(te,{type:"custome",show:r(R),data:r(fe),fnClose:je,fnConfirm:Ne,enabledOk:r(X)},{words:c(()=>[y(" Data akan diproses dan "),Lt,y(", yakin untuk melanjutkan ? ")]),footer:c(()=>[y(" Masukkan Alasan Permintaan Penghapusan: "),h("div",Ht,[le(h("textarea",{"onUpdate:modelValue":t[19]||(t[19]=a=>ne(B)?B.value=a:null)},null,512),[[ge,r(B)]])])]),_:1},8,["show","data","enabledOk"]),f(tt,{show:r(W),fnClose:()=>{W.value=!1},fnLoadDBData:De,id:r(ve),p_data:r(s),list_cost_center:r(ue),online_status:r(N)},null,8,["show","fnClose","id","p_data","list_cost_center","online_status"]),f(at,{show:r(F),fnClose:()=>{F.value=!1},id:r(E),p_data:r(s),it_state:r(I),onSetID:t[20]||(t[20]=a=>E.value=a),onSetIndex:t[21]||(t[21]=a=>o.value=a)},null,8,["show","fnClose","id","p_data","it_state"]),f(lt,{show:r(Z),fnClose:()=>{Z.value=!1},index:r(ce),p_data:r(s)},null,8,["show","fnClose","index","p_data"])])}}};export{Ma as default};
