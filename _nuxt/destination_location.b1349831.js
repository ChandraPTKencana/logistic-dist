import{_ as I}from"./HeaderPopup.vue.1bf79ead.js";import{_ as C}from"./InputPointFormat.vue.92cf0f6b.js";import{r as v,g as T,f as $,k as b,L as A,o as D,c as N,a as t,b as p,l as o,A as q,t as d,D as F,x as f,y as h,p as j,e as M}from"./entry.050cce63.js";import{u as y}from"./useMyFetch.2cc780a9.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";import"./Times.2788dd5e.js";const c=u=>(j("data-v-bc2c6525"),u=u(),M(),u),V={class:"box-fixed"},z={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},E={class:"w-full flex flex-col items-center grow overflow-auto"},K={class:"w-full flex flex-row flex-wrap"},U={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},H=c(()=>t("label",{for:""},"Tujuan",-1)),L={class:"text-red-500"},O={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},G=c(()=>t("label",{for:""},"Min Trip",-1)),J={class:"w-full"},Q={class:"text-red-500"},R={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},W=c(()=>t("label",{for:""},"Bonus Trip Supir",-1)),X={class:"w-full"},Y={class:"text-red-500"},Z={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},tt=c(()=>t("label",{for:""},"Bonus Next Trip Supir",-1)),et={class:"w-full"},st={class:"text-red-500"},ot={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},lt=c(()=>t("label",{for:""},"Bonus Trip Kernet",-1)),nt={class:"w-full"},it={class:"text-red-500"},at={class:"w-6/12 sm:w-4/12 md:w-4/12 lg:w-3/12 flex flex-col flex-wrap p-1"},rt=c(()=>t("label",{for:""},"Bonus Next Trip Kernet",-1)),ut={class:"w-full"},_t={class:"text-red-500"},pt={class:"w-full flex items-center justify-end"},dt={__name:"destination_location",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},is_copy:{type:[Boolean,Number],required:!0,default:!1}},setup(u){const a=u,x={id:-1,xto:"",minimal_trip:1,bonus_trip_supir:0,bonus_next_trip_supir:0,bonus_trip_kernet:0,bonus_next_trip_kernet:0},e=v({...x}),m=T("token"),r=v({}),g=async()=>{f().loading_full=!0,r.value={};const n=new FormData;n.append("xto",e.value.xto),n.append("minimal_trip",e.value.minimal_trip),n.append("bonus_trip_supir",e.value.bonus_trip_supir),n.append("bonus_next_trip_supir",e.value.bonus_next_trip_supir),n.append("bonus_trip_kernet",e.value.bonus_trip_kernet),n.append("bonus_next_trip_kernet",e.value.bonus_next_trip_kernet);let s="post",_=a.is_copy?0:a.id;_==0||(n.append("id",_),n.append("_method","PUT"));const{data:i,error:l,status:B}=await y("/destination_location",{method:s,headers:{Authorization:`Bearer ${m.value}`,Accept:"application/json"},body:n,retry:0});if(f().loading_full=!1,B.value==="error"){h().trigger(l,r);return}if(e.value.updated_at=i.value.updated_at,_<=0)e.value.id=i.value.id,e.value.created_at=i.value.created_at,a.p_data.unshift(e.value);else{let w=a.p_data.map(S=>S.id).indexOf(a.id);w>-1&&a.p_data.splice(w,1,{...e.value})}a.fnClose()},k=async()=>{f().loading_full=!0;const{data:n,error:s,status:_}=await y("/destination_location",{method:"get",headers:{Authorization:`Bearer ${m.value}`,Accept:"application/json"},params:{id:a.id},retry:0});if(f().loading_full=!1,_.value==="error"){h().trigger(s);return}let i=n.value.data;e.value=i,{...i}};return $(()=>a.show,async(n,s)=>{n==!0&&(e.value={...x},r.value={},a.id!=0&&k())},{immediate:!0}),(n,s)=>{const _=I,i=C;return b((D(),N("section",V,[t("div",null,[p(_,{title:"Form Transaction",fn:u.fnClose,class:"w-full flex align-items-center",style:{color:"white"}},null,8,["fn"]),t("form",z,[t("div",E,[t("div",K,[t("div",U,[H,b(t("input",{type:"text",list:"xto","onUpdate:modelValue":s[0]||(s[0]=l=>o(e).xto=l)},null,512),[[q,o(e).xto]]),t("p",L,d(o(r).xto),1)]),t("div",O,[G,t("div",J,[p(i,{class:"w-full h-full p-1",type:"text",value:o(e).minimal_trip||0,onInput:s[1]||(s[1]=l=>o(e).minimal_trip=l)},null,8,["value"])]),t("p",Q,d(o(r).minimal_trip),1)]),t("div",R,[W,t("div",X,[p(i,{class:"w-full h-full p-1",type:"text",value:o(e).bonus_trip_supir||0,onInput:s[2]||(s[2]=l=>o(e).bonus_trip_supir=l)},null,8,["value"])]),t("p",Y,d(o(r).bonus_trip_supir),1)]),t("div",Z,[tt,t("div",et,[p(i,{class:"w-full h-full p-1",type:"text",value:o(e).bonus_next_trip_supir||0,onInput:s[3]||(s[3]=l=>o(e).bonus_next_trip_supir=l)},null,8,["value"])]),t("p",st,d(o(r).bonus_next_trip_supir),1)]),t("div",ot,[lt,t("div",nt,[p(i,{class:"w-full h-full p-1",type:"text",value:o(e).bonus_trip_kernet||0,onInput:s[4]||(s[4]=l=>o(e).bonus_trip_kernet=l)},null,8,["value"])]),t("p",it,d(o(r).bonus_trip_kernet),1)]),t("div",at,[rt,t("div",ut,[p(i,{class:"w-full h-full p-1",type:"text",value:o(e).bonus_next_trip_kernet||0,onInput:s[5]||(s[5]=l=>o(e).bonus_next_trip_kernet=l)},null,8,["value"])]),t("p",_t,d(o(r).bonus_next_trip_kernet),1)])])]),t("div",pt,[t("button",{type:"button",name:"button",class:"w-36 m-1",onClick:s[6]||(s[6]=l=>u.fnClose())}," Cancel "),t("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:s[7]||(s[7]=F(l=>g(),["prevent"]))}," Save ")])])])],512)),[[A,u.show]])}}},bt=P(dt,[["__scopeId","data-v-bc2c6525"]]);export{bt as default};
