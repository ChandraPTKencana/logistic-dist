import{_ as Je}from"./Header.b03d5feb.js";import{_ as Le}from"./Plus.f52c1e57.js";import{_ as Ye}from"./Edit.2d3041e1.js";import{_ as Ue}from"./Delete.b82a1dc8.js";import{_ as Re}from"./Signature.cc1991d1.js";import{u as qe,_ as Ke,a as Ge}from"./useDownload.fca279bc.js";import{_ as Qe}from"./client-only.6ef02068.js";import{u as Ze,_ as We}from"./useUtils.7ca3b3e7.js";import{_ as Xe,a as et}from"./Check.ccf8989e.js";import{_ as $e}from"./_plugin-vue_export-helper.c27b6911.js";import{o as c,c as v,a as s,r as _,g as _e,b as f,k as i,F as P,n as W,q as R,t as F,G as q,h as X,v as ge,N as L,w as I,O as tt,d as pe,P as lt,p as ot,e as st,f as ke,D as at,B as nt,H as we,I as it,J as rt,j as dt,i as ut,l as xe,m as ct,E as _t,x as D,y as z,Q as pt,s as ft}from"./entry.054db7f5.js";import{_ as De}from"./Times.fdf0a0f0.js";import{_ as vt}from"./PopupMini.vue.1c5805f7.js";import{_ as ht,a as mt}from"./trx_trp_validasi.752be043.js";import{u as J}from"./useMyFetch.78e0c36c.js";import"./HeaderPopup.vue.5f790eee.js";import"./InputPointFormat.vue.f3cf70d3.js";const bt={name:"MdiTableHeadersEye"},yt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},gt=s("path",{fill:"currentColor",d:"M1 6v13a2 2 0 0 0 2 2h6V11h12V6a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2m2 0h4v3H3m4 10H3v-3h4m0-2H3v-3h4m2-2V6h4v3m6 0h-4V6h4m-2 10a1 1 0 1 1-1 1a1 1 0 0 1 1-1m0-3a6.45 6.45 0 0 1 6 4a6.5 6.5 0 0 1-12 0a6.45 6.45 0 0 1 6-4m0 1.5a2.5 2.5 0 1 0 2.5 2.5a2.5 2.5 0 0 0-2.5-2.5"},null,-1),kt=[gt];function wt(V,B,S,j,b,N){return c(),v("svg",yt,kt)}const xt=$e(bt,[["render",wt]]);const $t=V=>(ot("data-v-507af495"),V=V(),st(),V),Dt={class:"w-full flex justify-center items-center grow h-0 pb-1 px-1 flex-col"},Ct={class:"w-full flex justify-end"},St={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},Tt={class:"relative",style:{width:"95%",height:"90%"}},Mt={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},Vt={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},jt=$t(()=>s("div",{class:"w-full text-blue-600 font-bold grid-"}," Set Show Column Field ",-1)),At={class:"w-full flex flex-wrap overflow-auto"},Nt=["onClick"],Ot={class:"w-full flex justify-end"},Pt={class:"w-full flex justify-center items-center grow h-0 text-sm"},It={key:0,class:""},Et={class:"tacky"},Ft={class:"sticky top-0 !z-[2]"},Bt=["rowspan","colspan"],Ht=["onClick"],zt={__name:"TableView",props:{title:{type:String,required:!1,default:"Header Info"},thead:{type:Array,required:!0,default:[]},tbody:{type:Array,required:!1,default:[]},selected:{type:Number,required:!1,default:-1},scrolling:{type:Object,required:!1,default:{page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}},fnCallData:{type:Function,required:!0}},emits:["setSelected","setScrollingPage"],setup(V,{emit:B}){const S=V,j=_([]),b=_([]);let N=[],x=1;const A=(o,t="",e=[])=>{o.forEach((n,a)=>{if(n.tbl_show==1&&(t&&(n.dChild=t,n.parentIdx=e),N.push(n),n.childs!=null&&n.childs.length>0)){let u=n.key;e=[a],t&&(u=t+","+u,e.push(a)),x=x>=u.split(",").length+1?x:u.split(",").length+1,A(n.childs,u,e)}})},ee=(o,t=[])=>{o.forEach((e,n)=>{t.length>0&&(e.parentIdx=[...t]),e.childs==null||e.childs.length==0?j.value.push(e):(t.length>0?t.push(n):t=[n],ee(e.childs,t))}),t.pop()},te=o=>{let t=JSON.parse(JSON.stringify(o)),e=JSON.parse(JSON.stringify(o));b.value.push(e.map(a=>(a.tbl_show==null&&(a.tbl_show=1),a.permit==null&&(a.permit=1),a.freeze==null&&(a.freeze=0),delete a.childs,a)));let n=[];if(t.filter(a=>a.childs!=null&&a.childs.length>0).forEach(a=>{let u=JSON.parse(JSON.stringify(a.childs));n=n.concat(u)}),n.length>0)return te(n)};let Y=0;const h=o=>{let t=o.map(e=>e.key);return N.every(e=>{if(e.tbl_show==1){let n=e.childs==null?[]:e.childs.filter(a=>a.tbl_show==1);if(Y=n.length>0&&e.tbl_show==1?n.length:1,G(e.childs),e.dChild==null){let a=t.indexOf(e.key);a>-1&&((e.childs==null||e.childs.length==0)&&(o[a].rowspan=x),e.childs!=null&&e.childs.length>0&&(o[a].rowspan=1),o[a].colspan=Y)}else{let a=e.dChild.split(","),u=K(o,a,1,e);e.childs==null||e.childs.length==0?u.rowspan=x-e.dChild.split(",").length:u.rowspan=1,u.colspan=Y}}return!0}),o},K=(o,t=[],e,n)=>{if(t.length==0){let a=o.childs.map(u=>u.key).indexOf(n.key);return o.childs[a]}if(t.length>0){let a=o;e==0&&(a=o.childs);let u=a.map(p=>p.key).indexOf(t[0]);if(u==-1){console.error("ID not found");return}return t.shift(),K(a[u],t,0,n)}},G=o=>{(o==null?[]:o.filter(e=>e.tbl_show==1)).length>0&&o.forEach(e=>{let n=e.childs==null?[]:e.childs.filter(a=>a.tbl_show==1);n.length>0&&e.tbl_show==1&&(Y+=n.length-1,G(e.childs))})},C=_([]),Q=(o,t=[])=>{o.forEach((e,n)=>{e.permit!=null&&e.permit==0?o.splice(n,1):(e.permit==null&&(e.permit=1),e.tbl_show==null&&(e.tbl_show=1),e.freeze==null&&(e.freeze=0),o.splice(n,1,e),e.childs!=null&&e.childs.length>0&&(t.push(e),Q(e.childs,t)))}),t.reverse(),t.forEach((e,n)=>{e.childs.filter(u=>u.tbl_show==1).length==0?e.tbl_show=0:e.tbl_show=1}),t.reverse(),t.shift()},M=(o,t=[])=>{o.forEach((e,n)=>{e.childs!=null&&e.childs.length>0&&(t.push(e),M(e.childs,t))}),t.reverse(),t.forEach((e,n)=>{e.childs.filter(u=>u.tbl_show==1).length==0?e.tbl_show=0:e.tbl_show=1}),t.reverse(),t.shift()};_e(()=>S.thead,(o,t)=>{C.value=JSON.parse(JSON.stringify(o)),Q(C.value)},{deep:!0,immediate:!0}),_e(()=>C.value,(o,t)=>{N=[],b.value=[],j.value=[],M(o),A(JSON.parse(JSON.stringify(o)));let e=h(JSON.parse(JSON.stringify(o)));ee(e),te(e)},{deep:!0,immediate:!0});const{pointFormat:ie}=Ze(),m=(o,t="")=>t=="default"?o:o==parseFloat(o)?ie(o):o,T=_(null),y=async()=>{if(!S.scrolling.may_get_data)return;let o=T.value;if(o.scrollLeft!=S.scrolling.scrollLeft){S.scrolling.scrollLeft=o.scrollLeft;return}if(S.scrolling.is_last_record||!(Math.round(o.scrollTop)+o.clientHeight>=o.scrollHeight-1))return;let e=S.scrolling.page+1;B("setScrollingPage",e),await S.fnCallData()},k=_(!1),re=o=>{let t=o.label;if(o.parentIdx!=null&&o.parentIdx.length>0){let e="",n=[];o.parentIdx.forEach((a,u)=>{u==0?e=C.value[a]:e=e.childs[a],n.push(e.label)}),t=n.join(" ")+" "+t}return t},le=o=>{if(o.parentIdx!=null&&o.parentIdx.length>0){let t="";o.parentIdx.forEach((n,a)=>{a==0?t=C.value[n]:t=t.childs[n]});let e=t.childs.map(n=>n.key).indexOf(o.key);e!=-1&&(t.childs[e].tbl_show=!t.childs[e].tbl_show)}else{let t=C.value.map(e=>e.key).indexOf(o.key);t!=-1&&(C.value[t].tbl_show=!C.value[t].tbl_show)}},oe=o=>{let t=JSON.parse(JSON.stringify(C.value));o=="select"?E(t,1):E(t,0),C.value=t},E=(o,t)=>{o.forEach(e=>{e.tbl_show=t,e.childs!==void 0&&e.childs.length>0&&E(e.childs,t)})};return _e(()=>S.scrolling.page,(o,t)=>{o==1&&T.value&&(T.value.scrollTop=0)},{deep:!0,immediate:!0}),(o,t)=>{const e=xt,n=De;return c(),v("div",Dt,[s("div",Ct,[s("button",{type:"button",name:"button",class:"m-1 text-xs",onClick:t[0]||(t[0]=a=>k.value=!0)},[f(e)])]),i(k)?(c(),v("div",St,[s("div",Tt,[s("div",Mt,[f(n,{style:{color:"black",cursor:"pointer"},onClick:t[1]||(t[1]=a=>k.value=!1)})]),s("div",Vt,[jt,s("div",At,[(c(!0),v(P,null,W(i(j),(a,u)=>(c(),v("div",{class:R(["p-2 m-1 font-bold cursor-pointer",a.tbl_show==1?"bg-green-600 text-white":"bg-gray-400 text-black"]),onClick:p=>le(a)},F(re(a)),11,Nt))),256))]),s("div",Ot,[s("button",{class:"bg-white font-bold mr-2",onClick:t[2]||(t[2]=a=>oe("select"))}," Select All "),s("button",{class:"bg-white font-bold",onClick:t[3]||(t[3]=a=>oe("invert"))}," Invert All ")])]),s("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:t[4]||(t[4]=a=>k.value=!1)})])])):q("",!0),s("div",Pt,[V.tbody.length==0?(c(),v("div",It," Maaf Tidak Ada Record ")):(c(),v("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:T,onScroll:y},[s("table",Et,[s("thead",Ft,[(c(!0),v(P,null,W(i(b),(a,u)=>(c(),v("tr",null,[(c(!0),v(P,null,W(a,p=>(c(),v(P,null,[p.permit?X((c(),v("th",{key:0,rowspan:p.rowspan,colspan:p.colspan,class:R(p.freeze==1?"freeze":"")},F(p.label),11,Bt)),[[ge,p.tbl_show]]):q("",!0)],64))),256))]))),256))]),s("tbody",null,[(c(!0),v(P,null,W(V.tbody,(a,u)=>(c(),v("tr",{key:u,onClick:p=>o.$emit("setSelected",u),class:R(V.selected==u?"active":"")},[(c(!0),v(P,null,W(i(j),p=>(c(),v(P,null,[p.permit?X((c(),L(lt(p.freeze==0?"td":"th"),{key:0,class:"my-list"},{default:I(()=>[s("div",{class:R(["flex items-center",p.class?p.class:"justify-center"])},[tt(o.$slots,p.key,{item:a},()=>[p.dateformat?(c(),v(P,{key:0},[pe(F(a[p.key]?o.$moment(a[p.key]).format(p.dateformat):""),1)],64)):(c(),v(P,{key:1},[pe(F(a[p.key]?m(a[p.key],p.type):""),1)],64))],!0)],2)]),_:2},1536)),[[ge,p.tbl_show]]):q("",!0)],64))),256))],10,Ht))),128))])])],544))])])}}},Jt=$e(zt,[["__scopeId","data-v-507af495"]]),Lt={class:"w-full h-full flex flex-col"},Yt={class:"w-full flex grow flex-col overflow-auto h-0"},Ut={class:"w-full flex justify-between"},Rt={class:"grow flex"},qt={class:"flex"},Kt=s("span",{class:"text-xs"},"Mode",-1),Gt={action:"#",class:"w-full flex p-1"},Qt=s("div",{class:"font-bold"}," Tgl Dari ",-1),Zt={class:"text-red-500"},Wt=s("div",{class:"font-bold"}," Tgl Sampai ",-1),Xt={class:"text-red-500"},el={class:"grow"},tl=s("div",{class:"font-bold"}," Keyword ",-1),ll={class:"pl-1"},ol=s("div",{class:"font-bold"}," Sort By ",-1),sl=pt('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),al=[sl],nl={class:"pl-1"},il=s("div",{class:"font-bold"}," Sort Order ",-1),rl=s("option",{value:"asc"},"Asc",-1),dl=s("option",{value:"desc"},"Desc",-1),ul=[rl,dl],cl={class:"flex items-end pl-1"},_l={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},pl={class:"relative",style:{width:"95%",height:"90%"}},fl={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},vl=["src"],hl={key:1,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},ml={class:"relative",style:{width:"95%",height:"90%"}},bl={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},yl={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},gl={class:"w-full p-1"},kl={class:"w-full p-1 bg-gray-200"},wl=s("div",{class:"w-full text-blue-600 font-bold"}," Set Date For Load Data ",-1),xl={class:"w-full grid grid-cols-2 grid-rows-1 gap-1"},$l={class:"flex flex-col flex-wrap p-1"},Dl=s("label",{for:""},"From",-1),Cl={class:"grow"},Sl={class:"flex flex-col flex-wrap p-1"},Tl=s("label",{for:""},"To",-1),Ml={class:"grow"},ql={__name:"index",async setup(V){let B,S;const{$moment:j}=ft(),b={};b._TimeZoneOffset=new Date().getTimezoneOffset(),b.sort="tanggal:desc";const N=_({}),x=_({from:"",to:""}),A=ke("token"),ee=ke("role"),te=d=>d.includes(ee.value),{data:Y}=([B,S]=at(async()=>_t(async()=>{D().loading_full=!0;let d=[];const[l,$]=await Promise.all([J("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},retry:0})]);return l.status.value!=="error"&&(d=l.data.value.data),l.status.value==="error"?(z().trigger(l.error),{trx_trps:d}):(D().loading_full=!1,{trx_trps:d})},"$pFLmKcrKj9")),B=await B,S(),B),h=_(Y.value.trx_trps||[]),K=_([]),G=_([]),C=_([]),Q=_([]),M=_(!1),ie=async(d,l="")=>{D().loading_full=!0;let $=g.value.from?j(g.value.from).format("Y-MM-DD"):"",O=g.value.to?j(g.value.to).format("Y-MM-DD"):"";const{data:w,error:U,status:H}=await J("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:{jenis:d,online_status:M.value,from:$,to:O,transition_to:l},retry:0});if(D().loading_full=!1,H.value==="error"){z().trigger(U);return}K.value=w.value.list_ujalan,G.value=w.value.list_cost_center,C.value=w.value.list_ticket,Q.value=w.value.list_pv},m=_(""),T=_({field:"tanggal",by:"desc"}),y=_(-1),k=_({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),re=()=>{b.like="",m.value!=""&&(b.like=`id:%${m.value}%,xto:%${m.value}%,jenis:%${m.value}%,pv_no:%${m.value}%,ticket_a_no:%${m.value}%,ticket_b_no:%${m.value}%,no_pol:%${m.value}%,supir:%${m.value}%,kernet:%${m.value}%,cost_center_code:%${m.value}%,cost_center_desc:%${m.value}%,pvr_id:%${m.value}%,pvr_no:%${m.value}%,tanggal:%${m.value}%,transition_to:%${m.value}%`),b.sort="",T.value.field&&(b.sort=T.value.field+":"+T.value.by),b.date_from=x.value.from?j(x.value.from).format("YYYY-MM-DD"):"",b.date_to=x.value.to?j(x.value.to).format("YYYY-MM-DD"):""},le=async()=>{D().loading_full=!0,N.value={},k.value.may_get_data=!1,b.page=k.value.page,b.page==1&&(h.value=[]),b.first_row&&delete b.first_row,b.page>1&&(b.first_row=JSON.stringify(h.value[0]));const{data:d,error:l,status:$}=await J("/trx_trps",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:b,retry:0});if(D().loading_full=!1,k.value.may_get_data=!0,$.value==="error"){z().trigger(l,N);return}k.value.page==1?h.value=d.value.data:k.value.page>1&&(h.value=[...h.value,...d.value.data]),d.value.data.length==0&&(k.value.is_last_record=!0)},oe=()=>{k.value.page=1,k.value.is_last_record=!1,re(),le()};nt();const E=_(!1),o=_(0),t=()=>{o.value=0,E.value=!0},{display:e}=we();it(we());const n=()=>{y.value==-1?e({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(o.value=h.value[y.value].id,E.value=!0)},a=_(!1),u=_(0),p=()=>{y.value==-1?e({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(u.value=h.value[y.value].id,a.value=!0)},fe=_({}),Z=_(!1),Ce=async()=>{Z.value&&(Z.value=!1)},Se=()=>{y.value==-1?e({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(fe.value={id:h.value[y.value].id},Z.value=!0)},Te=async()=>{D().loading_full=!0;const d=new FormData;d.append("id",h.value[y.value].id),d.append("_method","DELETE");const{data:l,error:$,status:O}=await J("/trx_trp",{method:"post",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:d,retry:0});if(D().loading_full=!1,O.value==="error"){z().trigger($);return}h.value.splice(y.value,1),y.value=-1,Z.value=!1},{downloadFile:Me,printHtml:Ve}=qe(),de=_(!1),ve=_(""),he=async()=>{if(de.value==!0){de.value=!1;return}if(y.value==-1){e({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"});return}D().loading_full=!0;const{data:d,error:l,status:$}=await J("/trx_trp_preview_file",{method:"get",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},params:{id:h.value[y.value].id},retry:0});if(D().loading_full=!1,$.value==="error"){z().trigger(l);return}Ve(d.value.html,318)},je=()=>{Me(ve.value)},me=d=>d.pv_id<=0||["CPO","PK"].indexOf(d.jenis)>-1&&(d.ticket_a_id<=0||d.ticket_b_bruto<=0||d.ticket_b_tara<=0||d.ticket_b_netto<=0||d.ticket_b_in_at==""||d.ticket_b_out_at=="")||d.jenis=="TBS"&&(d.ticket_a_id<=0||d.ticket_b_id<=0)||d.jenis=="TBSK"&&d.ticket_b_id<=0?0:1,se=_(!1),g=_({from:new Date().setDate(new Date().getDate()-3),to:new Date}),be=d=>{d=="from"?g.value.from-g.value.to>0&&(g.value.from=g.value.to):g.value.to-g.value.from<0&&(g.value.to=g.value.from)},Ae=async()=>{D().loading_full=!0;const d=new FormData;d.append("id",h.value[y.value].id),d.append("online_status",M.value);const{data:l,error:$,status:O}=await J("/trx_trp_do_gen_pvr",{method:"post",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:d,retry:0});if(D().loading_full=!1,O.value==="error"){z().trigger($);return}let w=h.value[y.value];w.pvr_id=l.value.pvr_id,w.pvr_no=l.value.pvr_no,w.pvr_total=l.value.pvr_total,w.pvr_had_detail=l.value.pvr_had_detail,w.updated_at=l.value.updated_at,h.value.splice(y.value,1,{...w}),y.value=-1,e({show:!0,status:"Success",message:"Generate Or Update PVR Done"})},Ne=async()=>{D().loading_full=!0;const d=new FormData;d.append("online_status",M.value);const{data:l,error:$,status:O}=await J("/trx_trp_do_update_pv",{method:"post",headers:{Authorization:`Bearer ${A.value}`,Accept:"application/json"},body:d,retry:0});if(D().loading_full=!1,O.value==="error"){z().trigger($);return}l.value.data.forEach(w=>{let U=h.value.map(H=>H.id).indexOf(w.id);if(U!==-1){let H={pv_id:l.value.pv_id,pv_no:l.value.pv_no,pv_total:l.value.pv_total,updated_at:l.value.updated_at};h.value.splice(U,1,{...H})}}),e({show:!0,status:"Success",message:"Update PV Done"})},Oe=_([{key:"status",label:"Status"},{key:"app1",label:"App 1"},{key:"app2",label:"App 2"},{key:"id",label:"ID"},{key:"tanggal",label:"U.Jalan Per",dateformat:"DD-MM-Y"},{key:"no_pol",label:"No Pol"},{key:"xto",label:"Tujuan"},{key:"tipe",label:"Tipe"},{key:"jenis",label:"Jenis"},{key:"amount",label:"Amount",class:" justify-end"},{key:"cost_center",label:"Cost Center",childs:[{key:"cost_center_code",label:"Code",type:"default",class:" justify-start"},{key:"cost_center_desc",label:"Desc"}]},{key:"pvr",label:"PVR",childs:[{key:"pvr_no",label:"No"},{key:"pvr_total",label:"Total"},{key:"pvr_completed",label:"Completed"}]},{key:"pv",label:"PV",childs:[{key:"pv_no",label:"No"},{key:"pv_total",label:"Total"}]},{key:"transition_to",label:"Peralihan"},{key:"ticket_a",label:"Ticket A",childs:[{key:"ticket_a_no",label:"No"},{key:"ticket_a_bruto",label:"Bruto"},{key:"ticket_a_tara",label:"Tara"},{key:"ticket_a_netto",label:"Netto"},{key:"ticket_a_supir",label:"Supir"},{key:"ticket_a_no_pol",label:"No Pol"},{key:"ticket_a_in_at",label:"In At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"ticket_a_out_at",label:"Out At",dateformat:"DD-MM-Y HH:mm:ss"}]},{key:"ticket_b",label:"Ticket B",childs:[{key:"ticket_b_no",label:"No"},{key:"ticket_b_bruto",label:"Bruto"},{key:"ticket_b_tara",label:"Tara"},{key:"ticket_b_netto",label:"Netto"},{key:"ticket_b_supir",label:"Supir"},{key:"ticket_b_no_pol",label:"No Pol"},{key:"ticket_b_in_at",label:"In At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"ticket_b_out_at",label:"Out At",dateformat:"DD-MM-Y HH:mm:ss"}]},{key:"supir",label:"Supir"},{key:"kernet",label:"Kernet"},{key:"created_at",label:"Created At",dateformat:"DD-MM-Y HH:mm:ss"},{key:"updated_at",label:"Updated At",dateformat:"DD-MM-Y HH:mm:ss"}]);return(d,l)=>{const $=Je,O=Le,w=Ye,U=Ue,H=Re,Pe=Ke,Ie=Ge,ae=rt("vue-date-picker"),ne=Qe,Ee=We,ue=Xe,ce=et,Fe=Jt,Be=vt,He=ht,ze=mt,ye=De;return c(),v("div",Lt,[f($,{title:"List Transaction"}),s("div",Yt,[s("div",Ut,[s("div",Rt,[s("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:l[0]||(l[0]=r=>t())},[f(O)]),s("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:l[1]||(l[1]=r=>n())},[f(w)]),te(["PabrikTransport"])?q("",!0):(c(),v("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:l[2]||(l[2]=r=>Se())},[f(U)])),s("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:l[3]||(l[3]=r=>p())},[f(H)]),s("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:l[4]||(l[4]=r=>he())},[f(Pe)]),s("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:l[5]||(l[5]=r=>se.value=!0)},[f(Ie)])]),s("div",qt,[s("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:l[6]||(l[6]=r=>Ae())}," Gen/Update PVR "),s("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:l[7]||(l[7]=r=>Ne())}," Update PV "),s("div",{class:"m-1 card-border cursor-pointer",onClick:l[8]||(l[8]=r=>M.value=!i(M))},[Kt,pe(" : "),s("span",{class:R(["font-bold",i(M)?"text-green-600":"text-red-600"])},F(i(M)?"ONLINE":"OFFLINE"),3)])])]),s("form",Gt,[s("div",null,[Qt,f(ne,null,{default:I(()=>[f(ae,{modelValue:i(x).from,"onUpdate:modelValue":l[9]||(l[9]=r=>i(x).from=r),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),s("p",Zt,F(i(N).date_from),1)]),s("div",null,[Wt,f(ne,null,{default:I(()=>[f(ae,{modelValue:i(x).to,"onUpdate:modelValue":l[10]||(l[10]=r=>i(x).to=r),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,"text-input":"","teleport-center":""},null,8,["modelValue"])]),_:1}),s("p",Xt,F(i(N).date_to),1)]),s("div",el,[tl,X(s("input",{class:"",type:"text","onUpdate:modelValue":l[11]||(l[11]=r=>ut(m)?m.value=r:null),name:"search",placeholder:"Keyword"},null,512),[[dt,i(m)]])]),s("div",ll,[ol,X(s("select",{class:"","onUpdate:modelValue":l[12]||(l[12]=r=>i(T).field=r)},al,512),[[xe,i(T).field]])]),s("div",nl,[il,X(s("select",{class:"","onUpdate:modelValue":l[13]||(l[13]=r=>i(T).by=r)},ul,512),[[xe,i(T).by]])]),s("div",cl,[s("button",{class:"",type:"submit",name:"button",onClick:l[14]||(l[14]=ct(r=>oe(),["prevent"]))},[f(Ee,{class:"text-2xl"})])])]),f(Fe,{thead:i(Oe),selected:i(y),onSetSelected:l[15]||(l[15]=r=>y.value=r),tbody:i(h),fnCallData:le,scrolling:i(k),onSetScrollingPage:l[16]||(l[16]=r=>i(k).page=r)},{status:I(({item:r})=>[s("div",{class:R(["text-white text-xs px-2 py-1 rounded-lg",me(r)?"bg-green-600":"bg-red-600"])},F(me(r)?"Done":"Not Done"),3)]),app1:I(({item:r})=>[r.val?(c(),L(ce,{key:1})):(c(),L(ue,{key:0}))]),app2:I(({item:r})=>[r.val1?(c(),L(ce,{key:1})):(c(),L(ue,{key:0}))]),pvr_completed:I(({item:r})=>[r.pvr_had_detail?(c(),L(ce,{key:1})):(c(),L(ue,{key:0}))]),_:2},1032,["thead","selected","tbody","scrolling"])]),f(Be,{type:"delete",show:i(Z),data:i(fe),fnClose:Ce,fnConfirm:Te},null,8,["show","data"]),f(He,{show:i(E),fnClose:()=>{E.value=!1},fnLoadDBData:ie,id:i(o),p_data:i(h),list_ujalan:i(K),list_ticket:i(C),list_pv:i(Q),list_cost_center:i(G),online_status:i(M)},null,8,["show","fnClose","id","p_data","list_ujalan","list_ticket","list_pv","list_cost_center","online_status"]),f(ze,{show:i(a),fnClose:()=>{a.value=!1},id:i(u),p_data:i(h)},null,8,["show","fnClose","id","p_data"]),i(de)?(c(),v("div",_l,[s("div",pl,[s("div",fl,[f(ye,{style:{color:"black",cursor:"pointer"},onClick:l[17]||(l[17]=r=>he())})]),s("iframe",{ref:"iframe",width:"100%",height:"100%",src:i(ve).dataBase64},null,8,vl),s("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:l[18]||(l[18]=r=>je())})])])):q("",!0),i(se)?(c(),v("div",hl,[s("div",ml,[s("div",bl,[f(ye,{style:{color:"black",cursor:"pointer"},onClick:l[19]||(l[19]=r=>se.value=!1)})]),s("div",yl,[s("div",gl,[s("div",kl,[wl,s("div",xl,[s("div",$l,[Dl,s("div",Cl,[f(ne,null,{default:I(()=>[f(ae,{modelValue:i(g).from,"onUpdate:modelValue":l[20]||(l[20]=r=>i(g).from=r),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:l[21]||(l[21]=r=>be("from"))},null,8,["modelValue"])]),_:1})])]),s("div",Sl,[Tl,s("div",Ml,[f(ne,null,{default:I(()=>[f(ae,{modelValue:i(g).to,"onUpdate:modelValue":l[22]||(l[22]=r=>i(g).to=r),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:l[23]||(l[23]=r=>be("to"))},null,8,["modelValue"])]),_:1})])])])])])]),s("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:l[24]||(l[24]=r=>se.value=!1)})])])):q("",!0)])}}};export{ql as default};
