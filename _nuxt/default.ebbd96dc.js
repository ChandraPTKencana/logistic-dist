import{_ as Z}from"./Times.c1b0f44c.js";import{_ as $}from"./_plugin-vue_export-helper.c27b6911.js";import{o as s,c as l,a as e,G as U,I as G,J,r as A,g as O,H as S,O as B,D as C,u as M,B as g,x as n,T,b as r,w as m,d as h,M as x,n as W,v as K,t as Q,W as X,F as Y,E as tt}from"./entry.817b73b0.js";import{_ as et}from"./nuxt-link.e4333979.js";import{_ as ot,a as st}from"./Loading.vue.4ee679fe.js";import{u as nt}from"./useMyFetch.c734ddd3.js";import"./client-only.8a46416b.js";import"./Loading.94596c3f.js";const rt={name:"CiHamburgerMd"},at={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},lt=e("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),ct=[lt];function it(f,i,_,o,u,d){return s(),l("svg",at,ct)}const _t=$(rt,[["render",it]]),ut={name:"MaterialSymbolsHome"},dt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},pt=e("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),mt=[pt];function ht(f,i,_,o,u,d){return s(),l("svg",dt,mt)}const ft=$(ut,[["render",ht]]),vt={name:"PhMoney"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},$t=e("path",{fill:"currentColor",d:"M128 88a40 40 0 1 0 40 40a40 40 0 0 0-40-40m0 64a24 24 0 1 1 24-24a24 24 0 0 1-24 24m112-96H16a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h224a8 8 0 0 0 8-8V64a8 8 0 0 0-8-8m-46.35 128H62.35A56.78 56.78 0 0 0 24 145.65v-35.3A56.78 56.78 0 0 0 62.35 72h131.3A56.78 56.78 0 0 0 232 110.35v35.3A56.78 56.78 0 0 0 193.65 184M232 93.37A40.81 40.81 0 0 1 210.63 72H232ZM45.37 72A40.81 40.81 0 0 1 24 93.37V72ZM24 162.63A40.81 40.81 0 0 1 45.37 184H24ZM210.63 184A40.81 40.81 0 0 1 232 162.63V184Z"},null,-1),wt=[$t];function xt(f,i,_,o,u,d){return s(),l("svg",gt,wt)}const kt=$(vt,[["render",xt]]),bt={name:"GridiconsProduct"},yt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Ct=e("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),Mt=[Ct];function Tt(f,i,_,o,u,d){return s(),l("svg",yt,Mt)}const At=$(bt,[["render",Tt]]),St={name:"MaterialSymbolsFileCopy"},Bt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Vt=e("path",{fill:"currentColor",d:"M4 23q-.825 0-1.412-.587T2 21V7h2v14h11v2zm4-4q-.825 0-1.412-.587T6 17V3q0-.825.588-1.412T8 1h7l6 6v10q0 .825-.587 1.413T19 19zm6-11h5l-5-5z"},null,-1),qt=[Vt];function zt(f,i,_,o,u,d){return s(),l("svg",Bt,qt)}const Ht=$(St,[["render",zt]]),It={name:"MaterialSymbolsPerson"},Lt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Pt=e("path",{fill:"currentColor",d:"M12 12q-1.65 0-2.825-1.175T8 8q0-1.65 1.175-2.825T12 4q1.65 0 2.825 1.175T16 8q0 1.65-1.175 2.825T12 12m-8 8v-2.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13q1.65 0 3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20z"},null,-1),Et=[Pt];function Ft(f,i,_,o,u,d){return s(),l("svg",Lt,Et)}const jt=$(It,[["render",Ft]]),Rt={class:"w-full h-full flex"},Dt={class:"relative h-full"},Nt={class:"h-full flex flex-col p-2 overflow-hidden"},Zt={class:"grow overflow-auto"},Ut={id:"panel",class:"h-7 text-xs relative"},Gt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},Jt={class:"grow flex flex-col overflow-hidden"},oe=U({__name:"default",setup(f){const i=G(),_=J(),o=A("");O(()=>_.path,(a,t)=>{let c=a.split("/");o.value="/"+(c.length>1?c[1]:"")},{immediate:!0});const{logUserOut:u}=S(),{authenticated:d}=B(S()),{triggerSidebar:V}=C(),{is_sidebar_open:k}=B(C()),q=M("token"),z=async()=>{C().loading_full=!0;const{data:a,error:t,status:c}=await nt("/logout",{method:"post",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},retry:0});if(C().loading_full=!1,c.value==="error"){tt().trigger(t);return}else u()},H=M("username");M("fullname");const b=A(!1);window.addEventListener("click",a=>{var c;const t=a.target;t instanceof Element&&((c=document==null?void 0:document.getElementById("panel"))!=null&&c.contains(t)||(b.value=!1))});const I=M("role"),y=a=>a.includes(I.value),w=a=>{o.value!=a&&(o.value=a,k.value=!1,i.push(a))};return(a,t)=>{const c=Z,L=_t,P=ft,p=et,E=kt,F=At,j=Ht,R=jt,D=ot,N=st;return s(),l(Y,null,[e("div",Rt,[e("nav",{class:g([n(k)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[e("div",Dt,[e("button",{class:"absolute left-full h-12 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0",onClick:t[0]||(t[0]=v=>n(V)(!n(k)))},[n(k)?(s(),T(c,{key:0})):(s(),T(L,{key:1}))]),e("header",Nt,[e("ul",Zt,[e("li",{class:g(n(o)=="/"?"active":"")},[r(p,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=v=>w("/"))},{default:m(()=>[r(P,{class:"mr-1"}),h(" Dashboard ")]),_:1})],2),y(["SuperAdmin","Logistic"])?(s(),l("li",{key:0,class:g(n(o)=="/data_ujalan"?"active":"")},[r(p,{to:"/data_ujalan",class:"cursor-pointer",onClick:t[2]||(t[2]=v=>w("/data_ujalan"))},{default:m(()=>[r(E,{class:"mr-1"}),h(" U.Jalan ")]),_:1})],2)):x("",!0),y(["SuperAdmin","Logistic","PabrikTransport"])?(s(),l("li",{key:1,class:g(n(o)=="/data_trx_trp"?"active":"")},[r(p,{to:"/data_trx_trp",class:"cursor-pointer",onClick:t[3]||(t[3]=v=>w("/data_trx_trp"))},{default:m(()=>[r(F,{class:"mr-1"}),h(" Trx Trp ")]),_:1})],2)):x("",!0),y(["SuperAdmin","Logistic","Finance","MIS"])?(s(),l("li",{key:2,class:g(n(o)=="/report_trx_trp"?"active":"")},[r(p,{to:"/report_trx_trp",class:"cursor-pointer",onClick:t[4]||(t[4]=v=>w("/report_trx_trp"))},{default:m(()=>[r(j,{class:"mr-1"}),h(" Report Trp ")]),_:1})],2)):x("",!0),y(["SuperAdmin"])?(s(),l("li",{key:3,class:g(n(o)=="/user"?"active":"")},[r(p,{to:"/user",class:"cursor-pointer",onClick:t[5]||(t[5]=v=>w("/user"))},{default:m(()=>[r(R,{class:"mr-1"}),h(" User ")]),_:1})],2)):x("",!0)]),e("div",Ut,[W(e("div",Gt,[r(p,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:m(()=>[h(" Change Password ")]),_:1}),n(d)?(s(),T(p,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:z},{default:m(()=>[h(" Logout ")]),_:1})):x("",!0)],512),[[K,n(b)]]),e("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[6]||(t[6]=v=>b.value=!n(b))},Q(n(H)),1)])])])],2),e("div",Jt,[X(a.$slots,"default")])]),r(D),r(N)],64)}}});export{oe as default};
