import{_ as Ve}from"./Header.430c32eb.js";import{_ as me}from"./_plugin-vue_export-helper.c27b6911.js";import{o as s,c as _,a as e,f as fe,r as v,g as we,h as F,v as Ae,b as T,i as Ce,j as te,k as t,l as ve,m as xe,F as J,n as re,q as N,t as i,p as Te,e as Se,x as B,y as se,L as pe,G as D,d as X,N as V,s as Pe,D as Fe,B as Be,H as qe,I as ze,w as He,E as Me,O as Le}from"./entry.4e1daa35.js";import{_ as Ue}from"./Plus.9a497068.js";import{_ as Oe}from"./Edit.d4fdf023.js";import{_ as Ee}from"./Eyes.be4caacd.js";import{_ as Ke}from"./Delete.54a306c8.js";import{_ as Ye}from"./Signature.3ac7d258.js";import{_ as Re,u as ie}from"./useUtils.e63ece5f.js";import{_ as De,a as Je}from"./Check.e1a4b46b.js";import{_ as Qe}from"./PopupMini.vue.f9c12165.js";import{_ as Ie}from"./HeaderPopup.vue.608aa60e.js";import{_ as Ge,a as Xe}from"./ToolsPopup.e83f9bb1.js";import{_ as Ze}from"./InputPointFormat.vue.7cc636e9.js";import{_ as Ne}from"./Times.d4395a19.js";import{u as le}from"./useMyFetch.d31d239f.js";const We={name:"MaterialSymbolsContentCopy"},et={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},tt=e("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1),st=[tt];function lt(x,y,M,I,f,n){return s(),_("svg",et,st)}const ot=me(We,[["render",lt]]);const Z=x=>(Te("data-v-99d23942"),x=x(),Se(),x),at={class:"box-fixed"},nt={action:"#",class:"w-full flex p-1"},ct={class:"grow"},it=Z(()=>e("div",{class:"font-bold"}," Keyword ",-1)),ut={class:"pl-1"},rt=Z(()=>e("div",{class:"font-bold"}," Sort By ",-1)),dt=Z(()=>e("option",{value:"AccountID"},"ID",-1)),_t=Z(()=>e("option",{value:"AccountCode"},"Code",-1)),pt=Z(()=>e("option",{value:"AccountName"},"Nama",-1)),ft=[dt,_t,pt],vt={class:"pl-1"},ht=Z(()=>e("div",{class:"font-bold"}," Sort Order ",-1)),mt=Z(()=>e("option",{value:"asc"},"Asc",-1)),wt=Z(()=>e("option",{value:"desc"},"Desc",-1)),xt=[mt,wt],yt={class:"flex items-end pl-1"},bt={class:"w-full flex justify-center items-center grow h-0 p-1"},kt={key:0,class:""},gt={class:"tacky w-full"},$t=Z(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No."),e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"ID"),e("th",null,"Code"),e("th",null,"Name")])],-1)),jt=["onClick"],Ct={class:"bold"},At={class:"whitespace-normal break-words"},Tt={class:"flex",style:{"justify-content":"end",padding:"5px"}},St={__name:"ac_accs",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1}},setup(x){const y=x,{countClickListFn:M}=ie(),I=fe("token"),f=v([]),n=v(""),$=v({field:"AccountID",by:"desc"}),Y=v(-1),a=v({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),u={};u._TimeZoneOffset=new Date().getTimezoneOffset();const L=()=>{u.like="",n.value!=""&&(u.like=`AccountID:%${n.value}%,AccountCode:%${n.value}%,AccountName:%${n.value}%`),u.sort="",$.value.field&&(u.sort=$.value.field+":"+$.value.by)},b=v(null),S=async()=>{B().loading_full=!0,a.value.may_get_data=!1,u.page=a.value.page,u.page==1&&(f.value=[]),u.first_row&&delete u.first_row,u.page>1&&(u.first_row=JSON.stringify(f.value[0]));const{data:h,error:m,status:k}=await le("/ujalan/ac_accounts",{method:"get",headers:{Authorization:`Bearer ${I.value}`,Accept:"application/json"},params:u,retry:0});if(B().loading_full=!1,a.value.may_get_data=!0,k.value==="error"){se().trigger(m);return}a.value.page==1?(f.value=h.value.data,b.value&&(b.value.scrollTop=0)):a.value.page>1&&(f.value=[...f.value,...h.value.data]),h.value.data.length==0&&(a.value.is_last_record=!0)},z=async()=>{if(!a.value.may_get_data)return;let h=b.value;if(h.scrollLeft!=a.value.scrollLeft){a.value.scrollLeft=h.scrollLeft;return}a.value.is_last_record||!(Math.round(h.scrollTop)+h.clientHeight>=h.scrollHeight-1)||(a.value.page++,await S())},g=()=>{a.value.page=1,a.value.is_last_record=!1,L(),S()},A=()=>{Y.value>-1?y.fnSelect(f.value[Y.value]):y.fnSelect({ac_account_id:"",ac_account_code:"",ac_account_name:""})},K=h=>{M(h,()=>{Y.value=h},A)},P=v(null);let H=null;const w=h=>{H&&clearTimeout(H),H=setTimeout(()=>{g()},500)};return we(()=>y.show,(h,m)=>{h==!0&&(g(),setTimeout(()=>{P.value.focus()},100))},{immediate:!0}),(h,m)=>{const k=Ie,W=Re;return F((s(),_("section",at,[e("div",null,[T(k,{title:"Search And Select Ac Account",fn:x.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",nt,[e("div",ct,[it,F(e("input",{ref_key:"ref_keyword",ref:P,class:"",type:"text","onUpdate:modelValue":m[0]||(m[0]=U=>Ce(n)?n.value=U:null),name:"search",placeholder:"Keyword",onKeyup:m[1]||(m[1]=U=>w())},null,544),[[te,t(n)]])]),e("div",ut,[rt,F(e("select",{class:"","onUpdate:modelValue":m[2]||(m[2]=U=>t($).field=U)},ft,512),[[ve,t($).field]])]),e("div",vt,[ht,F(e("select",{class:"","onUpdate:modelValue":m[3]||(m[3]=U=>t($).by=U)},xt,512),[[ve,t($).by]])]),e("div",yt,[e("button",{class:"",type:"submit",name:"button",onClick:m[4]||(m[4]=xe(U=>g(),["prevent"]))},[T(W,{class:"text-2xl"})])])]),e("div",bt,[t(f).length==0?(s(),_("div",kt," Maaf Tidak Ada Record ")):(s(),_("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:b,onScroll:z},[e("table",gt,[$t,e("tbody",null,[(s(!0),_(J,null,re(t(f),(U,O)=>(s(),_("tr",{key:O,onClick:ue=>K(O),class:N(t(Y)==O?"active":"")},[e("td",null,i(O+1)+".",1),e("td",Ct,i(U.ac_account_id),1),e("td",null,i(U.ac_account_code),1),e("td",At,i(U.ac_account_name),1)],10,jt))),128))])])],544))]),e("div",Tt,[e("button",{onClick:m[5]||(m[5]=U=>A()),class:"w-36 m-1 bg-blue-600 text-white rounded-sm"}," Select ")])])],512)),[[Ae,x.show]])}}},Dt=me(St,[["__scopeId","data-v-99d23942"]]);const j=x=>(Te("data-v-fce284ae"),x=x(),Se(),x),It={class:"box-fixed"},qt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Pt={class:"w-full flex flex-col items-center justify-center grow overflow-auto"},Ut={class:"w-full flex flex-row flex-wrap"},Rt={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Nt=j(()=>e("label",{for:""},"To",-1)),Vt=["disabled"],Ft={class:"text-red-500"},Bt={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},zt=j(()=>e("label",{for:""},"Tipe",-1)),Ht=["disabled"],Mt={class:"text-red-500"},Lt={class:"w-full sm:w-4/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Ot=j(()=>e("label",{for:""},"Jenis",-1)),Et=["disabled"],Kt=j(()=>e("option",{value:"PK"},"PK",-1)),Yt=j(()=>e("option",{value:"CPO"},"CPO",-1)),Jt=j(()=>e("option",{value:"TBS"},"TBS",-1)),Qt=[Kt,Yt,Jt],Gt={class:"text-red-500"},Xt={class:"w-full sm:w-4/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Zt=j(()=>e("label",{for:""},"Harga",-1)),Wt={class:"card-border disabled"},es={class:"text-red-500"},ts={class:"w-full sm:w-4/12 md:w-2/12 lg:w-4/12 flex flex-col flex-wrap p-1"},ss=j(()=>e("label",{for:""},"Ket. Untuk Remarks",-1)),ls=["disabled"],os={class:"text-red-500"},as={class:"w-full flex grow p-1 overflow-auto 2xl:overflow-hidden justify-between flex-wrap"},ns={class:"w-full p-0 2xl:pr-1 2xl:w-1/2 2xl:h-full 2xl:overflow-auto"},cs={class:"w-full",role:"sticky"},is={class:"tacky w-full",style:{"white-space":"normal"}},us={class:"sticky -top-1 !z-[2]"},rs=["colspan"],ds={class:"sticky top-7 !z-[2]"},_s={key:0,class:"min-w-[50px] !w-[50px] max-w-[50px]"},ps=j(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1)),fs=j(()=>e("th",null,"Desc",-1)),vs=j(()=>e("th",{class:"min-w-[100px] !w-[100px] max-w-[100px]"},"Harga @",-1)),hs=j(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"Qty",-1)),ms={class:"min-w-[100px] !w-[100px] max-w-[100px]"},ws=j(()=>e("br",null,null,-1)),xs={class:"text-sm"},ys=j(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"For Remarks",-1)),bs={ref:"to_move"},ks=["data-index"],gs={key:0,class:"tools cell"},$s={class:"w-full h-full flex items-center justify-center"},js=["onClick"],Cs={class:"cell"},As={class:"w-full h-full flex items-center justify-center"},Ts=["disabled","onUpdate:modelValue"],Ss={class:"w-full h-full flex items-center justify-center"},Ds={class:"w-full h-full flex items-center justify-center"},Is={class:"cell"},qs={class:"w-full h-full flex items-center justify-center unselectable"},Ps={class:"w-full h-full flex items-center justify-center"},Us={key:0,class:"text-3xl"},Rs=["onClick"],Ns={key:0},Vs={class:"tools cell"},Fs={class:"w-full px-0 py-2 2xl:pl-1 2xl:py-0 2xl:w-1/2 2xl:h-full 2xl:overflow-auto"},Bs={class:"w-full",role:"sticky"},zs={class:"tacky w-full !table-auto",style:{"white-space":"normal"}},Hs={class:"sticky -top-1 !z-[2]"},Ms=["colspan"],Ls={class:"sticky top-7 !z-[2]"},Os={key:0,class:"min-w-[30px] !w-[30px] max-w-[30px]"},Es=j(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1)),Ks={key:1,class:"min-w-[30px] !w-[30px] max-w-[30px]"},Ys=j(()=>e("th",{class:"min-w-[40px] !w-[40px] max-w-[40px]"},"Acc ID",-1)),Js=j(()=>e("th",{class:"!min-w-[100px] !w-[100px] !max-w-[100px]"},"Acc Code",-1)),Qs=j(()=>e("th",{class:"!min-w-[150px] !w-[150px] !max-w-[150px]"},"Acc Name",-1)),Gs=j(()=>e("th",{class:"!min-w-[150px] !w-[150px] !max-w-[150px]"},"Desc",-1)),Xs=j(()=>e("th",{class:"min-w-[100px] !w-[100px] max-w-[100px]"},"Amount",-1)),Zs=j(()=>e("th",{class:"min-w-[40px] !w-[40px] max-w-[40px]"},"Qty",-1)),Ws={class:"min-w-[100px] !w-[100px] max-w-[100px]"},el=j(()=>e("br",null,null,-1)),tl={class:"text-sm"},sl={ref:"to_move"},ll=["data-index"],ol={key:0,class:"tools cell"},al={class:"w-full h-full flex items-center justify-center"},nl=["onClick"],cl={key:1,class:"cell"},il={class:"w-full h-full flex items-center justify-center"},ul=["onClick"],rl=["onClick","disabled"],dl={class:"w-full h-full flex items-center justify-center"},_l={class:"w-full h-full flex items-center justify-center"},pl={class:"w-full h-full flex items-center justify-center"},fl={class:"cell"},vl={class:"w-full h-full flex items-center justify-center"},hl=["disabled","onUpdate:modelValue"],ml={class:"w-full h-full flex items-center justify-center"},wl={class:"w-full h-full flex items-center justify-center"},xl={class:"cell"},yl={class:"w-full h-full flex items-center justify-center unselectable"},bl={key:0},kl={class:"tools cell"},gl={class:"w-full flex items-center justify-end"},$l={__name:"ujalan",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},excludes:{type:String,required:!1},exclude_lists:{type:Array,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]},is_copy:{type:[Boolean,Number],required:!0,default:!1}},setup(x){const y=x,{pointFormat:M}=ie(),I={id:-1,xto:"",tipe:"",jenis:"",harga:0,note_for_remarks:"",details:[],details2:[]},f=v({...I}),n=fe("token"),$=v({}),Y=v([{xdesc:"Timbangan",qty:1,harga:55e3},{xdesc:"Retribusi TPR",qty:1,harga:23e3},{xdesc:"Parkir & Nginap",qty:1,harga:1e4},{xdesc:"Penitipan Alat (Dongkrak)",qty:1,harga:5e3},{xdesc:"Ikas Danau",qty:1,harga:1e4},{xdesc:"U.Bongkar + Ambil surat",qty:1,harga:35e3},{xdesc:"Perbaikan Jalan Pujut",qty:1,harga:1e4},{xdesc:"Gaji Supir",qty:1,harga:0},{xdesc:"Gaji Kernet",qty:1,harga:0},{xdesc:"U.Extrafooding",qty:1,harga:2e4}]);v([]);const a=v([]),u=v([]),L=v({ordinal:0,id:-1,xdesc:"",qty:1,harga:0,for_remarks:0,p_status:""}),b=v({ordinal:0,id:-1,ac_account_id:"",ac_account_name:"",ac_account_code:"",description:"",qty:1,amount:0,p_status:""}),S=()=>{Y.value.forEach(o=>{a.value.filter(l=>l.xdesc==o.xdesc).length==0&&a.value.push({...o,ordinal:0,id:-1,p_status:"Add"})})},z=v(!1),g=()=>{z.value=!1},A=o=>{u.value[k.value].ac_account_id=o.ac_account_id,u.value[k.value].ac_account_code=o.ac_account_code,u.value[k.value].ac_account_name=o.ac_account_name,z.value=!1},K=(o,l)=>{k.value=l,z.value=!0},P=(o,l)=>{u.value[l].ac_account_id="",u.value[l].ac_account_code="",u.value[l].ac_account_name=""},H=async()=>{B().loading_full=!0,$.value={};const o=new FormData;o.append("xto",f.value.xto),o.append("tipe",f.value.tipe),o.append("jenis",f.value.jenis),o.append("harga",f.value.harga),o.append("note_for_remarks",f.value.note_for_remarks),o.append("details",JSON.stringify(a.value)),o.append("details2",JSON.stringify(u.value));let l="post",Q=y.is_copy?0:y.id;Q==0||(o.append("id",Q),o.append("_method","PUT"));const{data:E,error:q,status:ae}=await le("/ujalan",{method:l,headers:{Authorization:`Bearer ${n.value}`,Accept:"application/json"},body:o,retry:0});if(B().loading_full=!1,ae.value==="error"){se().trigger(q,$);return}if(Q<=0)f.value.id=E.value.id,f.value.created_at=E.value.created_at,f.value.updated_at=E.value.updated_at,y.p_data.unshift(f.value);else{f.value.updated_at=E.value.updated_at;let ne=y.p_data.map(ce=>ce.id).indexOf(Q);ne>=-1&&y.p_data.splice(ne,1,{...f.value})}y.fnClose()},w=pe(()=>{let o=0;return a.value.forEach(l=>{l.p_status!="Remove"&&(o+=l.qty*l.harga)}),f.value.harga=o,o}),h=pe(()=>{let o=0;return u.value.forEach(l=>{l.p_status!="Remove"&&(o+=l.qty*l.amount)}),o}),m=v(-1),k=v(-1),W=v(!1),U=v({left:0,top:0}),O=v(!1),ue=v({left:0,top:0}),ye=(o,l)=>{m.value=l,W.value=!0,U.value={left:o.clientX,top:o.clientY}},de=(o,l)=>{k.value=l,O.value=!0,ue.value={left:o.clientX,top:o.clientY}},he=()=>{a.value.push({...L.value,p_status:"Add"})},oe=()=>{u.value.push({...b.value,p_status:"Add"})},ee=()=>{W.value=!1},be=()=>{O.value=!1},ke=(o="")=>{if(o=="insert")a.value.splice(m.value,0,{...L.value,p_status:"Add"});else if(o=="delete")a.value[m.value].p_status=="Edit"?a.value[m.value].p_status="Remove":a.value.splice(m.value,1);else if(o=="move_top"){let l=a.value[m.value];a.value.splice(m.value,1),a.value.splice(m.value-1,0,{...l})}else if(o=="move_bottom"){let l=a.value[m.value];a.value.splice(m.value,1),a.value.splice(m.value+1,0,{...l})}W.value=!1},ge=(o="")=>{if(o=="insert")u.value.splice(k.value,0,{...b.value,p_status:"Add"});else if(o=="delete")u.value[k.value].p_status=="Edit"?u.value[k.value].p_status="Remove":u.value.splice(k.value,1);else if(o=="move_top"){let l=u.value[k.value];u.value.splice(k.value,1),u.value.splice(k.value-1,0,{...l})}else if(o=="move_bottom"){let l=u.value[k.value];u.value.splice(k.value,1),u.value.splice(k.value+1,0,{...l})}O.value=!1},p=fe("role"),c=pe(()=>f.value.val&&f.value.val1||p.value=="Logistic"&&f.value.val||p.value=="PabrikTransport"&&f.value.val1),G=async()=>{B().loading_full=!0;const{data:o,error:l,status:Q}=await le("/ujalan_",{method:"get",headers:{Authorization:`Bearer ${n.value}`,Accept:"application/json"},params:{id:y.id},retry:0});if(B().loading_full=!1,Q.value==="error"){se().trigger(l);return}f.value=o.value.data;let E="Edit";y.is_copy&&(E="Add",f.value.val=0,f.value.val1=0),a.value=o.value.data.details.map(q=>(q.p_status=E,q.key=q.ordinal,q)),u.value=o.value.data.details2.map(q=>(q.p_status=E,q.key=q.ordinal,q))};return we(()=>y.show,(o,l)=>{o==!0&&(f.value={...I},a.value=[],u.value=[],y.id!=0&&G())},{immediate:!0}),(o,l)=>{const Q=Ie,E=Ge,q=Ze,ae=Ne,ne=De,ce=Ue,_e=Xe,$e=Dt;return s(),_(J,null,[F(e("section",It,[e("div",null,[T(Q,{title:"Form Ujalan",fn:x.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",qt,[e("div",Pt,[e("div",Ut,[e("div",Rt,[Nt,F(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>t(f).xto=r),disabled:t(p)=="PabrikTransport"||t(c)},null,8,Vt),[[te,t(f).xto]]),e("p",Ft,i(t($).xto),1)]),e("div",Bt,[zt,F(e("textarea",{"onUpdate:modelValue":l[1]||(l[1]=r=>t(f).tipe=r),disabled:t(p)=="PabrikTransport"||t(c)},null,8,Ht),[[te,t(f).tipe]]),e("p",Mt,i(t($).tipe),1)]),e("div",Lt,[Ot,F(e("select",{"onUpdate:modelValue":l[2]||(l[2]=r=>t(f).jenis=r),disabled:t(p)=="PabrikTransport"||t(c)},Qt,8,Et),[[ve,t(f).jenis]]),e("p",Gt,i(t($).jenis),1)]),e("div",Xt,[Zt,e("div",Wt,i(t(M)(t(w))),1),e("p",es,i(t($).harga),1)]),e("div",ts,[ss,F(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=r=>t(f).note_for_remarks=r),disabled:t(p)=="PabrikTransport"||t(c)},null,8,ls),[[te,t(f).note_for_remarks]]),e("p",os,i(t($).note_for_remarks),1)])]),e("div",as,[e("div",ns,[e("div",cs,[e("table",is,[e("thead",null,[e("tr",us,[e("td",{colspan:t(p)!="PabrikTransport"&&!t(c)?7:6,class:"!bg-slate-800 text-white font-bold"}," Detail Uang Jalan ",8,rs)]),e("tr",ds,[t(p)!="PabrikTransport"&&!t(c)?(s(),_("th",_s,[e("button",{type:"button",name:"button",class:"bg-yellow-600",onClick:l[4]||(l[4]=r=>S())}," Default In ")])):D("",!0),ps,fs,vs,hs,e("th",ms,[X("Total "),ws,X(),e("span",xs,"("+i(t(M)(t(w)))+")",1)]),ys])]),e("tbody",bs,[(s(!0),_(J,null,re(t(a),(r,R)=>(s(),_(J,{key:R},[r.p_status!="Remove"?(s(),_("tr",{key:0,"data-index":R},[t(p)!="PabrikTransport"&&!t(c)?(s(),_("td",gs,[e("div",$s,[e("button",{type:"button",name:"button",onClick:d=>ye(d,R)},[T(E)],8,js)])])):D("",!0),e("td",null,i(R+1)+".",1),e("td",Cs,[e("div",As,[F(e("textarea",{disabled:t(p)=="PabrikTransport"||t(c),class:"p-1 w-full","onUpdate:modelValue":d=>r.xdesc=d,cols:"7",rows:"2"},null,8,Ts),[[te,r.xdesc]])])]),e("td",{class:N(["cell bold",t(p)=="PabrikTransport"||t(c)?"unselectable":""])},[e("div",Ss,[(s(),V(q,{key:R,class:"w-full h-full p-1",type:"text",value:r.harga||0,onInput:d=>r.harga=d,show:x.show},null,8,["value","onInput","show"]))])],2),e("td",{class:N(["cell",t(p)=="PabrikTransport"||t(c)?"unselectable":""])},[e("div",Ds,[(s(),V(q,{key:R,class:"w-full h-full p-1",type:"text",value:r.qty||0,onInput:d=>r.qty=d,show:x.show},null,8,["value","onInput","show"]))])],2),e("td",Is,[e("div",qs,i(t(M)(r.qty*r.harga||0)),1)]),e("td",{class:N(["cell",t(p)=="PabrikTransport"||t(c)?"unselectable":""])},[e("div",Ps,[t(p)=="PabrikTransport"||t(c)?(s(),_("div",Us,[r.for_remarks==0?(s(),V(ae,{key:0,class:"text-red-800"})):(s(),V(ne,{key:1,class:"text-green-800"}))])):(s(),_("button",{key:1,type:"button",onClick:d=>r.for_remarks=r.for_remarks?0:1,class:N(["text-white w-auto rounded text-xl",r.for_remarks?"bg-green-600":"bg-red-600"])},[r.for_remarks==0?(s(),V(ae,{key:0})):(s(),V(ne,{key:1}))],10,Rs))])],2)],8,ks)):D("",!0)],64))),128)),t(p)!="PabrikTransport"&&!t(c)?(s(),_("tr",Ns,[e("td",Vs,[e("button",{type:"button",name:"button",onClick:l[5]||(l[5]=r=>he())},[T(ce)])])])):D("",!0)],512)])])]),e("div",Fs,[e("div",Bs,[e("table",zs,[e("thead",null,[e("tr",Hs,[e("td",{colspan:t(c)?8:10,class:"!bg-slate-800 text-white font-bold"}," Detail PVR ",8,Ms)]),e("tr",Ls,[t(c)?D("",!0):(s(),_("th",Os)),Es,t(c)?D("",!0):(s(),_("th",Ks)),Ys,Js,Qs,Gs,Xs,Zs,e("th",Ws,[X("Total "),el,X(),e("span",tl,"("+i(t(M)(t(h)))+")",1)])])]),e("tbody",sl,[(s(!0),_(J,null,re(t(u),(r,R)=>(s(),_(J,{key:R},[r.p_status!="Remove"?(s(),_("tr",{key:0,"data-index":R},[t(c)?D("",!0):(s(),_("td",ol,[e("div",al,[e("button",{type:"button",name:"button",onClick:d=>de(d,R)},[T(E)],8,nl)])])),e("td",null,i(R+1)+".",1),t(c)?D("",!0):(s(),_("td",cl,[e("div",il,[r.ac_account_id?(s(),_("button",{key:1,type:"button",onClick:d=>P(d,R),disabled:r.confirm_by},[T(ae,{class:"font-bold text-2xl"})],8,rl)):(s(),_("button",{key:0,type:"button",name:"button",onClick:d=>K(d,R)}," ... ",8,ul))])])),e("td",{class:N(["cell bold",t(c)?"unselectable":""])},[e("div",dl,i(r.ac_account_id),1)],2),e("td",{class:N(["cell bold",t(c)?"unselectable":""])},[e("div",_l,i(r.ac_account_code),1)],2),e("td",{class:N(["cell bold",t(c)?"unselectable":""])},[e("div",pl,i(r.ac_account_name),1)],2),e("td",fl,[e("div",vl,[F(e("textarea",{disabled:t(c),class:"p-1 w-full","onUpdate:modelValue":d=>r.description=d,cols:"7",rows:"2"},null,8,hl),[[te,r.description]])])]),e("td",{class:N(["cell bold",t(c)?"unselectable":""])},[e("div",ml,[(s(),V(q,{key:R,class:"w-full h-full p-1",type:"text",value:r.amount||0,onInput:d=>r.amount=d,show:x.show},null,8,["value","onInput","show"]))])],2),e("td",{class:N(["cell",t(c)?"unselectable":""])},[e("div",wl,[(s(),V(q,{key:R,class:"w-full h-full p-1",type:"text",value:r.qty||0,onInput:d=>r.qty=d,show:x.show},null,8,["value","onInput","show"]))])],2),e("td",xl,[e("div",yl,i(t(M)(r.qty*r.amount||0)),1)])],8,ll)):D("",!0)],64))),128)),t(c)?D("",!0):(s(),_("tr",bl,[e("td",kl,[e("button",{type:"button",name:"button",onClick:l[6]||(l[6]=r=>oe())},[T(ce)])])]))],512)])])])])]),e("div",gl,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:l[7]||(l[7]=r=>x.fnClose())}," Cancel "),t(c)?D("",!0):(s(),_("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:l[8]||(l[8]=xe(r=>H(),["prevent"]))}," Save "))])])])],512),[[Ae,x.show]]),T(_e,{show:t(W),coor:t(U),fn:ee,data:t(a),data_index:t(m),onReplyAct:l[9]||(l[9]=r=>ke(r))},null,8,["show","coor","data","data_index"]),T(_e,{show:t(O),coor:t(ue),fn:be,data:t(u),data_index:t(k),onReplyAct:l[10]||(l[10]=r=>ge(r))},null,8,["show","coor","data","data_index"]),T($e,{show:t(z),fnClose:g,fnSelect:A},null,8,["show"])],64)}}},jl=me($l,[["__scopeId","data-v-fce284ae"]]);const C=x=>(Te("data-v-49402f15"),x=x(),Se(),x),Cl={class:"box-fixed"},Al={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Tl={class:"w-full flex flex-col items-center justify-center grow overflow-auto"},Sl={class:"w-full flex flex-row flex-wrap"},Dl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Il=C(()=>e("label",{for:""},"To",-1)),ql={class:"card-border"},Pl={class:"w-full sm:w-4/12 md:w-3/12 lg:w-3/12 flex flex-col flex-wrap p-1"},Ul=C(()=>e("label",{for:""},"Tipe",-1)),Rl={class:"card-border"},Nl={class:"w-full sm:w-4/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},Vl=C(()=>e("label",{for:""},"Jenis",-1)),Fl={class:"card-border"},Bl={class:"w-full sm:w-4/12 md:w-2/12 lg:w-1/12 flex flex-col flex-wrap p-1"},zl=C(()=>e("label",{for:""},"Harga",-1)),Hl={class:"card-border"},Ml={class:"w-full sm:w-4/12 md:w-2/12 lg:w-4/12 flex flex-col flex-wrap p-1"},Ll=C(()=>e("label",{for:""},"Ket. Untuk Remarks",-1)),Ol={class:"card-border"},El={class:"w-full flex grow p-1 overflow-auto 2xl:overflow-hidden justify-between flex-wrap"},Kl={class:"w-full p-0 2xl:pr-1 2xl:w-1/2 2xl:h-full 2xl:overflow-auto"},Yl={class:"w-full",role:"sticky"},Jl={class:"tacky w-full",style:{"white-space":"normal"}},Ql=C(()=>e("tr",{class:"sticky top-0 !z-[2]"},[e("td",{colspan:"6",class:"!bg-slate-800 text-white font-bold"}," Detail Uang Jalan ")],-1)),Gl={class:"sticky top-8 !z-[2]"},Xl=C(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1)),Zl=C(()=>e("th",null,"Desc",-1)),Wl=C(()=>e("th",{class:"min-w-[100px] !w-[100px] max-w-[100px]"},"Harga @",-1)),eo=C(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"Qty",-1)),to={class:"min-w-[100px] !w-[100px] max-w-[100px]"},so=C(()=>e("br",null,null,-1)),lo={class:"text-sm"},oo=C(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"For Remarks",-1)),ao={ref:"to_move"},no=["data-index"],co={class:"cell"},io={class:"w-full h-full flex items-center justify-center"},uo={class:"cell bold"},ro={class:"w-full h-full flex items-center justify-center"},_o={class:"cell"},po={class:"w-full h-full flex items-center justify-center"},fo={class:"cell"},vo={class:"w-full h-full flex items-center justify-center"},ho={class:"cell"},mo={class:"w-full h-full flex items-center justify-center"},wo={class:"w-full px-0 py-2 2xl:pl-1 2xl:py-0 2xl:w-1/2 2xl:h-full 2xl:overflow-auto"},xo={class:"w-full",role:"sticky"},yo={class:"tacky w-full !table-auto",style:{"white-space":"normal"}},bo=C(()=>e("tr",{class:"sticky top-0 !z-[2]"},[e("td",{colspan:"8",class:"!bg-slate-800 text-white font-bold"}," Detail PVR ")],-1)),ko={class:"sticky top-8 !z-[2]"},go=C(()=>e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1)),$o=C(()=>e("th",{class:"min-w-[40px] !w-[40px] max-w-[40px]"},"Acc ID",-1)),jo=C(()=>e("th",{class:"!min-w-[100px] !w-[100px] !max-w-[100px]"},"Acc Code",-1)),Co=C(()=>e("th",{class:"!min-w-[150px] !w-[150px] !max-w-[150px]"},"Acc Name",-1)),Ao=C(()=>e("th",{class:"!min-w-[150px] !w-[150px] !max-w-[150px]"},"Desc",-1)),To=C(()=>e("th",{class:"min-w-[100px] !w-[100px] max-w-[100px]"},"Amount",-1)),So=C(()=>e("th",{class:"min-w-[40px] !w-[40px] max-w-[40px]"},"Qty",-1)),Do={class:"min-w-[100px] !w-[100px] max-w-[100px]"},Io=C(()=>e("br",null,null,-1)),qo={class:"text-sm"},Po={ref:"to_move"},Uo=["data-index"],Ro={class:"w-full h-full flex items-center justify-center"},No={class:"w-full h-full flex items-center justify-center"},Vo={class:"w-full h-full flex items-center justify-center"},Fo={key:0,class:"cell"},Bo={class:"w-full h-full flex items-center justify-center"},zo={class:"w-full h-full flex items-center justify-center"},Ho={class:"cell"},Mo={class:"w-full h-full flex items-center justify-center"},Lo={class:"w-full flex items-center justify-end"},Oo={class:"w-full flex flex-wrap p-3 items-center"},Eo=C(()=>e("div",null," Di Validasi oleh : ",-1)),Ko={key:0,class:"border-solid border-2 w-fit p-1 bg-slate-700 text-white text-xs"},Yo={key:0},Jo={key:1},Qo={__name:"ujalan_validasi",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},id:{type:Number,required:!1,default:0},p_data:{type:Array,required:!0,default:[]}},setup(x){const y=x,{$moment:M}=Pe(),{pointFormat:I}=ie(),n=v({...{id:-1,xto:"",tipe:"",jenis:"",harga:0,note_for_remarks:0,details:[],val:0,val_by:{username:""},val_at:"",val1:0,val1_by:{username:""},val1_at:""}}),$=fe("token"),Y=v({}),a=v([]),u=v([]),L=async()=>{B().loading_full=!0,Y.value={};const g=new FormData;let A="post",K=y.id;K==0||(g.append("id",K),g.append("_method","PUT"));const{data:P,error:H,status:w}=await le("/ujalan_validasi",{method:A,headers:{Authorization:`Bearer ${$.value}`,Accept:"application/json"},body:g,retry:0});if(B().loading_full=!1,w.value==="error"){se().trigger(H,Y);return}n.value.val=P.value.val,n.value.val_user=P.value.val_user,n.value.val_by=P.value.val_by,n.value.val_at=P.value.val_at,n.value.val1=P.value.val1,n.value.val1_user=P.value.val1_user,n.value.val1_by=P.value.val1_by,n.value.val1_at=P.value.val1_at;let h=y.p_data.map(m=>m.id).indexOf(y.id);h>=-1&&y.p_data.splice(h,1,{...n.value}),y.fnClose()},b=async()=>{B().loading_full=!0;const{data:g,error:A,status:K}=await le("/ujalan_",{method:"get",headers:{Authorization:`Bearer ${$.value}`,Accept:"application/json"},params:{id:y.id},retry:0});if(B().loading_full=!1,K.value==="error"){se().trigger(A);return}n.value=g.value.data,a.value=g.value.data.details,u.value=g.value.data.details2},S=pe(()=>{let g=0;return u.value.forEach(A=>{A.p_status!="Remove"&&(g+=A.qty*A.amount)}),g}),z=pe(()=>!1);return we(()=>y.show,(g,A)=>{g==!0&&b()},{immediate:!0}),(g,A)=>{const K=Ie,P=Ne,H=De;return F((s(),_("section",Cl,[e("div",null,[T(K,{title:"Form Ujalan Validation",fn:x.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",Al,[e("div",Tl,[e("div",Sl,[e("div",Dl,[Il,e("div",ql,i(t(n).xto),1)]),e("div",Pl,[Ul,e("div",Rl,i(t(n).tipe),1)]),e("div",Nl,[Vl,e("div",Fl,i(t(n).jenis),1)]),e("div",Bl,[zl,e("div",Hl,i(t(I)(t(n).harga||0)),1)]),e("div",Ml,[Ll,e("div",Ol,i(t(n).note_for_remarks),1)])]),e("div",El,[e("div",Kl,[e("div",Yl,[e("table",Jl,[e("thead",null,[Ql,e("tr",Gl,[Xl,Zl,Wl,eo,e("th",to,[X("Total "),so,X(),e("span",lo,"("+i(t(I)(t(n).harga||0))+")",1)]),oo])]),e("tbody",ao,[(s(!0),_(J,null,re(t(a),(w,h)=>(s(),_(J,{key:h},[w.p_status!="Remove"?(s(),_("tr",{key:0,"data-index":h},[e("td",null,i(h+1)+".",1),e("td",co,[e("div",io,i(w.xdesc),1)]),e("td",uo,[e("div",ro,i(t(I)(w.harga||0)),1)]),e("td",_o,[e("div",po,i(t(I)(w.qty||0)),1)]),e("td",fo,[e("div",vo,i(t(I)(w.qty*w.harga||0)),1)]),e("td",ho,[e("div",mo,[e("div",{class:N(["text-white rounded text-xl w-5 h-5",w.for_remarks?"bg-green-600":"bg-red-600"])},[w.for_remarks==0?(s(),V(P,{key:0})):(s(),V(H,{key:1}))],2)])])],8,no)):D("",!0)],64))),128))],512)])])]),e("div",wo,[e("div",xo,[e("table",yo,[e("thead",null,[bo,e("tr",ko,[go,$o,jo,Co,Ao,To,So,e("th",Do,[X("Total "),Io,X(),e("span",qo,"("+i(t(I)(t(S)))+")",1)])])]),e("tbody",Po,[(s(!0),_(J,null,re(t(u),(w,h)=>(s(),_(J,{key:h},[w.p_status!="Remove"?(s(),_("tr",{key:0,"data-index":h},[e("td",null,i(h+1)+".",1),e("td",{class:N(["cell bold",t(z)?"unselectable":""])},[e("div",Ro,i(w.ac_account_id),1)],2),e("td",{class:N(["cell bold",t(z)?"unselectable":""])},[e("div",No,i(w.ac_account_code),1)],2),e("td",{class:N(["cell bold",t(z)?"unselectable":""])},[e("div",Vo,i(w.ac_account_name),1)],2),t(z)?D("",!0):(s(),_("td",Fo,[e("div",Bo,i(w.description),1)])),e("td",{class:N(["cell bold",t(z)?"unselectable":""])},[e("div",zo,i(t(I)(w.amount||0)),1)],2),e("td",{class:N(["cell",t(z)?"unselectable":""])},i(t(I)(w.qty||0)),3),e("td",Ho,[e("div",Mo,i(t(I)(w.qty*w.amount||0)),1)])],8,Uo)):D("",!0)],64))),128))],512)])])])])]),e("div",Lo,[e("div",Oo,[Eo,t(n).val||t(n).val1?(s(),_("div",Ko,[t(n).val?(s(),_("div",Yo," App 1 : "+i(t(n).val_by.username)+" ( "+i(t(n).val_at?t(M)(t(n).val_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):D("",!0),t(n).val1?(s(),_("div",Jo," App 2 : "+i(t(n).val1_by.username)+" ( "+i(t(n).val1_at?t(M)(t(n).val1_at).format("DD-MM-YYYY HH:mm:ss"):"")+" ) ",1)):D("",!0)])):D("",!0)]),e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:A[0]||(A[0]=w=>x.fnClose())}," Cancel "),e("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:A[1]||(A[1]=xe(w=>L(),["prevent"]))}," Validasi ")])])])],512)),[[Ae,x.show]])}}},Go=me(Qo,[["__scopeId","data-v-49402f15"]]),Xo={class:"w-full h-full flex flex-col"},Zo={class:"w-full flex grow flex-col overflow-auto h-0"},Wo={class:"w-full flex"},ea={action:"#",class:"w-full flex p-1"},ta={class:"grow"},sa=e("div",{class:"font-bold"}," Keyword ",-1),la={class:"pl-1"},oa=e("div",{class:"font-bold"}," Sort By ",-1),aa=Le('<option value=""></option><option value="id">ID</option><option value="xto">To</option><option value="jenis">Jenis</option><option value="tipe">Tipe</option>',5),na=[aa],ca={class:"pl-1"},ia=e("div",{class:"font-bold"}," Sort Order ",-1),ua=e("option",{value:"asc"},"Asc",-1),ra=e("option",{value:"desc"},"Desc",-1),da=[ua,ra],_a={class:"flex items-end pl-1"},pa={class:"w-full flex justify-center items-center grow h-0 p-1"},fa={key:0,class:""},va={class:"tacky"},ha=e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"App 1"),e("th",null,"App 2"),e("th",null,"ID"),e("th",null,"To"),e("th",null,"Tipe"),e("th",null,"Jenis"),e("th",null,"Harga"),e("th",null,"Ket.U.Remarks"),e("th",null,"Created At"),e("th",null,"Updated At")])],-1),ma=["onClick"],wa={class:"flex items-center justify-center"},xa={class:"flex items-center justify-center"},ya={class:"bold"},ba={class:"grow mb-5"},Ba={__name:"index",async setup(x){let y,M;const{$moment:I}=Pe(),{pointFormat:f}=ie(),n={};n._TimeZoneOffset=new Date().getTimezoneOffset(),n.sort="created_at:desc";const $=fe("token"),{data:Y}=([y,M]=Fe(async()=>Me(async()=>{let p=[];B().loading_full=!0;const{data:c,error:G,status:o}=await le("/ujalan",{method:"get",headers:{Authorization:`Bearer ${$.value}`,Accept:"application/json"},params:n,retry:0});return B().loading_full=!1,o.value==="error"?(se().trigger(G),{ujalans:p}):(p=c.value.data,{ujalans:p})},"$SN3C927rLk")),y=await y,M(),y),a=v(Y.value.ujalans),u=v(""),L=v({field:"created_at",by:"desc"}),b=v(-1),S=v({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),z=()=>{n.like="",u.value!=""&&(n.like=`id:%${u.value}%,xto:%${u.value}%,tipe:%${u.value}%,jenis:%${u.value}%,harga:%${u.value}%`),n.sort="",L.value.field&&(n.sort=L.value.field+":"+L.value.by)},g=v(null),A=async()=>{B().loading_full=!0,S.value.may_get_data=!1,n.page=S.value.page,n.page==1&&(a.value=[]),n.first_row&&delete n.first_row,n.page>1&&(n.first_row=JSON.stringify(a.value[0]));const{data:p,error:c,status:G}=await le("/ujalan",{method:"get",headers:{Authorization:`Bearer ${$.value}`,Accept:"application/json"},params:n,retry:0});if(B().loading_full=!1,S.value.may_get_data=!0,G.value==="error"){se().trigger(c);return}S.value.page==1?(a.value=p.value.data,g.value&&(g.value.scrollTop=0)):S.value.page>1&&(a.value=[...a.value,...p.value.data]),p.value.data.length==0&&(S.value.is_last_record=!0)},K=async()=>{if(!S.value.may_get_data)return;let p=g.value;if(p.scrollLeft!=S.value.scrollLeft){S.value.scrollLeft=p.scrollLeft;return}S.value.is_last_record||!(Math.round(p.scrollTop)+p.clientHeight>=p.scrollHeight-1)||(S.value.page++,await A())},P=()=>{S.value.page=1,S.value.is_last_record=!1,z(),A()};Be();const H=v(!1),w=v(0),h=v(0),m=()=>{w.value=0,H.value=!0,h.value=!1},{display:k}=qe();ze(qe());const W=()=>{b.value==-1?k({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(w.value=a.value[b.value].id,H.value=!0,h.value=!1)},U=()=>{b.value==-1?k({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(w.value=a.value[b.value].id,H.value=!0,h.value=!0)},O=v(!1),ue=v(0),ye=()=>{b.value==-1?k({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(ue.value=a.value[b.value].id,O.value=!0)},de=v(!1),he=v({}),oe=v(!1),ee=v(""),be=async()=>{oe.value&&(oe.value=!1)},ke=()=>{b.value==-1?k({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(ee.value="",he.value={id:a.value[b.value].id},oe.value=!0)};we(()=>ee.value,p=>{p.trim().length>0?de.value=!0:de.value=!1},{immediate:!1});const ge=async()=>{B().loading_full=!0;const p=new FormData;p.append("id",a.value[b.value].id),p.append("deleted_reason",ee.value),p.append("_method","DELETE");const{data:c,error:G,status:o}=await le("/ujalan",{method:"post",headers:{Authorization:`Bearer ${$.value}`,Accept:"application/json"},body:p,retry:0});if(B().loading_full=!1,o.value==="error"){se().trigger(G);return}a.value.splice(b.value,1),b.value=-1,oe.value=!1};return(p,c)=>{const G=Ve,o=ot,l=Ue,Q=Oe,E=Ee,q=Ke,ae=Ye,ne=Re,ce=Je,_e=De,$e=Qe,r=jl,R=Go;return s(),_("div",Xo,[T(G,{title:"List Ujalan"}),e("div",Zo,[e("div",Wo,[("useUtils"in p?p.useUtils:t(ie))().checkRole(["PabrikTransport"])?D("",!0):(s(),_("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:c[0]||(c[0]=d=>U())},[T(o)])),("useUtils"in p?p.useUtils:t(ie))().checkRole(["PabrikTransport"])?D("",!0):(s(),_("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:c[1]||(c[1]=d=>m())},[T(l)])),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:c[2]||(c[2]=d=>W())},[t(b)==-1||t(a)[t(b)].ref_id==null&&t(a)[t(b)].confirmed_by==null?(s(),V(Q,{key:0})):(s(),V(E,{key:1}))]),("useUtils"in p?p.useUtils:t(ie))().checkRole(["PabrikTransport"])?D("",!0):(s(),_("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:c[3]||(c[3]=d=>ke())},[T(q)])),e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:c[4]||(c[4]=d=>ye())},[T(ae)])]),e("form",ea,[e("div",ta,[sa,F(e("input",{class:"",type:"text","onUpdate:modelValue":c[5]||(c[5]=d=>Ce(u)?u.value=d:null),name:"search",placeholder:"Keyword"},null,512),[[te,t(u)]])]),e("div",la,[oa,F(e("select",{class:"","onUpdate:modelValue":c[6]||(c[6]=d=>t(L).field=d)},na,512),[[ve,t(L).field]])]),e("div",ca,[ia,F(e("select",{class:"","onUpdate:modelValue":c[7]||(c[7]=d=>t(L).by=d)},da,512),[[ve,t(L).by]])]),e("div",_a,[e("button",{class:"",type:"submit",name:"button",onClick:c[8]||(c[8]=xe(d=>P(),["prevent"]))},[T(ne,{class:"text-2xl"})])])]),e("div",pa,[t(a).length==0?(s(),_("div",fa," Maaf Tidak Ada Record ")):(s(),_("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:g,onScroll:K},[e("table",va,[ha,e("tbody",null,[(s(!0),_(J,null,re(t(a),(d,je)=>(s(),_("tr",{key:je,onClick:ka=>b.value=je,class:N(t(b)==je?"active":"")},[e("td",null,[e("div",wa,[d.val?(s(),V(_e,{key:1})):(s(),V(ce,{key:0}))])]),e("td",null,[e("div",xa,[d.val1?(s(),V(_e,{key:1})):(s(),V(ce,{key:0}))])]),e("td",ya,i(d.id),1),e("td",null,i(d.xto),1),e("td",null,i(d.tipe),1),e("td",null,i(d.jenis),1),e("td",null,i(t(f)(d.harga)),1),e("td",null,i(d.note_for_remarks),1),e("td",null,i(d.created_at?t(I)(d.created_at).format("DD-MM-Y HH:mm:ss"):""),1),e("td",null,i(d.updated_at?t(I)(d.updated_at).format("DD-MM-Y HH:mm:ss"):""),1)],10,ma))),128))])])],544))])]),T($e,{type:"delete",show:t(oe),data:t(he),fnClose:be,fnConfirm:ge,enabledOk:t(de)},{footer:He(()=>[X(" Masukkan Alasan Penghapusan: "),e("div",ba,[F(e("textarea",{"onUpdate:modelValue":c[9]||(c[9]=d=>Ce(ee)?ee.value=d:null)},null,512),[[te,t(ee)]])])]),_:1},8,["show","data","enabledOk"]),T(r,{show:t(H),fnClose:()=>{H.value=!1},id:t(w),p_data:t(a),is_copy:t(h)},null,8,["show","fnClose","id","p_data","is_copy"]),T(R,{show:t(O),fnClose:()=>{O.value=!1},id:t(ue),p_data:t(a)},null,8,["show","fnClose","id","p_data"])])}}};export{Ba as default};
