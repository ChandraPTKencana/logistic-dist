import{_ as m}from"./HeaderCustom.vue.660ada98.js";import{J as v,K as h,r as d,f as x,h as g,L as b,A as i,o as y,c as k,b as C,a as s,m as p,v as u,k as a,t as c,x as S,B as A,i as B}from"./entry.509d156f.js";import{u as P}from"./useMyFetch.f247bee4.js";import"./CaretLeft.0712716c.js";import"./_plugin-vue_export-helper.c27b6911.js";const V={class:"w-full h-full flex flex-col"},$={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},U={class:"w-full align-items-center justify-content-center grow overflow-auto"},j={class:"w-full flex flex-col flex-wrap p-1"},D=s("label",{for:""},"Old Password",-1),M={class:"text-red-500"},N={class:"w-full flex flex-col flex-wrap p-1"},E=s("label",{for:""},"New Password",-1),F={class:"text-red-500"},R={class:"w-full flex flex-col flex-wrap p-1"},T=s("label",{for:""},"Confirm Password",-1),q={class:"text-red-500"},z={class:"w-full flex items-center justify-end"},I=v({__name:"change_password",setup(H){h(),d(!1);const f=x("token"),r=d({});g(),b(),i().loading_full=!1;const e=d({old_password:"",password:"",password_confirmation:""}),w=async()=>{i().loading_full=!0,r.value={};const l=new FormData;l.append("old_password",e.value.old_password),l.append("password",e.value.password),l.append("password_confirmation",e.value.password_confirmation),l.append("_method","PUT");let o="post";const{data:n,error:t,status:_}=await P("/change_password",{method:o,headers:{Authorization:`Bearer ${f.value}`,Accept:"application/json"},body:l,retry:0});if(i().loading_full=!1,_.value==="error"){A().trigger(t,r);return}else B().display({show:!0,status:"Success",message:n.value.message})};return(l,o)=>{const n=m;return y(),k("div",V,[C(n,{title:"Change Password",back:!0}),s("form",$,[s("div",U,[s("div",j,[D,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[0]||(o[0]=t=>a(e).old_password=t)},null,512),[[u,a(e).old_password]]),s("p",M,c(a(r).old_password),1)]),s("div",N,[E,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>a(e).password=t)},null,512),[[u,a(e).password]]),s("p",F,c(a(r).password),1)]),s("div",R,[T,p(s("input",{class:"",type:"password","onUpdate:modelValue":o[2]||(o[2]=t=>a(e).password_confirmation=t)},null,512),[[u,a(e).password_confirmation]]),s("p",q,c(a(r).password_confirmation),1)])]),s("div",z,[s("button",{type:"button",name:"button",class:"w-36 m-1",onClick:o[3]||(o[3]=t=>l.$router.go(-1))}," Cancel "),s("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:o[4]||(o[4]=S(t=>w(),["prevent"]))}," Save ")])])])}}});export{I as default};
