import C from"./Times.8933bed3.js";import{f as D,r as w,I as g,Z as I,o as m,c as v,a,b as h,F as y,D as _,s as F,t as k,m as p,E as O,G as j}from"./entry.f3cbd76a.js";const q=function(n,r){n.value.addEventListener("touchstart",b,{passive:!0}),n.value.addEventListener("touchend",x,{passive:!0});let l=-1,o=null,d=0;function b(e){l=f(e.target),o=setInterval(()=>{d+=100},100)}function x(e){clearInterval(o);let t=e.changedTouches[0],s=-1;if(d>400){let i=document.elementFromPoint(t.clientX,t.clientY);s=f(i);let u=r.value[l];r.value.splice(l,1),r.value.splice(s,0,{...u})}d=0,l=-1}function f(e){return e?e.hasAttribute("data-index")?e.dataset.index:e.parentElement?f(e.parentElement):-1:-1}},E={key:0,class:"flex items-center justify-center fixed top-0 left-0 z-10 p-3 w-full h-full bg-black bg-opacity-80"},L={class:"flex items-center max-w-xs w-full h-5/6 relative bg-white border-solid border-gray-600 border-2 p-3 flex-col"},S={class:"absolute -top-7 right-0 py-1 px-2 bg-white border-solid border-2 border-gray-600 border-b-0 rounded-tl-md"},T={class:"w-full grow text-left mt-3 flex flex-col overflow-hidden"},B=a("b",{class:"text-gray-600"},"Selected List:",-1),M=["data-index","onDragstart","onDrop"],N={class:"flex flex-row flex-wrap items-center"},V={class:"p-1"},z={class:"flex w-full justify-between mt-3"},A=["disabled"],P=D({__name:"PopupMiniMulti",props:{show:{type:Boolean,required:!0},data:{type:Object,required:!1,default:""},fnClose:{type:Function,required:!0},fnConfirm:{type:Function,required:!0},fnRemoveFromList:{type:Function,required:!0},enabledOk:{type:Boolean,required:!1,default:!0},multi_key:{type:Array,required:!0}},setup(n){const r=n;let l=null;const o=w(0),d=()=>{l==null&&(o.value=1,l=setInterval(()=>{o.value--,o.value<=0&&(clearInterval(l),l=null)},1e3))},b=w(null);g(()=>r.show,(e,t)=>{e?(d(),setTimeout(()=>{q(b,{value:r.data})},0)):(clearInterval(l),l=null)},{immediate:!0,deep:!0}),g(()=>r.enabledOk,(e,t)=>{e&&r.show&&d()},{immediate:!0,deep:!0}),I(()=>{clearInterval(l),l=null});const x=(e,t)=>{e.dataTransfer.setData("application/json",JSON.stringify(t))},f=(e,t)=>{let s=JSON.parse(e.dataTransfer.getData("application/json")),i=r.data[s];r.data.splice(s,1),r.data.splice(t,0,{...i})};return(e,t)=>{const s=C;return n.show?(m(),v("div",E,[a("div",L,[a("div",S,[h(s,{class:"text-2xl text-black cursor-pointer",onClick:t[0]||(t[0]=i=>n.fnClose())})]),a("div",T,[B,a("div",{class:"w-full grow overflow-auto p-2",ref_key:"to_move",ref:b},[(m(!0),v(y,null,_(n.data,(i,u)=>(m(),v("div",{"data-index":u,class:"w-full flex flex-row flex-wrap items-center bg-blue-500 my-1 text-white rounded justify-between",draggable:"true",onDragstart:c=>x(c,u),onDragover:t[1]||(t[1]=F(()=>{},["prevent"])),onDrop:c=>f(c,u)},[a("div",N,[(m(!0),v(y,null,_(n.multi_key,c=>(m(),v("div",V,k(i[c]),1))),256))]),h(s,{class:"text-2xl cursor-pointer",onClick:c=>n.fnRemoveFromList(u)},null,8,["onClick"])],40,M))),256))],512)]),a("div",z,[a("button",{onClick:t[2]||(t[2]=i=>n.fnClose()),class:"w-full bg-blue-500 border-blue-500 border-solid border-2 p-1 text-white mr-2"}," Tutup "),a("button",{onClick:t[3]||(t[3]=i=>n.fnConfirm()),disabled:!r.enabledOk||p(o)>0,class:O(["w-full border-solid border-2 p-1 text-white",r.enabledOk&&p(o)<=0?"bg-red-600 border-red-600":"bg-slate-600 border-slate-600"])}," Lanjutkan "+k(p(o)>0?p(o):""),11,A)])])])):j("",!0)}}});export{P as _,q as u};
