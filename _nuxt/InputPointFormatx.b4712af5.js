import{f as v,r as p,N as w,K as y,I as D,o as j,c as k,m as B}from"./entry.f3cbd76a.js";const x=["value"],F=v({__name:"InputPointFormatx",props:{value:{type:[Number,String],required:!0,default:0}},emits:["input","nextBlur"],setup(c,{emit:i}){const n=c;p(!0);const o=p(0),g=e=>{e=e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,"");let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.join(",")},l=e=>{e=e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,"");let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.length>1&&(t[1]=t[1].replace(/0+$/,"")),t.join(",")},a=e=>e.toString().replace(/[^,0-9]/ig,"").replace(",",".").replace(/,/ig,""),f=e=>{let t=typeof e=="object"?e.target.value:e;t=t||n.value,console.log("b",parseInt(t),t),parseInt(t)<0?(o.value="-"+l(t),i("input",Number(a(t))*-1)):(o.value=l(t),i("input",Number(a(t)))),console.log("bx",l(t),Number(a(t)))};w(()=>{console.log("m",parseInt(n.value),n.value),u(n.value)}),y(e=>e?new Intl.NumberFormat("id-ID",{minimumFractionDigits:2}).format(e):0);const m=/[a-zA-Z <>?/\\|:;'"\[\]{}=+=_()*&^%$#@!~`]/;let s=!1;const u=e=>{if(console.log("ch",parseInt(e),e),e=="-"){o.value="-";return}parseInt(e)<0&&(s=!0);let t=parseInt(e);e.toString().length>1&&(t=t.toString().replace(/^0/g,"")),o.value=(s?"-":"")+g(t)},d=["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Tab"],b=e=>{e.ctrlKey==!1&&!d.includes(e.key)&&e.key.match(m)&&e.preventDefault(),e.key=="0"&&(e.target.value===0||e.target.value==="0")&&e.preventDefault()},I=e=>{e.target.select(),e.target.setSelectionRange(0,99999)};return D(()=>n.value,(e,t)=>{u(e)},{immediate:!0,deep:!0}),(e,t)=>(j(),k("input",{type:"text",value:B(o),onKeydown:t[0]||(t[0]=r=>b(r)),onKeyup:t[1]||(t[1]=r=>u(r.target.value)),onBlur:t[2]||(t[2]=r=>(f(r),e.$emit("nextBlur",r))),onFocus:t[3]||(t[3]=r=>I(r))},null,40,x))}});export{F as default};
