import tt from"./Header.3747b0a6.js";import at from"./Edit.530bc107.js";import lt from"./Eyes.6d87babb.js";import ot from"./Void.2df76be2.js";import st from"./Signature.4980b60a.js";import nt from"./SignatureOff.d0e1b129.js";import it from"./Cog.a9199ea1.js";import rt from"./Image.b05f2582.js";import _t from"./Line.9d8a4c99.js";import ut from"./Check.1299b720.js";import dt from"./TableView.ddfe514a.js";import{_ as ct}from"./PopupMini.vue.19466ba8.js";import pt from"./trx_trp_ticket.2141a5d6.js";import ft from"./trx_trp_ticket_validasi.dcb044b0.js";import vt from"./trx_absen.a70c9cef.js";import mt from"./trx_trp_ticket_over.7128367b.js";import kt from"./Times.2afba606.js";import{_ as bt}from"./client-only.6510e0be.js";import{_ as yt}from"./SelectMulti.vue.78255669.js";import{r as _,f as ht,g as gt,h as xt,i as P,B as wt,j as xe,s as Dt,x as f,I as Ct,c as g,b as r,a as n,k as we,v as Tt,l as s,m as De,n as x,w as v,q as $t,y as A,o as m,z as j,d as k,t as $,A as At,H as St,G as Mt}from"./entry.bf605837.js";import{u as S}from"./useUtils.fcb0bcb4.js";import{u as T}from"./useMyFetch.9c1d1cb2.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Search.5bebc889.js";import"./Adjust.1c236050.js";import"./TableHeaderEye.2f1ff207.js";import"./ClearAll.30a0aefc.js";import"./ClearEach.ef65f15e.js";import"./CaretLeftDoubleBold.e7ba5515.js";import"./CaretLeftBold.34ff96cd.js";import"./CaretRightBold.ee8d2d47.js";import"./CaretRightDoubleBold.422c9d47.js";import"./Exclamation.3501db46.js";import"./HeaderPopup.vue.5964ff22.js";import"./InputPointFormat.vue.278d52b8.js";import"./Refresh.89c8f5ca.js";const Bt={class:"w-full h-full flex flex-col"},jt={class:"w-full flex grow flex-col overflow-auto h-0"},Nt={class:"w-full flex justify-between flex-wrap"},Pt={class:"grow flex"},Ft={class:"m-1"},qt=St('<option value="ticket_not_done">Undone</option><option value="ticket_done">Done</option><option value="deleted">Trash</option><option value="all">All</option><option value="req_deleted">Req Delete</option>',5),Ot=[qt],Ut={class:"flex"},Vt=n("b",null,"tidak dapat dibatalkan lagi",-1),Yt={class:"grow mb-5"},Ht=n("b",{class:"text-red-500"},"dibersihkan",-1),It=n("b",{class:"text-red-500"},"divalidasi",-1),zt=n("b",{class:"text-red-500"},"di unvalidasi",-1),Et={key:0,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-20 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},Rt={class:"relative",style:{width:"95%",height:"90%"}},Jt={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},Lt={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},Kt={class:"w-full p-1"},Gt={class:"w-full p-1 bg-gray-200"},Xt=n("div",{class:"w-full text-blue-600 font-bold"}," Set Date For Load Data ",-1),Zt={class:"w-full grid grid-cols-2 grid-rows-1 gap-1"},Qt={class:"flex flex-col flex-wrap p-1"},Wt=n("label",{for:""},"From",-1),ea={class:"grow"},ta={class:"flex flex-col flex-wrap p-1"},aa=n("label",{for:""},"To",-1),la={class:"grow"},oa={key:1,class:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-10 p-3",style:{"background-color":"rgba(255,255,255,0.9)"}},sa={class:"relative",style:{border:"solid 1px #ccc"}},na={class:"absolute -top-7 right-0 bg-white",style:{position:"absolute",padding:"5px 10px",border:"solid 1px #ccc","border-bottom":"none","border-top-right-radius":"5px","border-top-left-radius":"5px"}},ia={class:"w-full h-full flex flex-col items-center justify-content-center bg-white"},ra={class:"w-full p-1"},_a={class:"w-full p-1"},ua=n("div",{class:"w-full text-gray-600 font-bold text-center"}," Set Mobil Yang Tidak Di Izinkan Untuk Di Update Tiketnya ",-1),da={class:"w-full"},ca={class:"w-full grid grid-cols-2 gap-1 p-1 mt-5"},Za={__name:"ticket",async setup(pa){let Y,re;const{$moment:H}=Mt(),{pointFormat:_e}=S(),ue=t=>t.deleted==1?"!bg-red-400":t.req_deleted==1?"!bg-yellow-300":t.val_ticket==1?"!bg-blue-300":"",Z=t=>(t.map(e=>{e.class_h=ue(e)}),t);let I=_({clearCheckBox:!1});const M=_("ticket_not_done");ht(()=>M.value,t=>{fe()},{immediate:!1});const b={};b._TimeZoneOffset=new Date().getTimezoneOffset(),b.sort="tanggal:desc";const de=_({}),z=_({from:"",to:""}),w=gt("token"),{data:Q}=([Y,re]=xt(async()=>$t(async()=>{f().loading_full=!0;let t=[],e=[],d=[];const[p,l,c]=await Promise.all([T("/trx_trp_tickets",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},params:{filter_status:M},retry:0}),T("/vehicles_available",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},retry:0}),T("/temp_data/vehiclesAllowedUpdateTicket",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},retry:0})]);return p.status.value!=="error"&&(t=Z(p.data.value.data)),p.status.value==="error"?(A().trigger(p.error),{trx_trps:t}):(l.status.value!=="error"&&(e=l.data.value.data),c.status.value!=="error"&&(d=c.data.value.data),f().loading_full=!1,{trx_trps:t,list_vehicle:e,vehicles_allowed:d})},"$X4xCu6yBOs")),Y=await Y,re(),Y),i=_(Q.value.trx_trps||[]),W=_([]);Q.value.list_vehicle.forEach(t=>{W.value.push({id:t.id,name:t.no_pol,title:"",checked:Q.value.vehicles_allowed.indexOf(t.id)>-1})});const ce=_([]),Ce=async(t,e="")=>{f().loading_full=!0;let d=y.value.from?H(y.value.from).format("Y-MM-DD"):"",p=y.value.to?H(y.value.to).format("Y-MM-DD"):"";const{data:l,error:c,status:o}=await T("/trx_load_for_trp",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},params:{jenis:t,from:d,to:p,transition_target:e},retry:0});if(f().loading_full=!1,o.value==="error"){A().trigger(c);return}ce.value=l.value.list_ticket},ee=_({field:"tanggal",by:"desc"}),u=_(-1),h=P(()=>i.value[u.value]),D=_({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),Te=()=>{b.like="";let t=JSON.parse(JSON.stringify(f()._tv.global_keyword));t!=""&&(b.like=`id:%${t}%,xto:%${t}%,jenis:%${t}%,pv_no:%${t}%,ticket_a_no:%${t}%,ticket_b_no:%${t}%,no_pol:%${t}%,supir:%${t}%,kernet:%${t}%,cost_center_code:%${t}%,cost_center_desc:%${t}%,pvr_no:%${t}%,tanggal:%${t}%,transition_target:%${t}%,uj_asst_opt:%${t}%`),b.sort="",ee.value.field&&(b.sort=ee.value.field+":"+ee.value.by),b.date_from=z.value.from?H(z.value.from).format("YYYY-MM-DD"):"",b.date_to=z.value.to?H(z.value.to).format("YYYY-MM-DD"):"",b.filter_model=JSON.stringify(f()._tv.filter_model)},pe=async()=>{f().loading_full=!0,de.value={},D.value.may_get_data=!1,b.page=D.value.page,b.page==1&&(i.value=[]),b.first_row&&delete b.first_row,b.page>1&&(b.first_row=JSON.stringify(i.value[0])),b.filter_status=M.value;const{data:t,error:e,status:d}=await T("/trx_trp_tickets",{method:"get",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},params:b,retry:0});if(f().loading_full=!1,D.value.may_get_data=!0,d.value==="error"){A().trigger(e,de);return}D.value.page==1?i.value=Z(t.value.data):D.value.page>1&&(i.value=[...i.value,...Z(t.value.data)]),t.value.data.length==0&&(D.value.is_last_record=!0),f()._tv.filter_box=!1},fe=()=>{u.value=-1,D.value.page=1,D.value.is_last_record=!1,Te(),pe()};wt();const te=_(!1),ve=_(0),{display:N}=xe();Dt(xe());const F=_(1),$e=()=>{u.value==-1?N({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(ve.value=i.value[u.value].id,F.value=-1,te.value=!0)},q=_(!1),E=_(0),Ae=()=>{u.value==-1?N({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=i.value[u.value].id,F.value=1,q.value=!0)},Se=()=>{u.value==-1?N({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=i.value[u.value].id,F.value=0,q.value=!0)},Me=()=>{u.value==-1?N({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(E.value=i.value[u.value].id,F.value=-1,q.value=!0)},ae=_(!1),me=_(0),Be=t=>{me.value=t,ae.value=!0},ke=_({}),O=_(!1),je=_(""),Ne=async()=>{O.value&&(O.value=!1)},R=_(!1),J=_(!1),L=_(!1),U=_(""),Pe=()=>{var t;u.value==-1?N({show:!0,status:"Failed",message:"Silahkan Pilih Data Terlebih Dahulu"}):(je.value="",U.value="",ke.value={id:i.value[u.value].id,"no pol":i.value[u.value].no_pol,tujuan:i.value[u.value].xto,permintaan:(t=i.value[u.value].req_deleted_by)==null?void 0:t.username,alasan:i.value[u.value].req_deleted_reason},O.value=!0)},Fe=async()=>{f().loading_full=!0;const t=new FormData;t.append("id",i.value[u.value].id),t.append("_method","DELETE"),t.append("reason_adder",U.value);const{data:e,error:d,status:p}=await T("/trx_trp_approve_req_delete",{method:"post",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:t,retry:0});if(f().loading_full=!1,p.value==="error"){A().trigger(d);return}let l={...i.value[u.value]};l.deleted=e.value.deleted,l.deleted_user=e.value.deleted_user,l.deleted_at=e.value.deleted_at,l.deleted_by=e.value.deleted_by,l.deleted_reason=e.value.deleted_reason,l.class_h=ue(l),M.value!="all"?i.value.splice(u.value,1):i.value.splice(u.value,1,{...l}),u.value=-1,O.value=!1},qe=async()=>{f().loading_full=!0;const t=new FormData;t.append("ids",JSON.stringify(B.value)),t.append("_method","PUT");const{data:e,error:d,status:p}=await T("/trx_trp_val_tickets",{method:"post",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:t,retry:0});if(f().loading_full=!1,p.value==="error"){A().trigger(d);return}J.value=!1,e.value.val_lists.forEach(l=>{let c=i.value.map(o=>o.id).indexOf(l.id);if(c>-1){let o=i.value[c];o.val_ticket=l.val_ticket,o.val_ticket_by=l.val_ticket_by,o.val_ticket_at=l.val_ticket_at,o.updated_at=l.updated_at,i.value.splice(c,1,{...o})}}),I.value.clearCheckBox=!0},Oe=async()=>{f().loading_full=!0;const t=new FormData;t.append("ids",JSON.stringify(B.value)),t.append("_method","PUT");const{data:e,error:d,status:p}=await T("/trx_trp_unval_tickets",{method:"post",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:t,retry:0});if(f().loading_full=!1,p.value==="error"){A().trigger(d);return}L.value=!1,e.value.val_lists.forEach(l=>{let c=i.value.map(o=>o.id).indexOf(l.id);if(c>-1){let o=i.value[c];o.val_ticket=l.val_ticket,o.val_ticket_by=l.val_ticket_by,o.val_ticket_at=l.val_ticket_at,o.updated_at=l.updated_at,i.value.splice(c,1,{...o})}}),I.value.clearCheckBox=!0},Ue=async()=>{f().loading_full=!0;const t=new FormData;t.append("ids",JSON.stringify(B.value)),t.append("_method","PUT");const{data:e,error:d,status:p}=await T("/trx_trp_clear_tickets",{method:"post",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:t,retry:0});if(f().loading_full=!1,p.value==="error"){A().trigger(d);return}R.value=!1,e.value.clear_lists.forEach(l=>{let c=i.value.map(o=>o.id).indexOf(l.id);if(c>-1){let o=i.value[c];o.ticket_a_id=l.ticket_a_id,o.ticket_a_no=l.ticket_a_no,o.ticket_b_id=l.ticket_b_id,o.ticket_b_no=l.ticket_b_no,o.updated_at=l.updated_at,i.value.splice(c,1,{...o})}}),I.value.clearCheckBox=!0},le=_(!1),Ve=t=>{le.value=!0},K=_(!1),y=_({from:new Date().setDate(new Date().getDate()-3),to:new Date}),be=t=>{t=="from"?y.value.from-y.value.to>0&&(y.value.from=y.value.to):y.value.to-y.value.from<0&&(y.value.to=y.value.from)},Ye=async()=>{f().loading_full=!0;const t=new FormData;t.append("vehicles",JSON.stringify(W.value.filter(l=>l.checked).map(l=>l.id)));const{data:e,error:d,status:p}=await T("/trx_trp_do_update_ticket",{method:"post",headers:{Authorization:`Bearer ${w.value}`,Accept:"application/json"},body:t,retry:0});if(f().loading_full=!1,p.value==="error"){A().trigger(d);return}e.value.data.forEach(l=>{let c=i.value.map(o=>o.id).indexOf(l.id);if(c!==-1){let o=i.value[c];o.ticket_a_id=l.ticket_a_id,o.ticket_a_no=l.ticket_a_no,o.ticket_a_bruto=l.ticket_a_bruto,o.ticket_a_tara=l.ticket_a_tara,o.ticket_a_netto=l.ticket_a_netto,o.ticket_a_supir=l.ticket_a_supir,o.ticket_a_no_pol=l.ticket_a_no_pol,o.ticket_a_in_at=l.ticket_a_in_at,o.ticket_a_out_at=l.ticket_a_out_at,o.ticket_b_id=l.ticket_b_id,o.ticket_b_no=l.ticket_b_no,o.ticket_b_bruto=l.ticket_b_bruto,o.ticket_b_tara=l.ticket_b_tara,o.ticket_b_netto=l.ticket_b_netto,o.ticket_b_supir=l.ticket_b_supir,o.ticket_b_no_pol=l.ticket_b_no_pol,o.ticket_b_in_at=l.ticket_b_in_at,o.ticket_b_out_at=l.ticket_b_out_at,o.updated_at=l.updated_at,i.value.splice(c,1,{...o})}}),N({show:!0,status:"Success",message:"Update PV Done"})},B=_([]),He=_([{key:"cb",label:"",checkbox:"id"},{key:"no",label:"No",isai:!0},{key:"val_ticket",label:"Logistik",filter_on:1,type:"select",select_item:[{k:"1",v:"Approve"},{k:"0",v:"Unapprove"}]},{key:"id",label:"ID",filter_on:1,type:"number",sort:{priority:1,type:"desc"}},{key:"tanggal",label:"U.Jalan Per",type:"date",dateformat:"DD-MM-Y",filter_on:1},{key:"no_pol",label:"No Pol",freeze:1,filter_on:1,type:"string"},{key:"xto",label:"Tujuan",filter_on:1,type:"string"},{key:"uj_asst_opt",label:"Info",filter_on:1,type:"select",select_item:["DENGAN KERNET","TANPA KERNET"]},{key:"tipe",label:"Tipe",filter_on:1,type:"string"},{key:"jenis",label:"Jenis",filter_on:1,type:"select",select_item:["TBS","TBSK","CPO","PK","LAIN"]},{key:"amount",label:"Amount",class:" justify-end",filter_on:1,type:"number"},{key:"transition",label:"Peralihan",childs:[{key:"transition_type",label:"Type",type:"select",filter_on:1,select_item:["To","From"]},{key:"transition_target",label:"Target",type:"select",filter_on:1,select_item:f().list_pabrik}]},{key:"ticket_a",label:"Ticket A",childs:[{key:"ticket_a_no",label:"No",filter_on:1,type:"string"},{key:"ticket_a_bruto",label:"Bruto",filter_on:1,type:"number"},{key:"ticket_a_tara",label:"Tara",filter_on:1,type:"number"},{key:"ticket_a_netto",label:"Netto",filter_on:1,type:"number"},{key:"ticket_a_supir",label:"Supir",filter_on:1,type:"string"},{key:"ticket_a_no_pol",label:"No Pol",filter_on:1,type:"string"},{key:"ticket_a_in_at",label:"In At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"ticket_a_out_at",label:"Out At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1}]},{key:"ticket_b",label:"Ticket B",childs:[{key:"ticket_b_no",label:"No",filter_on:1,type:"string"},{key:"ticket_b_bruto",label:"Bruto",filter_on:1,type:"number"},{key:"ticket_b_tara",label:"Tara",filter_on:1,type:"number"},{key:"ticket_b_netto",label:"Netto",filter_on:1,type:"number"},{key:"ticket_b_supir",label:"Supir",filter_on:1,type:"string"},{key:"ticket_b_no_pol",label:"No Pol",filter_on:1,type:"string"},{key:"ticket_b_in_at",label:"In At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"ticket_b_out_at",label:"Out At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1}]},{key:"susut",label:"Susut",childs:[{key:"susut_bruto",label:"Bruto",childs:[{key:"susut_bruto_b_a",label:"Selisih"},{key:"susut_bruto_b_a_persen",label:"%"}]},{key:"susut_tara",label:"Tara",childs:[{key:"susut_tara_b_a",label:"Selisih"},{key:"susut_tara_b_a_persen",label:"%"}]},{key:"susut_netto",label:"Netto",childs:[{key:"susut_netto_b_a",label:"Selisih"},{key:"susut_netto_b_a_persen",label:"%"}]}]},{key:"supir",label:"Supir",filter_on:1,type:"string"},{key:"kernet",label:"Kernet",filter_on:1,type:"string"},{key:"created_at",label:"Created At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"updated_at",label:"Updated At",type:"datetime",dateformat:"DD-MM-Y HH:mm:ss",filter_on:1},{key:"pv_no",label:"PV No",type:"string"},{key:"deleted_by_username",label:"Deleted By",tbl_show:1},{key:"deleted_at",label:"Deleted At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:1,type:"datetime",filter_on:1},{key:"deleted_reason",label:"Deleted Reason",tbl_show:1,type:"string",filter_on:1},{key:"req_deleted_by_username",label:"Req Deleted By",tbl_show:1},{key:"req_deleted_at",label:"Req Delete At",dateformat:"DD-MM-Y HH:mm:ss",tbl_show:1,type:"datetime",filter_on:1},{key:"req_deleted_reason",label:"Req Delete Reason",tbl_show:1,type:"string",filter_on:1}]),Ie=P(()=>u.value>-1&&S().checkPermission("trp_trx.ticket.view")),ze=P(()=>u.value>-1&&h.value.deleted==0&&h.value.req_deleted==0&&h.value.val_ticket==0&&S().checkPermission("trp_trx.ticket.modify")),Ee=P(()=>u.value>-1&&h.value.deleted==0&&h.value.req_deleted==0&&h.value.val_ticket==0&&S().checkPermission("trp_trx.ticket.val_ticket")),Re=P(()=>u.value>-1&&h.value.deleted==0&&h.value.req_deleted==0&&h.value.val_ticket==1&&S().checkPermission("trp_trx.ticket.unval_ticket")),Je=P(()=>u.value>-1&&h.value.deleted==0&&h.value.req_deleted==1&&h.value.val_ticket==0&&S().checkPermission("trp_trx.approve_request_remove")),G=_(!1),oe=(t,e)=>{t=parseFloat(t)||0,e=parseFloat(e)||0;let d=parseFloat(e-t),p=d>0?e:t;if(p==0)return 0;let l=S().round(d/p*100,2);return l<0?"("+Math.abs(l*100)/100+")":l},se=(t,e)=>{t=parseFloat(t)||0,e=parseFloat(e)||0;let d=parseFloat(e-t);return d<0?"("+_e(Math.abs(d))+")":_e(d)};return(t,e)=>{const d=tt,p=at,l=lt,c=ot,o=st,V=nt,Le=it,Ke=rt,ne=_t,ie=ut,Ge=dt,X=ct,Xe=pt,Ze=ft,Qe=vt,We=mt,ye=kt,he=Ct("vue-date-picker"),ge=bt,et=yt;return m(),g("div",Bt,[r(d,{title:"List Transaction"}),n("div",jt,[n("div",Nt,[n("div",Pt,[n("div",Ft,[we(n("select",{class:"","onUpdate:modelValue":e[0]||(e[0]=a=>De(M)?M.value=a:null)},Ot,512),[[Tt,s(M)]])]),s(ze)?(m(),g("button",{key:0,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[1]||(e[1]=a=>$e())},[r(p)])):x("",!0),s(Ie)?(m(),g("button",{key:1,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[2]||(e[2]=a=>Me())},[r(l)])):x("",!0),s(Je)?(m(),g("button",{key:2,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[3]||(e[3]=a=>Pe())},[r(c)])):x("",!0),s(Ee)?(m(),g("button",{key:3,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[4]||(e[4]=a=>Ae())},[r(o)])):x("",!0),s(Re)?(m(),g("button",{key:4,type:"button",name:"button",class:"m-1 text-2xl",onClick:e[5]||(e[5]=a=>Se())},[r(V)])):x("",!0)]),n("div",Ut,[s(B).length>0&&("useUtils"in t?t.useUtils:s(S))().checkPermission("trp_trx.ticket.unval_ticket")?(m(),g("button",{key:0,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap grid grid-cols-2",onClick:e[6]||(e[6]=a=>L.value=!0)},[r(V),r(V),r(V),r(V)])):x("",!0),s(B).length>0?(m(),g("button",{key:1,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[7]||(e[7]=a=>R.value=!0)}," Multi Clear Ticket ")):x("",!0),s(B).length>0?(m(),g("button",{key:2,type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap grid grid-cols-2",onClick:e[8]||(e[8]=a=>J.value=!0)},[r(o),r(o),r(o),r(o)])):x("",!0),n("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[9]||(e[9]=a=>Ve())}," Check Tickets "),n("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:e[10]||(e[10]=a=>K.value=!0)},[r(Le)]),n("button",{type:"button",name:"button",class:"m-1 text-xs whitespace-nowrap",onClick:e[11]||(e[11]=a=>G.value=!0)}," Update Ticket ")])]),r(Ge,{thead:s(He),selected:s(u),onSetSelected:e[12]||(e[12]=a=>u.value=a),tbody:s(i),fnCallData:pe,scrolling:s(D),onSetScrollingPage:e[13]||(e[13]=a=>s(D).page=a),onDoFilter:e[14]||(e[14]=a=>fe()),onSetCheckbox:e[15]||(e[15]=a=>B.value=a),deep_state:s(I)},{absen:v(({item:a,index:C})=>[a.trx_absens&&a.trx_absens.length>0?(m(),j(Ke,{key:0,class:"cursor-pointer",onClick:fa=>Be(C)},null,8,["onClick"])):x("",!0)]),val:v(({item:a})=>[a.val?(m(),j(ie,{key:1})):(m(),j(ne,{key:0}))]),val1:v(({item:a})=>[a.val1?(m(),j(ie,{key:1})):(m(),j(ne,{key:0}))]),val_ticket:v(({item:a})=>[a.val_ticket?(m(),j(ie,{key:1})):(m(),j(ne,{key:0}))]),uj_asst_opt:v(({item:a})=>{var C;return[k($((C=a.uj)==null?void 0:C.asst_opt),1)]}),susut_bruto_b_a:v(({item:a})=>[k($(se(a.ticket_a_bruto,a.ticket_b_bruto)),1)]),susut_tara_b_a:v(({item:a})=>[k($(se(a.ticket_a_tara,a.ticket_b_tara)),1)]),susut_netto_b_a:v(({item:a})=>[k($(se(a.ticket_a_netto,a.ticket_b_netto)),1)]),susut_bruto_b_a_persen:v(({item:a})=>[k($(oe(a.ticket_a_bruto,a.ticket_b_bruto)),1)]),susut_tara_b_a_persen:v(({item:a})=>[k($(oe(a.ticket_a_tara,a.ticket_b_tara)),1)]),susut_netto_b_a_persen:v(({item:a})=>[k($(oe(a.ticket_a_netto,a.ticket_b_netto)),1)]),deleted_by_username:v(({item:a})=>{var C;return[k($((C=a.deleted_by)==null?void 0:C.username),1)]}),req_deleted_by_username:v(({item:a})=>{var C;return[k($((C=a.req_deleted_by)==null?void 0:C.username),1)]}),_:2},1032,["thead","selected","tbody","scrolling","deep_state"])]),r(X,{type:"custome",show:s(O),data:s(ke),fnClose:Ne,fnConfirm:Fe},{words:v(()=>[k(" Data akan diproses dan "),Vt,k(", apakah Anda menyetujui permintaan penghapusan data berikut? ")]),footer:v(()=>[k(" Alasan Tambahan: "),n("div",Yt,[we(n("textarea",{"onUpdate:modelValue":e[16]||(e[16]=a=>De(U)?U.value=a:null)},null,512),[[At,s(U)]])])]),_:1},8,["show","data"]),r(X,{type:"custome",show:s(R),fnClose:()=>R.value=!1,fnConfirm:Ue},{words:v(()=>[k(" Ticket akan "),Ht,k(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),r(X,{type:"custome",show:s(J),fnClose:()=>J.value=!1,fnConfirm:qe},{words:v(()=>[k(" Ticket akan "),It,k(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),r(X,{type:"custome",show:s(L),fnClose:()=>L.value=!1,fnConfirm:Oe},{words:v(()=>[k(" Ticket akan "),zt,k(" sesuai dengan data-data yang telah di pilih, yakin untuk melanjutkan ? ")]),_:1},8,["show","fnClose"]),r(Xe,{show:s(te),fnClose:()=>{te.value=!1},fnLoadDBData:Ce,id:s(ve),p_data:s(i),list_ticket:s(ce)},null,8,["show","fnClose","id","p_data","list_ticket"]),r(Ze,{show:s(q),fnClose:()=>{q.value=!1},id:s(E),p_data:s(i),it_state:s(F)},null,8,["show","fnClose","id","p_data","it_state"]),r(Qe,{show:s(ae),fnClose:()=>{ae.value=!1},index:s(me),p_data:s(i)},null,8,["show","fnClose","index","p_data"]),r(We,{show:s(le),fnClose:()=>{le.value=!1}},null,8,["show","fnClose"]),s(K)?(m(),g("div",Et,[n("div",Rt,[n("div",Jt,[r(ye,{style:{color:"black",cursor:"pointer"},onClick:e[17]||(e[17]=a=>K.value=!1)})]),n("div",Lt,[n("div",Kt,[n("div",Gt,[Xt,n("div",Zt,[n("div",Qt,[Wt,n("div",ea,[r(ge,null,{default:v(()=>[r(he,{modelValue:s(y).from,"onUpdate:modelValue":e[18]||(e[18]=a=>s(y).from=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:e[19]||(e[19]=a=>be("from"))},null,8,["modelValue"])]),_:1})])]),n("div",ta,[aa,n("div",la,[r(ge,null,{default:v(()=>[r(he,{modelValue:s(y).to,"onUpdate:modelValue":e[20]||(e[20]=a=>s(y).to=a),type:"datetime",format:"dd-MM-yyyy","enable-time-picker":!1,clearable:!1,"text-input":"","teleport-center":"",onClosed:e[21]||(e[21]=a=>be("to"))},null,8,["modelValue"])]),_:1})])])])])])]),n("div",{style:{position:"absolute",top:"12px",right:"98px","background-color":"rgba(255,255,255,0)",width:"37px",height:"36px","z-index":"1",cursor:"pointer"},onClick:e[22]||(e[22]=a=>K.value=!1)})])])):x("",!0),s(G)?(m(),g("div",oa,[n("div",sa,[n("div",na,[r(ye,{style:{color:"black",cursor:"pointer"},onClick:e[23]||(e[23]=a=>G.value=!1)})]),n("div",ia,[n("div",ra,[n("div",_a,[ua,n("div",da,[r(et,{arr:s(W)},null,8,["arr"]),n("div",ca,[n("button",{type:"button",name:"button",class:"bg-blue-500 text-white",onClick:e[24]||(e[24]=a=>Ye())}," Set & Update "),n("button",{type:"button",name:"button",class:"bg-white",onClick:e[25]||(e[25]=a=>G.value=!1)}," Close ")])])])])])])])):x("",!0)])}}};export{Za as default};
