import{z as A,r as i,L as v,g as p,o as D,c as V,k as j}from"./entry.36384ee0.js";const x=["value"],K=A({__name:"InputPointFormat",props:{value:{type:[Number,String],required:!0,default:0},show:{type:Boolean,required:!1,default:!0}},emits:["input","nextBlur"],setup(m,{emit:c}){const l=m;let o=-1;i(!0);const u=i(0),f=e=>{let r=typeof e=="object"?e.target.value:e;r=r||l.value;let[t,n]=a(r);u.value=n,c("input",t)};v(e=>e?new Intl.NumberFormat("id-ID",{minimumFractionDigits:2}).format(e):0);const g=/[a-zA-Z .<>?/\\|:;'"\[\]{}=+=_()*&^%$#@!~`]/,d=e=>{o+=1,s(e)},a=e=>{let r=e.toString().replace(/(?!^-)[^,0-9]/g,"");if(r=="")return[0,0];let t=r.split(","),n=t.shift(),b=n+(t.length==0?"":"."+t.join("")),k=n.replace(/\B(?=(\d{3})+(?!\d))/g,".")+(t.length==0?"":","+t.join(""));return[b,k]},w=e=>{let r=e.toString().replace(/\./g,",");if(r=="")return 0;let t=r.split(",");return t.shift().replace(/\B(?=(\d{3})+(?!\d))/g,".")+(t.length==0?"":","+t.join(""))},s=(e,r=!1)=>{let t=0,n="";o==0||r?(t=e,n=w(e)):[t,n]=a(e),u.value=n},h=["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Tab"],y=e=>{e.ctrlKey==!1&&!h.includes(e.key)&&e.key.match(g)&&e.preventDefault(),e.key=="0"&&(e.target.value===0||e.target.value==="0")&&e.preventDefault()},B=e=>{e.target.select(),e.target.setSelectionRange(0,99999)};return p(()=>l.show,(e,r)=>{o=0},{immediate:!0}),p(()=>l.value,(e,r)=>{s(e,!0)},{immediate:!0,deep:!0}),(e,r)=>(D(),V("input",{type:"text",value:j(u),onKeydown:r[0]||(r[0]=t=>y(t)),onKeyup:r[1]||(r[1]=t=>d(t.target.value)),onBlur:r[2]||(r[2]=t=>(f(t),e.$emit("nextBlur",t))),onFocus:r[3]||(r[3]=t=>B(t))},null,40,x))}});export{K as _};
