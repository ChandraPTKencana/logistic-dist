import{_ as L}from"./HeaderPopup.vue.18c239de.js";import V from"./Refresh.1c47e60f.js";import{r as d,g as T,f as q,k as O,K as P,o as t,c as o,a as e,b as N,l as a,F as _,D as f,t as n,n as v,x as S,y as $,p as j,e as z}from"./entry.2e55fce6.js";import{u as E}from"./useUtils.9f62da36.js";import{u as H}from"./useMyFetch.0530ba89.js";import{_ as K}from"./_plugin-vue_export-helper.c27b6911.js";import"./Times.5750f9da.js";const y=l=>(j("data-v-66f08dae"),l=l(),z(),l),M={class:"box-fixed"},R={class:"w-full flex grow flex-col overflow-auto h-0"},U={class:"w-full flex justify-between flex-wrap"},Z={class:"grow flex"},G={class:"w-full flex flex-col overflow-auto grow h-0 p-1"},J={key:0,class:"w-full"},Q=y(()=>e("div",null," PV yang nilai nya tidak sama diascend ",-1)),W={class:"tacky"},X=y(()=>e("thead",null,[e("tr",null,[e("th",null,"NO."),e("th",null,"Header"),e("th",null,"Detail"),e("th",null,"Selisih")])],-1)),Y={class:"w-full"},ee={key:0},te={key:1},oe={class:"tacky w-full"},le=y(()=>e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Nominal")])],-1)),se={__name:"rpt_salary_check",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},id:{type:Number,required:!0,default:0}},setup(l){const w=l,{pointFormat:u}=E(),c={};c._TimeZoneOffset=new Date().getTimezoneOffset(),c.sort="tanggal:desc";const k=d({}),C=T("token"),h=d([]),g=d([]);d(-1);const x=async()=>{S().loading_full=!0,k.value={},c.id=w.id;const{data:r,error:i,status:p}=await H("/rpt_salary/check_nilai_ascend",{method:"get",headers:{Authorization:`Bearer ${C.value}`,Accept:"application/json"},params:c,retry:0});if(S().loading_full=!1,p.value==="error"){$().trigger(i,k);return}h.value=r.value.total_tidak_sesuai,g.value=r.value.pembanding},D=()=>{x()};return q(()=>w.show,(r,i)=>{r==!0&&x()},{immediate:!0}),(r,i)=>{const p=L,F=V;return O((t(),o("section",M,[e("div",null,[N(p,{title:"Form Check Nilai",fn:l.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("div",R,[e("div",U,[e("div",Z,[e("button",{type:"button",name:"button",class:"m-1 text-2xl",onClick:i[0]||(i[0]=s=>D())},[N(F)])])]),e("div",G,[a(h).length>0?(t(),o("div",J,[Q,e("table",W,[X,e("tbody",null,[(t(!0),o(_,null,f(a(h),(s,m)=>(t(),o("tr",{key:m},[e("td",null,n(s.no),1),e("td",null,n(a(u)(s.header||0)),1),e("td",null,n(a(u)(s.detail||0)),1),e("td",null,n(a(u)(s.selisih||0)),1)]))),128))])])])):v("",!0),(t(!0),o(_,null,f(a(g),(s,m)=>(t(),o("div",Y,[e("div",null,n(m),1),(t(!0),o(_,null,f(s,(B,b)=>(t(),o("div",null,[b=="AL"?(t(),o("div",ee,"Ascend Ada / Local Tidak Ada")):v("",!0),b=="LA"?(t(),o("div",te,"Local Ada / Ascend Tidak Ada")):v("",!0),e("table",oe,[le,e("tbody",null,[(t(!0),o(_,null,f(B,(A,I)=>(t(),o("tr",{key:I},[e("td",null,n(A.voucherno),1),e("td",null,n(a(u)(A.amount||0)),1)]))),128))])])]))),256))]))),256))])])])],512)),[[P,l.show]])}}},_e=K(se,[["__scopeId","data-v-66f08dae"]]);export{_e as default};
